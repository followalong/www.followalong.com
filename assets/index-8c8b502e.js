(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function makeMap(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function normalizeStyle(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=isString(r)?parseStringStyle(r):normalizeStyle(r);if(s)for(const o in s)t[o]=s[o]}return t}else{if(isString(e))return e;if(isObject(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray$1(e))for(let n=0;n<e.length;n++){const r=normalizeClass(e[n]);r&&(t+=r+" ")}else if(isObject(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=looseEqual(e[r],t[r]);return n}function looseEqual(e,t){if(e===t)return!0;let n=isDate(e),r=isDate(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=isSymbol(e),r=isSymbol(t),n||r)return e===t;if(n=isArray$1(e),r=isArray$1(t),n||r)return n&&r?looseCompareArrays(e,t):!1;if(n=isObject(e),r=isObject(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,o=Object.keys(t).length;if(s!==o)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!looseEqual(e[a],t[a]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(n=>looseEqual(n,t))}const toDisplayString=e=>isString(e)?e:e==null?"":isArray$1(e)||isObject(e)&&(e.toString===objectToString||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject(t)&&!isArray$1(t)&&!isPlainObject(t)?String(t):t,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate=e=>toTypeString(e)==="[object Date]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>isObject(e)&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},def=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},toNumber$2=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(t){if(this.active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];wasTracked(s)&&!newTracked(s)?s.delete(e):t[n++]=s,s.w&=~trackOpBit,s.n&=~trackOpBit}t.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,r)}run(){if(!this.active)return this.fn();let t=activeEffect,n=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,n){if(shouldTrack&&activeEffect){let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=createDep()),trackEffects(s)}}function trackEffects(e,t){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,n=!wasTracked(e)):n=!e.has(activeEffect),n&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,n,r,s,o){const a=targetMap.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&isArray$1(e)){const c=toNumber$2(r);a.forEach((u,f)=>{(f==="length"||f>=c)&&l.push(u)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":isArray$1(e)?isIntegerKey(n)&&l.push(a.get("length")):(l.push(a.get(ITERATE_KEY)),isMap(e)&&l.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(l.push(a.get(ITERATE_KEY)),isMap(e)&&l.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&l.push(a.get(ITERATE_KEY));break}if(l.length===1)l[0]&&triggerEffects(l[0]);else{const c=[];for(const u of l)u&&c.push(...u);triggerEffects(createDep(c))}}function triggerEffects(e,t){const n=isArray$1(e)?e:[...e];for(const r of n)r.computed&&triggerEffect(r);for(const r of n)r.computed||triggerEffect(r)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=toRaw(this);for(let o=0,a=this.length;o<a;o++)track(r,"get",o+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(toRaw)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){pauseTracking();const r=toRaw(this)[t].apply(this,n);return resetTracking(),r}}),e}function createGetter(e=!1,t=!1){return function(r,s,o){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&o===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(r))return r;const a=isArray$1(r);if(!e&&a&&hasOwn(arrayInstrumentations,s))return Reflect.get(arrayInstrumentations,s,o);const l=Reflect.get(r,s,o);return(isSymbol(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(e||track(r,"get",s),t)?l:isRef(l)?a&&isIntegerKey(s)?l:l.value:isObject(l)?e?readonly(l):reactive(l):l}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(n,r,s,o){let a=n[r];if(isReadonly(a)&&isRef(a)&&!isRef(s))return!1;if(!e&&(!isShallow(s)&&!isReadonly(s)&&(a=toRaw(a),s=toRaw(s)),!isArray$1(n)&&isRef(a)&&!isRef(s)))return a.value=s,!0;const l=isArray$1(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn(n,r),c=Reflect.set(n,r,s,o);return n===toRaw(o)&&(l?hasChanged(s,a)&&trigger(n,"set",r,s):trigger(n,"add",r,s)),c}}function deleteProperty(e,t){const n=hasOwn(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&trigger(e,"delete",t,void 0),r}function has(e,t){const n=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),n}function ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1(e,t,n=!1,r=!1){e=e.__v_raw;const s=toRaw(e),o=toRaw(t);n||(t!==o&&track(s,"get",t),track(s,"get",o));const{has:a}=getProto(s),l=r?toShallow:n?toReadonly:toReactive;if(a.call(s,t))return l(e.get(t));if(a.call(s,o))return l(e.get(o));e!==s&&e.get(t)}function has$1(e,t=!1){const n=this.__v_raw,r=toRaw(n),s=toRaw(e);return t||(e!==s&&track(r,"has",e),track(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$1(e,t){t=toRaw(t);const n=toRaw(this),{has:r,get:s}=getProto(n);let o=r.call(n,e);o||(e=toRaw(e),o=r.call(n,e));const a=s.call(n,e);return n.set(e,t),o?hasChanged(t,a)&&trigger(n,"set",e,t):trigger(n,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:n,get:r}=getProto(t);let s=n.call(t,e);s||(e=toRaw(e),s=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return s&&trigger(t,"delete",e,void 0),o}function clear(){const e=toRaw(this),t=e.size!==0,n=e.clear();return t&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,t){return function(r,s){const o=this,a=o.__v_raw,l=toRaw(a),c=t?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",ITERATE_KEY),a.forEach((u,f)=>r.call(s,c(u),c(f),o))}}function createIterableMethod(e,t,n){return function(...r){const s=this.__v_raw,o=toRaw(s),a=isMap(o),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,u=s[e](...r),f=n?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",c?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:A,done:_}=u.next();return _?{value:A,done:_}:{value:l?[f(A[0]),f(A[1])]:f(A),done:_}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(o){return get$1(this,o)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(o){return get$1(this,o,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(o){return get$1(this,o,!0)},get size(){return size(this,!0)},has(o){return has$1.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},r={get(o){return get$1(this,o,!0,!0)},get size(){return size(this,!0)},has(o){return has$1.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=createIterableMethod(o,!1,!1),n[o]=createIterableMethod(o,!0,!1),t[o]=createIterableMethod(o,!1,!0),r[o]=createIterableMethod(o,!0,!0)}),[e,n,t,r]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const n=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(hasOwn(n,s)&&s in r?n:r,s,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,n,r,s){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const a=getTargetType(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return s.set(e,l),l}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e),e.dep&&triggerEffects(e.dep)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const n=this.__v_isShallow||isShallow(t)||isReadonly(t);t=n?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:toReactive(t),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>unref(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return isRef(s)&&!isRef(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}var _a;class ComputedRefImpl{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[_a]=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}_a="__v_isReadonly";function computed$1(e,t,n=!1){let r,s;const o=isFunction(e);return o?(r=e,s=NOOP):(r=e.get,s=e.set),new ComputedRefImpl(r,s,o||!s,n)}function warn(e,...t){}function callWithErrorHandling(e,t,n,r){let s;try{s=r?e(...r):e()}catch(o){handleError(o,t,n)}return s}function callWithAsyncErrorHandling(e,t,n,r){if(isFunction(e)){const o=callWithErrorHandling(e,t,n,r);return o&&isPromise(o)&&o.catch(a=>{handleError(a,t,n)}),o}const s=[];for(let o=0;o<e.length;o++)s.push(callWithAsyncErrorHandling(e[o],t,n,r));return s}function handleError(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,l=n;for(;o;){const u=o.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,a,l)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){callWithErrorHandling(c,null,10,[e,a,l]);return}}logError(e,n,s,r)}function logError(e,t,n,r=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const r=t+n>>>1;getId(queue[r])<e?t=r+1:n=r}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const n=queue[t];n&&n.pre&&(queue.splice(t,1),t--,n())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((n,r)=>getId(n)-getId(r)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const n=getId(e)-getId(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||EMPTY_OBJ;let s=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in r){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:A,trim:_}=r[f]||EMPTY_OBJ;_&&(s=n.map(C=>isString(C)?C.trim():C)),A&&(s=n.map(toNumber$2))}let l,c=r[l=toHandlerKey(t)]||r[l=toHandlerKey(camelize(t))];!c&&o&&(c=r[l=toHandlerKey(hyphenate(t))]),c&&callWithAsyncErrorHandling(c,e,6,s);const u=r[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,callWithAsyncErrorHandling(u,e,6,s)}}function normalizeEmitsOptions(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let a={},l=!1;if(!isFunction(e)){const c=u=>{const f=normalizeEmitsOptions(u,t,!0);f&&(l=!0,extend(a,f))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!l?(isObject(e)&&r.set(e,null),null):(isArray$1(o)?o.forEach(c=>a[c]=null):extend(a,o),isObject(e)&&r.set(e,a),a)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(t);let a;try{a=e(...s)}finally{setCurrentRenderingInstance(o),r._d&&setBlockTracking(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[a],slots:l,attrs:c,emit:u,render:f,renderCache:A,data:_,setupState:C,ctx:R,inheritAttrs:P}=e;let W,H;const z=setCurrentRenderingInstance(e);try{if(n.shapeFlag&4){const re=s||r;W=normalizeVNode(f.call(re,re,A,o,C,_,R)),H=c}else{const re=t;W=normalizeVNode(re.length>1?re(o,{attrs:c,slots:l,emit:u}):re(o,null)),H=t.props?c:getFunctionalFallthrough(c)}}catch(re){blockStack.length=0,handleError(re,e,1),W=createVNode(Comment$1)}let q=W;if(H&&P!==!1){const re=Object.keys(H),{shapeFlag:O}=q;re.length&&O&7&&(a&&re.some(isModelListener)&&(H=filterModelListeners(H,a)),q=cloneVNode(q,H))}return n.dirs&&(q=cloneVNode(q),q.dirs=q.dirs?q.dirs.concat(n.dirs):n.dirs),n.transition&&(q.transition=n.transition),W=q,setCurrentRenderingInstance(z),W}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const r in e)(!isModelListener(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function shouldUpdateComponent(e,t,n){const{props:r,children:s,component:o}=e,{props:a,children:l,patchFlag:c}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?hasPropsChanged(r,a,u):!!a;if(c&8){const f=t.dynamicProps;for(let A=0;A<f.length;A++){const _=f[A];if(a[_]!==r[_]&&!isEmitListener(u,_))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?hasPropsChanged(r,a,u):!0:!!a;return!1}function hasPropsChanged(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!isEmitListener(n,o))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function provide(e,t){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[e]=t}}function inject(e,t,n=!1){const r=currentInstance||currentRenderingInstance;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&isFunction(t)?t.call(r.proxy):t}}const INITIAL_WATCHER_VALUE={};function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,{immediate:n,deep:r,flush:s,onTrack:o,onTrigger:a}=EMPTY_OBJ){const l=currentInstance;let c,u=!1,f=!1;if(isRef(e)?(c=()=>e.value,u=isShallow(e)):isReactive(e)?(c=()=>e,r=!0):isArray$1(e)?(f=!0,u=e.some(q=>isReactive(q)||isShallow(q)),c=()=>e.map(q=>{if(isRef(q))return q.value;if(isReactive(q))return traverse(q);if(isFunction(q))return callWithErrorHandling(q,l,2)})):isFunction(e)?t?c=()=>callWithErrorHandling(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return A&&A(),callWithAsyncErrorHandling(e,l,3,[_])}:c=NOOP,t&&r){const q=c;c=()=>traverse(q())}let A,_=q=>{A=H.onStop=()=>{callWithErrorHandling(q,l,4)}},C;if(isInSSRComponentSetup)if(_=NOOP,t?n&&callWithAsyncErrorHandling(t,l,3,[c(),f?[]:void 0,_]):c(),s==="sync"){const q=useSSRContext();C=q.__watcherHandles||(q.__watcherHandles=[])}else return NOOP;let R=f?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const P=()=>{if(H.active)if(t){const q=H.run();(r||u||(f?q.some((re,O)=>hasChanged(re,R[O])):hasChanged(q,R)))&&(A&&A(),callWithAsyncErrorHandling(t,l,3,[q,R===INITIAL_WATCHER_VALUE?void 0:f&&R[0]===INITIAL_WATCHER_VALUE?[]:R,_]),R=q)}else H.run()};P.allowRecurse=!!t;let W;s==="sync"?W=P:s==="post"?W=()=>queuePostRenderEffect(P,l&&l.suspense):(P.pre=!0,l&&(P.id=l.uid),W=()=>queueJob(P));const H=new ReactiveEffect(c,W);t?n?P():R=H.run():s==="post"?queuePostRenderEffect(H.run.bind(H),l&&l.suspense):H.run();const z=()=>{H.stop(),l&&l.scope&&remove(l.scope.effects,H)};return C&&C.push(z),z}function instanceWatch(e,t,n){const r=this.proxy,s=isString(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let o;isFunction(t)?o=t:(o=t.handler,n=t);const a=currentInstance;setCurrentInstance(this);const l=doWatch(s,o.bind(r),n);return a?setCurrentInstance(a):unsetCurrentInstance(),l}function createPathGetter(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function traverse(e,t){if(!isObject(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$1(e))for(let n=0;n<e.length;n++)traverse(e[n],t);else if(isSet(e)||isMap(e))e.forEach(n=>{traverse(n,t)});else if(isPlainObject(e))for(const n in e)traverse(e[n],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const n=getCurrentInstance(),r=useTransitionState();let s;return()=>{const o=t.default&&getTransitionRawChildren(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const P of o)if(P.type!==Comment$1){a=P;break}}const l=toRaw(e),{mode:c}=l;if(r.isLeaving)return emptyPlaceholder(a);const u=getKeepAliveChild(a);if(!u)return emptyPlaceholder(a);const f=resolveTransitionHooks(u,l,r,n);setTransitionHooks(u,f);const A=n.subTree,_=A&&getKeepAliveChild(A);let C=!1;const{getTransitionKey:R}=u.type;if(R){const P=R();s===void 0?s=P:P!==s&&(s=P,C=!0)}if(_&&_.type!==Comment$1&&(!isSameVNodeType(u,_)||C)){const P=resolveTransitionHooks(_,l,r,n);if(setTransitionHooks(_,P),c==="out-in")return r.isLeaving=!0,P.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},emptyPlaceholder(a);c==="in-out"&&u.type!==Comment$1&&(P.delayLeave=(W,H,z)=>{const q=getLeavingNodesForType(r,_);q[String(_.key)]=_,W._leaveCb=()=>{H(),W._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=z})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function resolveTransitionHooks(e,t,n,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:A,onLeave:_,onAfterLeave:C,onLeaveCancelled:R,onBeforeAppear:P,onAppear:W,onAfterAppear:H,onAppearCancelled:z}=t,q=String(e.key),re=getLeavingNodesForType(n,e),O=(Y,ie)=>{Y&&callWithAsyncErrorHandling(Y,r,9,ie)},Q=(Y,ie)=>{const se=ie[1];O(Y,ie),isArray$1(Y)?Y.every(de=>de.length<=1)&&se():Y.length<=1&&se()},J={mode:o,persisted:a,beforeEnter(Y){let ie=l;if(!n.isMounted)if(s)ie=P||l;else return;Y._leaveCb&&Y._leaveCb(!0);const se=re[q];se&&isSameVNodeType(e,se)&&se.el._leaveCb&&se.el._leaveCb(),O(ie,[Y])},enter(Y){let ie=c,se=u,de=f;if(!n.isMounted)if(s)ie=W||c,se=H||u,de=z||f;else return;let fe=!1;const ye=Y._enterCb=Se=>{fe||(fe=!0,Se?O(de,[Y]):O(se,[Y]),J.delayedLeave&&J.delayedLeave(),Y._enterCb=void 0)};ie?Q(ie,[Y,ye]):ye()},leave(Y,ie){const se=String(e.key);if(Y._enterCb&&Y._enterCb(!0),n.isUnmounting)return ie();O(A,[Y]);let de=!1;const fe=Y._leaveCb=ye=>{de||(de=!0,ie(),ye?O(R,[Y]):O(C,[Y]),Y._leaveCb=void 0,re[se]===e&&delete re[se])};re[se]=e,_?Q(_,[Y,fe]):fe()},clone(Y){return resolveTransitionHooks(Y,t,n,r)}};return J}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,n){let r=[],s=0;for(let o=0;o<e.length;o++){let a=e[o];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===Fragment?(a.patchFlag&128&&s++,r=r.concat(getTransitionRawChildren(a.children,t,l))):(t||a.type!==Comment$1)&&r.push(l!=null?cloneVNode(a,{key:l}):a)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function defineComponent(e){return isFunction(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(injectHook(t,r,n),n){let s=n.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(r,t,n,s),s=s.parent}}function injectToKeepAliveRoot(e,t,n,r){const s=injectHook(t,e,r,!0);onUnmounted(()=>{remove(r[t],s)},n)}function injectHook(e,t,n=currentInstance,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const l=callWithAsyncErrorHandling(t,n,e,a);return unsetCurrentInstance(),resetTracking(),l});return r?s.unshift(o):s.push(o),o}}const createHook=e=>(t,n=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...r)=>t(...r),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function withDirectives(e,t){const n=currentRenderingInstance;if(n===null)return e;const r=getExposeProxy(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,l,c,u=EMPTY_OBJ]=t[o];a&&(isFunction(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(l),s.push({dir:a,instance:r,value:l,oldValue:void 0,arg:c,modifiers:u}))}return e}function invokeDirectiveHook(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];o&&(l.oldValue=o[a].value);let c=l.dir[r];c&&(pauseTracking(),callWithAsyncErrorHandling(c,n,8,[e.el,l,e,t]),resetTracking())}}const COMPONENTS="components";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(e,t,n=!0,r=!1){const s=currentRenderingInstance||currentInstance;if(s){const o=s.type;if(e===COMPONENTS){const l=getComponentName(o,!1);if(l&&(l===t||l===camelize(t)||l===capitalize(camelize(t))))return o}const a=resolve(s[e]||o[e],t)||resolve(s.appContext[e],t);return!a&&r?o:a}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}function renderList(e,t,n,r){let s;const o=n&&n[r];if(isArray$1(e)||isString(e)){s=new Array(e.length);for(let a=0,l=e.length;a<l;a++)s[a]=t(e[a],a,void 0,o&&o[a])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,o&&o[a])}else if(isObject(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,o&&o[l]));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(e[u],u,l,o&&o[l])}}else s=[];return n&&(n[r]=s),s}function createSlots(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(isArray$1(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const o=r.fn(...s);return o&&(o.key=r.key),o}:r.fn)}return e}function renderSlot(e,t,n={},r,s){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return t!=="default"&&(n.name=t),createVNode("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),openBlock();const a=o&&ensureValidVNode(o(n)),l=createBlock(Fragment,{key:n.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&e._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function ensureValidVNode(e){return e.some(t=>isVNode(t)?!(t.type===Comment$1||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:n,setupState:r,data:s,props:o,accessCache:a,type:l,appContext:c}=e;let u;if(t[0]!=="$"){const C=a[t];if(C!==void 0)switch(C){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(hasSetupBinding(r,t))return a[t]=1,r[t];if(s!==EMPTY_OBJ&&hasOwn(s,t))return a[t]=2,s[t];if((u=e.propsOptions[0])&&hasOwn(u,t))return a[t]=3,o[t];if(n!==EMPTY_OBJ&&hasOwn(n,t))return a[t]=4,n[t];shouldCacheAccess&&(a[t]=0)}}const f=publicPropertiesMap[t];let A,_;if(f)return t==="$attrs"&&track(e,"get",t),f(e);if((A=l.__cssModules)&&(A=A[t]))return A;if(n!==EMPTY_OBJ&&hasOwn(n,t))return a[t]=4,n[t];if(_=c.config.globalProperties,hasOwn(_,t))return _[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return hasSetupBinding(s,t)?(s[t]=n,!0):r!==EMPTY_OBJ&&hasOwn(r,t)?(r[t]=n,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},a){let l;return!!n[a]||e!==EMPTY_OBJ&&hasOwn(e,a)||hasSetupBinding(t,a)||(l=o[0])&&hasOwn(l,a)||hasOwn(r,a)||hasOwn(publicPropertiesMap,a)||hasOwn(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,r=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:a,watch:l,provide:c,inject:u,created:f,beforeMount:A,mounted:_,beforeUpdate:C,updated:R,activated:P,deactivated:W,beforeDestroy:H,beforeUnmount:z,destroyed:q,unmounted:re,render:O,renderTracked:Q,renderTriggered:J,errorCaptured:Y,serverPrefetch:ie,expose:se,inheritAttrs:de,components:fe,directives:ye,filters:Se}=t;if(u&&resolveInjections(u,r,null,e.appContext.config.unwrapInjectedRef),a)for(const oe in a){const le=a[oe];isFunction(le)&&(r[oe]=le.bind(n))}if(s){const oe=s.call(n,n);isObject(oe)&&(e.data=reactive(oe))}if(shouldCacheAccess=!0,o)for(const oe in o){const le=o[oe],Ne=isFunction(le)?le.bind(n,n):isFunction(le.get)?le.get.bind(n,n):NOOP,xe=!isFunction(le)&&isFunction(le.set)?le.set.bind(n):NOOP,Ee=computed({get:Ne,set:xe});Object.defineProperty(r,oe,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:Te=>Ee.value=Te})}if(l)for(const oe in l)createWatcher(l[oe],r,n,oe);if(c){const oe=isFunction(c)?c.call(n):c;Reflect.ownKeys(oe).forEach(le=>{provide(le,oe[le])})}f&&callHook(f,e,"c");function he(oe,le){isArray$1(le)?le.forEach(Ne=>oe(Ne.bind(n))):le&&oe(le.bind(n))}if(he(onBeforeMount,A),he(onMounted,_),he(onBeforeUpdate,C),he(onUpdated,R),he(onActivated,P),he(onDeactivated,W),he(onErrorCaptured,Y),he(onRenderTracked,Q),he(onRenderTriggered,J),he(onBeforeUnmount,z),he(onUnmounted,re),he(onServerPrefetch,ie),isArray$1(se))if(se.length){const oe=e.exposed||(e.exposed={});se.forEach(le=>{Object.defineProperty(oe,le,{get:()=>n[le],set:Ne=>n[le]=Ne})})}else e.exposed||(e.exposed={});O&&e.render===NOOP&&(e.render=O),de!=null&&(e.inheritAttrs=de),fe&&(e.components=fe),ye&&(e.directives=ye)}function resolveInjections(e,t,n=NOOP,r=!1){isArray$1(e)&&(e=normalizeInject(e));for(const s in e){const o=e[s];let a;isObject(o)?"default"in o?a=inject(o.from||s,o.default,!0):a=inject(o.from||s):a=inject(o),isRef(a)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[s]=a}}function callHook(e,t,n){callWithAsyncErrorHandling(isArray$1(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,r){const s=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString(e)){const o=t[e];isFunction(o)&&watch(s,o)}else if(isFunction(e))watch(s,e.bind(n));else if(isObject(e))if(isArray$1(e))e.forEach(o=>createWatcher(o,t,n,r));else{const o=isFunction(e.handler)?e.handler.bind(n):t[e.handler];isFunction(o)&&watch(s,o,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,l=o.get(t);let c;return l?c=l:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(u=>mergeOptions$1(c,u,a,!0)),mergeOptions$1(c,t,a)),isObject(t)&&o.set(t,c),c}function mergeOptions$1(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&mergeOptions$1(e,o,n,!0),s&&s.forEach(a=>mergeOptions$1(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=internalOptionMergeStrats[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(extend(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend(Object.create(null),e);for(const r in t)n[r]=mergeAsArray(e[r],t[r]);return n}function initProps(e,t,n,r=!1){const s={},o={};def(o,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,s,o);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:shallowReactive(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function updateProps(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:a}}=e,l=toRaw(s),[c]=e.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let A=0;A<f.length;A++){let _=f[A];if(isEmitListener(e.emitsOptions,_))continue;const C=t[_];if(c)if(hasOwn(o,_))C!==o[_]&&(o[_]=C,u=!0);else{const R=camelize(_);s[R]=resolvePropValue(c,l,R,C,e,!1)}else C!==o[_]&&(o[_]=C,u=!0)}}}else{setFullProps(e,t,s,o)&&(u=!0);let f;for(const A in l)(!t||!hasOwn(t,A)&&((f=hyphenate(A))===A||!hasOwn(t,f)))&&(c?n&&(n[A]!==void 0||n[f]!==void 0)&&(s[A]=resolvePropValue(c,l,A,void 0,e,!0)):delete s[A]);if(o!==l)for(const A in o)(!t||!hasOwn(t,A))&&(delete o[A],u=!0)}u&&trigger(e,"set","$attrs")}function setFullProps(e,t,n,r){const[s,o]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(isReservedProp(c))continue;const u=t[c];let f;s&&hasOwn(s,f=camelize(c))?!o||!o.includes(f)?n[f]=u:(l||(l={}))[f]=u:isEmitListener(e.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,a=!0)}if(o){const c=toRaw(n),u=l||EMPTY_OBJ;for(let f=0;f<o.length;f++){const A=o[f];n[A]=resolvePropValue(s,c,A,u[A],e,!hasOwn(u,A))}}return a}function resolvePropValue(e,t,n,r,s,o){const a=e[n];if(a!=null){const l=hasOwn(a,"default");if(l&&r===void 0){const c=a.default;if(a.type!==Function&&isFunction(c)){const{propsDefaults:u}=s;n in u?r=u[n]:(setCurrentInstance(s),r=u[n]=c.call(null,t),unsetCurrentInstance())}else r=c}a[0]&&(o&&!l?r=!1:a[1]&&(r===""||r===hyphenate(n))&&(r=!0))}return r}function normalizePropsOptions(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const o=e.props,a={},l=[];let c=!1;if(!isFunction(e)){const f=A=>{c=!0;const[_,C]=normalizePropsOptions(A,t,!0);extend(a,_),C&&l.push(...C)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!c)return isObject(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(o))for(let f=0;f<o.length;f++){const A=camelize(o[f]);validatePropName(A)&&(a[A]=EMPTY_OBJ)}else if(o)for(const f in o){const A=camelize(f);if(validatePropName(A)){const _=o[f],C=a[A]=isArray$1(_)||isFunction(_)?{type:_}:Object.assign({},_);if(C){const R=getTypeIndex(Boolean,C.type),P=getTypeIndex(String,C.type);C[0]=R>-1,C[1]=P<0||R<P,(R>-1||hasOwn(C,"default"))&&l.push(A)}}}const u=[a,l];return isObject(e)&&r.set(e,u),u}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$1(t)?t.findIndex(n=>isSameType(n,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,t,n)=>{if(t._n)return t;const r=withCtx((...s)=>normalizeSlotValue(t(...s)),n);return r._c=!1,r},normalizeObjectSlots=(e,t,n)=>{const r=e._ctx;for(const s in e){if(isInternalKey(s))continue;const o=e[s];if(isFunction(o))t[s]=normalizeSlot$1(s,o,r);else if(o!=null){const a=normalizeSlotValue(o);t[s]=()=>a}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=toRaw(t),def(t,"_",n)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,a=EMPTY_OBJ;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(extend(s,t),!n&&l===1&&delete s._):(o=!t.$stable,normalizeObjectSlots(t,s)),a=t}else t&&(normalizeVNodeSlots(e,t),a={default:1});if(o)for(const l in s)!isInternalKey(l)&&!(l in a)&&delete s[l]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(e,t){return function(r,s=null){isFunction(r)||(r=Object.assign({},r)),s!=null&&!isObject(s)&&(s=null);const o=createAppContext(),a=new Set;let l=!1;const c=o.app={_uid:uid++,_component:r,_props:s,_container:null,_context:o,_instance:null,version,get config(){return o.config},set config(u){},use(u,...f){return a.has(u)||(u&&isFunction(u.install)?(a.add(u),u.install(c,...f)):isFunction(u)&&(a.add(u),u(c,...f))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,f){return f?(o.components[u]=f,c):o.components[u]},directive(u,f){return f?(o.directives[u]=f,c):o.directives[u]},mount(u,f,A){if(!l){const _=createVNode(r,s);return _.appContext=o,f&&t?t(_,u):e(_,u,A),l=!0,c._container=u,u.__vue_app__=c,getExposeProxy(_.component)||_.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return o.provides[u]=f,c}};return c}}function setRef(e,t,n,r,s=!1){if(isArray$1(e)){e.forEach((_,C)=>setRef(_,t&&(isArray$1(t)?t[C]:t),n,r,s));return}if(isAsyncWrapper(r)&&!s)return;const o=r.shapeFlag&4?getExposeProxy(r.component)||r.component.proxy:r.el,a=s?null:o,{i:l,r:c}=e,u=t&&t.r,f=l.refs===EMPTY_OBJ?l.refs={}:l.refs,A=l.setupState;if(u!=null&&u!==c&&(isString(u)?(f[u]=null,hasOwn(A,u)&&(A[u]=null)):isRef(u)&&(u.value=null)),isFunction(c))callWithErrorHandling(c,l,12,[a,f]);else{const _=isString(c),C=isRef(c);if(_||C){const R=()=>{if(e.f){const P=_?hasOwn(A,c)?A[c]:f[c]:c.value;s?isArray$1(P)&&remove(P,o):isArray$1(P)?P.includes(o)||P.push(o):_?(f[c]=[o],hasOwn(A,c)&&(A[c]=f[c])):(c.value=[o],e.k&&(f[e.k]=c.value))}else _?(f[c]=a,hasOwn(A,c)&&(A[c]=a)):C&&(c.value=a,e.k&&(f[e.k]=a))};a?(R.id=-1,queuePostRenderEffect(R,n)):R()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:a,createText:l,createComment:c,setText:u,setElementText:f,parentNode:A,nextSibling:_,setScopeId:C=NOOP,insertStaticContent:R}=e,P=(m,E,S,w=null,x=null,V=null,U=!1,M=null,D=!!E.dynamicChildren)=>{if(m===E)return;m&&!isSameVNodeType(m,E)&&(w=j(m),Te(m,x,V,!0),m=null),E.patchFlag===-2&&(D=!1,E.dynamicChildren=null);const{type:k,ref:ee,shapeFlag:G}=E;switch(k){case Text$1:W(m,E,S,w);break;case Comment$1:H(m,E,S,w);break;case Static:m==null&&z(E,S,w,U);break;case Fragment:fe(m,E,S,w,x,V,U,M,D);break;default:G&1?O(m,E,S,w,x,V,U,M,D):G&6?ye(m,E,S,w,x,V,U,M,D):(G&64||G&128)&&k.process(m,E,S,w,x,V,U,M,D,Ae)}ee!=null&&x&&setRef(ee,m&&m.ref,V,E||m,!E)},W=(m,E,S,w)=>{if(m==null)r(E.el=l(E.children),S,w);else{const x=E.el=m.el;E.children!==m.children&&u(x,E.children)}},H=(m,E,S,w)=>{m==null?r(E.el=c(E.children||""),S,w):E.el=m.el},z=(m,E,S,w)=>{[m.el,m.anchor]=R(m.children,E,S,w,m.el,m.anchor)},q=({el:m,anchor:E},S,w)=>{let x;for(;m&&m!==E;)x=_(m),r(m,S,w),m=x;r(E,S,w)},re=({el:m,anchor:E})=>{let S;for(;m&&m!==E;)S=_(m),s(m),m=S;s(E)},O=(m,E,S,w,x,V,U,M,D)=>{U=U||E.type==="svg",m==null?Q(E,S,w,x,V,U,M,D):ie(m,E,x,V,U,M,D)},Q=(m,E,S,w,x,V,U,M)=>{let D,k;const{type:ee,props:G,shapeFlag:te,transition:ne,dirs:ce}=m;if(D=m.el=a(m.type,V,G&&G.is,G),te&8?f(D,m.children):te&16&&Y(m.children,D,null,w,x,V&&ee!=="foreignObject",U,M),ce&&invokeDirectiveHook(m,null,w,"created"),G){for(const pe in G)pe!=="value"&&!isReservedProp(pe)&&o(D,pe,null,G[pe],V,m.children,w,x,K);"value"in G&&o(D,"value",null,G.value),(k=G.onVnodeBeforeMount)&&invokeVNodeHook(k,w,m)}J(D,m,m.scopeId,U,w),ce&&invokeDirectiveHook(m,null,w,"beforeMount");const me=(!x||x&&!x.pendingBranch)&&ne&&!ne.persisted;me&&ne.beforeEnter(D),r(D,E,S),((k=G&&G.onVnodeMounted)||me||ce)&&queuePostRenderEffect(()=>{k&&invokeVNodeHook(k,w,m),me&&ne.enter(D),ce&&invokeDirectiveHook(m,null,w,"mounted")},x)},J=(m,E,S,w,x)=>{if(S&&C(m,S),w)for(let V=0;V<w.length;V++)C(m,w[V]);if(x){let V=x.subTree;if(E===V){const U=x.vnode;J(m,U,U.scopeId,U.slotScopeIds,x.parent)}}},Y=(m,E,S,w,x,V,U,M,D=0)=>{for(let k=D;k<m.length;k++){const ee=m[k]=M?cloneIfMounted(m[k]):normalizeVNode(m[k]);P(null,ee,E,S,w,x,V,U,M)}},ie=(m,E,S,w,x,V,U)=>{const M=E.el=m.el;let{patchFlag:D,dynamicChildren:k,dirs:ee}=E;D|=m.patchFlag&16;const G=m.props||EMPTY_OBJ,te=E.props||EMPTY_OBJ;let ne;S&&toggleRecurse(S,!1),(ne=te.onVnodeBeforeUpdate)&&invokeVNodeHook(ne,S,E,m),ee&&invokeDirectiveHook(E,m,S,"beforeUpdate"),S&&toggleRecurse(S,!0);const ce=x&&E.type!=="foreignObject";if(k?se(m.dynamicChildren,k,M,S,w,ce,V):U||le(m,E,M,null,S,w,ce,V,!1),D>0){if(D&16)de(M,E,G,te,S,w,x);else if(D&2&&G.class!==te.class&&o(M,"class",null,te.class,x),D&4&&o(M,"style",G.style,te.style,x),D&8){const me=E.dynamicProps;for(let pe=0;pe<me.length;pe++){const be=me[pe],ke=G[be],Pe=te[be];(Pe!==ke||be==="value")&&o(M,be,ke,Pe,x,m.children,S,w,K)}}D&1&&m.children!==E.children&&f(M,E.children)}else!U&&k==null&&de(M,E,G,te,S,w,x);((ne=te.onVnodeUpdated)||ee)&&queuePostRenderEffect(()=>{ne&&invokeVNodeHook(ne,S,E,m),ee&&invokeDirectiveHook(E,m,S,"updated")},w)},se=(m,E,S,w,x,V,U)=>{for(let M=0;M<E.length;M++){const D=m[M],k=E[M],ee=D.el&&(D.type===Fragment||!isSameVNodeType(D,k)||D.shapeFlag&70)?A(D.el):S;P(D,k,ee,null,w,x,V,U,!0)}},de=(m,E,S,w,x,V,U)=>{if(S!==w){if(S!==EMPTY_OBJ)for(const M in S)!isReservedProp(M)&&!(M in w)&&o(m,M,S[M],null,U,E.children,x,V,K);for(const M in w){if(isReservedProp(M))continue;const D=w[M],k=S[M];D!==k&&M!=="value"&&o(m,M,k,D,U,E.children,x,V,K)}"value"in w&&o(m,"value",S.value,w.value)}},fe=(m,E,S,w,x,V,U,M,D)=>{const k=E.el=m?m.el:l(""),ee=E.anchor=m?m.anchor:l("");let{patchFlag:G,dynamicChildren:te,slotScopeIds:ne}=E;ne&&(M=M?M.concat(ne):ne),m==null?(r(k,S,w),r(ee,S,w),Y(E.children,S,ee,x,V,U,M,D)):G>0&&G&64&&te&&m.dynamicChildren?(se(m.dynamicChildren,te,S,x,V,U,M),(E.key!=null||x&&E===x.subTree)&&traverseStaticChildren(m,E,!0)):le(m,E,S,ee,x,V,U,M,D)},ye=(m,E,S,w,x,V,U,M,D)=>{E.slotScopeIds=M,m==null?E.shapeFlag&512?x.ctx.activate(E,S,w,U,D):Se(E,S,w,x,V,U,D):Re(m,E,D)},Se=(m,E,S,w,x,V,U)=>{const M=m.component=createComponentInstance(m,w,x);if(isKeepAlive(m)&&(M.ctx.renderer=Ae),setupComponent(M),M.asyncDep){if(x&&x.registerDep(M,he),!m.el){const D=M.subTree=createVNode(Comment$1);H(null,D,E,S)}return}he(M,m,E,S,x,V,U)},Re=(m,E,S)=>{const w=E.component=m.component;if(shouldUpdateComponent(m,E,S))if(w.asyncDep&&!w.asyncResolved){oe(w,E,S);return}else w.next=E,invalidateJob(w.update),w.update();else E.el=m.el,w.vnode=E},he=(m,E,S,w,x,V,U)=>{const M=()=>{if(m.isMounted){let{next:ee,bu:G,u:te,parent:ne,vnode:ce}=m,me=ee,pe;toggleRecurse(m,!1),ee?(ee.el=ce.el,oe(m,ee,U)):ee=ce,G&&invokeArrayFns(G),(pe=ee.props&&ee.props.onVnodeBeforeUpdate)&&invokeVNodeHook(pe,ne,ee,ce),toggleRecurse(m,!0);const be=renderComponentRoot(m),ke=m.subTree;m.subTree=be,P(ke,be,A(ke.el),j(ke),m,x,V),ee.el=be.el,me===null&&updateHOCHostEl(m,be.el),te&&queuePostRenderEffect(te,x),(pe=ee.props&&ee.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(pe,ne,ee,ce),x)}else{let ee;const{el:G,props:te}=E,{bm:ne,m:ce,parent:me}=m,pe=isAsyncWrapper(E);if(toggleRecurse(m,!1),ne&&invokeArrayFns(ne),!pe&&(ee=te&&te.onVnodeBeforeMount)&&invokeVNodeHook(ee,me,E),toggleRecurse(m,!0),G&&ae){const be=()=>{m.subTree=renderComponentRoot(m),ae(G,m.subTree,m,x,null)};pe?E.type.__asyncLoader().then(()=>!m.isUnmounted&&be()):be()}else{const be=m.subTree=renderComponentRoot(m);P(null,be,S,w,m,x,V),E.el=be.el}if(ce&&queuePostRenderEffect(ce,x),!pe&&(ee=te&&te.onVnodeMounted)){const be=E;queuePostRenderEffect(()=>invokeVNodeHook(ee,me,be),x)}(E.shapeFlag&256||me&&isAsyncWrapper(me.vnode)&&me.vnode.shapeFlag&256)&&m.a&&queuePostRenderEffect(m.a,x),m.isMounted=!0,E=S=w=null}},D=m.effect=new ReactiveEffect(M,()=>queueJob(k),m.scope),k=m.update=()=>D.run();k.id=m.uid,toggleRecurse(m,!0),k()},oe=(m,E,S)=>{E.component=m;const w=m.vnode.props;m.vnode=E,m.next=null,updateProps(m,E.props,w,S),updateSlots(m,E.children,S),pauseTracking(),flushPreFlushCbs(),resetTracking()},le=(m,E,S,w,x,V,U,M,D=!1)=>{const k=m&&m.children,ee=m?m.shapeFlag:0,G=E.children,{patchFlag:te,shapeFlag:ne}=E;if(te>0){if(te&128){xe(k,G,S,w,x,V,U,M,D);return}else if(te&256){Ne(k,G,S,w,x,V,U,M,D);return}}ne&8?(ee&16&&K(k,x,V),G!==k&&f(S,G)):ee&16?ne&16?xe(k,G,S,w,x,V,U,M,D):K(k,x,V,!0):(ee&8&&f(S,""),ne&16&&Y(G,S,w,x,V,U,M,D))},Ne=(m,E,S,w,x,V,U,M,D)=>{m=m||EMPTY_ARR,E=E||EMPTY_ARR;const k=m.length,ee=E.length,G=Math.min(k,ee);let te;for(te=0;te<G;te++){const ne=E[te]=D?cloneIfMounted(E[te]):normalizeVNode(E[te]);P(m[te],ne,S,null,x,V,U,M,D)}k>ee?K(m,x,V,!0,!1,G):Y(E,S,w,x,V,U,M,D,G)},xe=(m,E,S,w,x,V,U,M,D)=>{let k=0;const ee=E.length;let G=m.length-1,te=ee-1;for(;k<=G&&k<=te;){const ne=m[k],ce=E[k]=D?cloneIfMounted(E[k]):normalizeVNode(E[k]);if(isSameVNodeType(ne,ce))P(ne,ce,S,null,x,V,U,M,D);else break;k++}for(;k<=G&&k<=te;){const ne=m[G],ce=E[te]=D?cloneIfMounted(E[te]):normalizeVNode(E[te]);if(isSameVNodeType(ne,ce))P(ne,ce,S,null,x,V,U,M,D);else break;G--,te--}if(k>G){if(k<=te){const ne=te+1,ce=ne<ee?E[ne].el:w;for(;k<=te;)P(null,E[k]=D?cloneIfMounted(E[k]):normalizeVNode(E[k]),S,ce,x,V,U,M,D),k++}}else if(k>te)for(;k<=G;)Te(m[k],x,V,!0),k++;else{const ne=k,ce=k,me=new Map;for(k=ce;k<=te;k++){const Ie=E[k]=D?cloneIfMounted(E[k]):normalizeVNode(E[k]);Ie.key!=null&&me.set(Ie.key,k)}let pe,be=0;const ke=te-ce+1;let Pe=!1,Ue=0;const Le=new Array(ke);for(k=0;k<ke;k++)Le[k]=0;for(k=ne;k<=G;k++){const Ie=m[k];if(be>=ke){Te(Ie,x,V,!0);continue}let Be;if(Ie.key!=null)Be=me.get(Ie.key);else for(pe=ce;pe<=te;pe++)if(Le[pe-ce]===0&&isSameVNodeType(Ie,E[pe])){Be=pe;break}Be===void 0?Te(Ie,x,V,!0):(Le[Be-ce]=k+1,Be>=Ue?Ue=Be:Pe=!0,P(Ie,E[Be],S,null,x,V,U,M,D),be++)}const $e=Pe?getSequence(Le):EMPTY_ARR;for(pe=$e.length-1,k=ke-1;k>=0;k--){const Ie=ce+k,Be=E[Ie],De=Ie+1<ee?E[Ie+1].el:w;Le[k]===0?P(null,Be,S,De,x,V,U,M,D):Pe&&(pe<0||k!==$e[pe]?Ee(Be,S,De,2):pe--)}}},Ee=(m,E,S,w,x=null)=>{const{el:V,type:U,transition:M,children:D,shapeFlag:k}=m;if(k&6){Ee(m.component.subTree,E,S,w);return}if(k&128){m.suspense.move(E,S,w);return}if(k&64){U.move(m,E,S,Ae);return}if(U===Fragment){r(V,E,S);for(let G=0;G<D.length;G++)Ee(D[G],E,S,w);r(m.anchor,E,S);return}if(U===Static){q(m,E,S);return}if(w!==2&&k&1&&M)if(w===0)M.beforeEnter(V),r(V,E,S),queuePostRenderEffect(()=>M.enter(V),x);else{const{leave:G,delayLeave:te,afterLeave:ne}=M,ce=()=>r(V,E,S),me=()=>{G(V,()=>{ce(),ne&&ne()})};te?te(V,ce,me):me()}else r(V,E,S)},Te=(m,E,S,w=!1,x=!1)=>{const{type:V,props:U,ref:M,children:D,dynamicChildren:k,shapeFlag:ee,patchFlag:G,dirs:te}=m;if(M!=null&&setRef(M,null,S,m,!0),ee&256){E.ctx.deactivate(m);return}const ne=ee&1&&te,ce=!isAsyncWrapper(m);let me;if(ce&&(me=U&&U.onVnodeBeforeUnmount)&&invokeVNodeHook(me,E,m),ee&6)I(m.component,S,w);else{if(ee&128){m.suspense.unmount(S,w);return}ne&&invokeDirectiveHook(m,null,E,"beforeUnmount"),ee&64?m.type.remove(m,E,S,x,Ae,w):k&&(V!==Fragment||G>0&&G&64)?K(k,E,S,!1,!0):(V===Fragment&&G&384||!x&&ee&16)&&K(D,E,S),w&&Fe(m)}(ce&&(me=U&&U.onVnodeUnmounted)||ne)&&queuePostRenderEffect(()=>{me&&invokeVNodeHook(me,E,m),ne&&invokeDirectiveHook(m,null,E,"unmounted")},S)},Fe=m=>{const{type:E,el:S,anchor:w,transition:x}=m;if(E===Fragment){Ve(S,w);return}if(E===Static){re(m);return}const V=()=>{s(S),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(m.shapeFlag&1&&x&&!x.persisted){const{leave:U,delayLeave:M}=x,D=()=>U(S,V);M?M(m.el,V,D):D()}else V()},Ve=(m,E)=>{let S;for(;m!==E;)S=_(m),s(m),m=S;s(E)},I=(m,E,S)=>{const{bum:w,scope:x,update:V,subTree:U,um:M}=m;w&&invokeArrayFns(w),x.stop(),V&&(V.active=!1,Te(U,m,E,S)),M&&queuePostRenderEffect(M,E),queuePostRenderEffect(()=>{m.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},K=(m,E,S,w=!1,x=!1,V=0)=>{for(let U=V;U<m.length;U++)Te(m[U],E,S,w,x)},j=m=>m.shapeFlag&6?j(m.component.subTree):m.shapeFlag&128?m.suspense.next():_(m.anchor||m.el),Z=(m,E,S)=>{m==null?E._vnode&&Te(E._vnode,null,null,!0):P(E._vnode||null,m,E,null,null,null,S),flushPreFlushCbs(),flushPostFlushCbs(),E._vnode=m},Ae={p:P,um:Te,m:Ee,r:Fe,mt:Se,mc:Y,pc:le,pbc:se,n:j,o:e};let ve,ae;return t&&([ve,ae]=t(Ae)),{render:Z,hydrate:ve,createApp:createAppAPI(Z,ve)}}function toggleRecurse({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function traverseStaticChildren(e,t,n=!1){const r=e.children,s=t.children;if(isArray$1(r)&&isArray$1(s))for(let o=0;o<r.length;o++){const a=r[o];let l=s[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[o]=cloneIfMounted(s[o]),l.el=a.el),n||traverseStaticChildren(a,l)),l.type===Text$1&&(l.el=a.el)}}function getSequence(e){const t=e.slice(),n=[0];let r,s,o,a,l;const c=e.length;for(r=0;r<c;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(o=0,a=n.length-1;o<a;)l=o+a>>1,e[n[l]]<u?o=l+1:a=l;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}const isTeleport=e=>e.__isTeleport,Fragment=Symbol(void 0),Text$1=Symbol(void 0),Comment$1=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,r,s,o){return setupBlock(createBaseVNode(e,t,n,r,s,o,!0))}function createBlock(e,t,n,r,s){return setupBlock(createVNode(e,t,n,r,s,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null;function createBaseVNode(e,t=null,n=null,r=0,s=null,o=e===Fragment?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return l?(normalizeChildren(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=isString(n)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&currentBlock.push(c),c}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment$1),isVNode(e)){const l=cloneVNode(e,t,!0);return n&&normalizeChildren(l,n),isBlockTreeEnabled>0&&!o&&currentBlock&&(l.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=l:currentBlock.push(l)),l.patchFlag|=-2,l}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:l,style:c}=t;l&&!isString(l)&&(t.class=normalizeClass(l)),isObject(c)&&(isProxy(c)&&!isArray$1(c)&&(c=extend({},c)),t.style=normalizeStyle(c))}const a=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,n,r,s,a,o,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:a}=e,l=t?mergeProps(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&normalizeKey(l),ref:t&&t.ref?n&&s?isArray$1(s)?s.concat(normalizeRef(t)):[s,normalizeRef(t)]:normalizeRef(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function createTextVNode(e=" ",t=0){return createVNode(Text$1,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment$1,null,e)):createVNode(Comment$1,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment$1):isArray$1(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text$1,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(isArray$1(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),normalizeChildren(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),r&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=normalizeClass([t.class,r.class]));else if(s==="style")t.style=normalizeStyle([t.style,r.style]);else if(isOn(s)){const o=t[s],a=r[s];a&&o!==a&&!(isArray$1(o)&&o.includes(a))&&(t[s]=o?[].concat(o,a):a)}else s!==""&&(t[s]=r[s])}return t}function invokeVNodeHook(e,t,n,r=null){callWithAsyncErrorHandling(e,t,7,[n,r])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||emptyAppContext,o={uid:uid$1++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,s),emitsOptions:normalizeEmitsOptions(r,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=emit$1.bind(null,o),e.ce&&e.ce(o),o}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:n,children:r}=e.vnode,s=isStatefulComponent(e);initProps(e,n,s,t),initSlots(e,r);const o=s?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,o}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const o=callWithErrorHandling(r,e,0,[e.props,s]);if(resetTracking(),unsetCurrentInstance(),isPromise(o)){if(o.then(unsetCurrentInstance,unsetCurrentInstance),t)return o.then(a=>{handleSetupResult(e,a,t)}).catch(a=>{handleError(a,e,0)});e.asyncDep=o}else handleSetupResult(e,o,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,n){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,n)}let compile;function finishComponentSetup(e,t,n){const r=e.type;if(!e.render){if(!t&&compile&&!r.render){const s=r.template||resolveMergedOptions(e).template;if(s){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:c}=r,u=extend(extend({isCustomElement:o,delimiters:l},a),c);r.render=compile(s,u)}}e.render=r.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,n){return track(e,"get","$attrs"),t[n]}})}function createSetupContext(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}}))}function getComponentName(e,t=!0){return isFunction(e)?e.displayName||e.name:e.name||t&&e.__name}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,n){const r=arguments.length;return r===2?isObject(t)&&!isArray$1(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&isVNode(n)&&(n=[n]),createVNode(e,t,n))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version="3.2.45",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?doc.createElementNS(svgNS,e):doc.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const a=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{templateContainer.innerHTML=r?`<svg>${e}</svg>`:e;const l=templateContainer.content;if(r){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function patchClass(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,n){const r=e.style,s=isString(n);if(n&&!s){for(const o in n)setStyle(r,o,n[o]);if(t&&!isString(t))for(const o in t)n[o]==null&&setStyle(r,o,"")}else{const o=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray$1(n))n.forEach(r=>setStyle(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):e[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let r=camelize(t);if(r!=="filter"&&r in e)return prefixCache[t]=r;r=capitalize(r);for(let s=0;s<prefixes.length;s++){const o=prefixes[s]+r;if(o in e)return prefixCache[t]=o}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n);else{const o=isSpecialBooleanAttr(t);n==null||o&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function patchDOMProp(e,t,n,r,s,o,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,s,o),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n??"";(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=includeBooleanAttr(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function addEventListener(e,t,n,r){e.addEventListener(t,n,r)}function removeEventListener(e,t,n,r){e.removeEventListener(t,n,r)}function patchEvent(e,t,n,r,s=null){const o=e._vei||(e._vei={}),a=o[t];if(r&&a)a.value=r;else{const[l,c]=parseName(t);if(r){const u=o[t]=createInvoker(r,s);addEventListener(e,l,u,c)}else a&&(removeEventListener(e,l,a,c),o[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),t,5,[r])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray$1(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,n,r,s=!1,o,a,l,c)=>{t==="class"?patchClass(e,r,s):t==="style"?patchStyle(e,n,r):isOn(t)?isModelListener(t)||patchEvent(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,r,s))?patchDOMProp(e,t,r,o,a,l,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),patchAttr(e,t,r,s))};function shouldSetAsProp(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString(n)?!1:t in e}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$1(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=getModelAssigner(s);const o=r||s.props&&s.props.type==="number";addEventListener(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),o&&(l=toNumber$2(l)),e._assign(l)}),n&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},o){if(e._assign=getModelAssigner(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&toNumber$2(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},vModelCheckbox={deep:!0,created(e,t,n){e._assign=getModelAssigner(n),addEventListener(e,"change",()=>{const r=e._modelValue,s=getValue(e),o=e.checked,a=e._assign;if(isArray$1(r)){const l=looseIndexOf(r,s),c=l!==-1;if(o&&!c)a(r.concat(s));else if(!o&&c){const u=[...r];u.splice(l,1),a(u)}}else if(isSet(r)){const l=new Set(r);o?l.add(s):l.delete(s),a(l)}else a(getCheckboxValue(e,o))})},mounted:setChecked,beforeUpdate(e,t,n){e._assign=getModelAssigner(n),setChecked(e,t,n)}};function setChecked(e,{value:t,oldValue:n},r){e._modelValue=t,isArray$1(t)?e.checked=looseIndexOf(t,r.props.value)>-1:isSet(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=looseEqual(t,getCheckboxValue(e,!0)))}const vModelRadio={created(e,{value:t},n){e.checked=looseEqual(t,n.props.value),e._assign=getModelAssigner(n),addEventListener(e,"change",()=>{e._assign(getValue(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=getModelAssigner(r),t!==n&&(e.checked=looseEqual(t,r.props.value))}},vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=isSet(t);addEventListener(e,"change",()=>{const o=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?toNumber$2(getValue(a)):getValue(a));e._assign(e.multiple?s?new Set(o):o:o[0])}),e._assign=getModelAssigner(r)},mounted(e,{value:t}){setSelected(e,t)},beforeUpdate(e,t,n){e._assign=getModelAssigner(n)},updated(e,{value:t}){setSelected(e,t)}};function setSelected(e,t){const n=e.multiple;if(!(n&&!isArray$1(t)&&!isSet(t))){for(let r=0,s=e.options.length;r<s;r++){const o=e.options[r],a=getValue(o);if(n)isArray$1(t)?o.selected=looseIndexOf(t,a)>-1:o.selected=t.has(a);else if(looseEqual(getValue(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const vModelDynamic={created(e,t,n){callModelHook(e,t,n,null,"created")},mounted(e,t,n){callModelHook(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){callModelHook(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){callModelHook(e,t,n,r,"updated")}};function resolveDynamicModel(e,t){switch(e){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(t){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(e,t,n,r,s){const a=resolveDynamicModel(e.tagName,n.props&&n.props.type)[s];a&&a(e,t,n,r)}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(n=>e[`${n}Key`]&&!t.includes(n))},withModifiers=(e,t)=>(n,...r)=>{for(let s=0;s<t.length;s++){const o=modifierGuards[t[s]];if(o&&o(n,t))return}return e(n,...r)},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=normalizeContainer(r);if(!s)return;const o=t._component;!isFunction(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const a=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function normalizeContainer(e){return isString(e)?document.querySelector(e):e}const _export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},_sfc_main$m={props:["app","identity"]},_hoisted_1$l={class:"mt-5 flex-1 space-y-1 bg-white px-2 pb-8"},_hoisted_2$i=createBaseVNode("h3",{class:"pb-1 uppercase text-gray-400 text-sm sm:text-xs"}," Signals ",-1),_hoisted_3$i=["innerHTML"],_hoisted_4$e={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-4 opacity-50"},_hoisted_5$d=createBaseVNode("h3",{class:"pt-5 pb-1 uppercase text-gray-400 text-sm sm:text-xs"}," My Account ",-1),_hoisted_6$b=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-5 w-5 flex-shrink-0 text-gray-300 mr-3"},[createBaseVNode("path",{d:"M5.127 3.502L5.25 3.5h9.5c.041 0 .082 0 .123.002A2.251 2.251 0 0012.75 2h-5.5a2.25 2.25 0 00-2.123 1.502zM1 10.25A2.25 2.25 0 013.25 8h13.5A2.25 2.25 0 0119 10.25v5.5A2.25 2.25 0 0116.75 18H3.25A2.25 2.25 0 011 15.75v-5.5zM3.25 6.5c-.04 0-.082 0-.123.002A2.25 2.25 0 015.25 5h9.5c.98 0 1.814.627 2.123 1.502a3.819 3.819 0 00-.123-.002H3.25z"})],-1),_hoisted_7$b=createBaseVNode("svg",{viewBox:"0 0 640 512",class:"h-5 w-5 flex-shrink-0 text-gray-300 mr-3"},[createBaseVNode("path",{class:"",fill:"currentColor",d:"M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"})],-1),_hoisted_8$a=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-5 w-5 flex-shrink-0 text-gray-300 mr-3"},[createBaseVNode("path",{d:"M18.75 12.75h1.5a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5zM12 6a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 6zM12 18a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 18zM3.75 6.75h1.5a.75.75 0 100-1.5h-1.5a.75.75 0 000 1.5zM5.25 18.75h-1.5a.75.75 0 010-1.5h1.5a.75.75 0 010 1.5zM3 12a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 013 12zM9 3.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zM12.75 12a2.25 2.25 0 114.5 0 2.25 2.25 0 01-4.5 0zM9 15.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"})],-1),_hoisted_9$7=createBaseVNode("h3",{class:"pt-5 pb-1 uppercase text-gray-400 text-sm sm:text-xs"}," Follow Along ",-1),_hoisted_10$4=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-5 w-5 flex-shrink-0 text-gray-300 mr-3"},[createBaseVNode("path",{d:"M5.223 2.25c-.497 0-.974.198-1.325.55l-1.3 1.298A3.75 3.75 0 007.5 9.75c.627.47 1.406.75 2.25.75.844 0 1.624-.28 2.25-.75.626.47 1.406.75 2.25.75.844 0 1.623-.28 2.25-.75a3.75 3.75 0 004.902-5.652l-1.3-1.299a1.875 1.875 0 00-1.325-.549H5.223z"}),createBaseVNode("path",{"fill-rule":"evenodd",d:"M3 20.25v-8.755c1.42.674 3.08.673 4.5 0A5.234 5.234 0 009.75 12c.804 0 1.568-.182 2.25-.506a5.234 5.234 0 002.25.506c.804 0 1.567-.182 2.25-.506 1.42.674 3.08.675 4.5.001v8.755h.75a.75.75 0 010 1.5H2.25a.75.75 0 010-1.5H3zm3-6a.75.75 0 01.75-.75h3a.75.75 0 01.75.75v3a.75.75 0 01-.75.75h-3a.75.75 0 01-.75-.75v-3zm8.25-.75a.75.75 0 00-.75.75v5.25c0 .414.336.75.75.75h3a.75.75 0 00.75-.75v-5.25a.75.75 0 00-.75-.75h-3z","clip-rule":"evenodd"})],-1),_hoisted_11$4=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-5 w-5 flex-shrink-0 text-gray-300 mr-3"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M4.125 3C3.089 3 2.25 3.84 2.25 4.875V18a3 3 0 003 3h15a3 3 0 01-3-3V4.875C17.25 3.839 16.41 3 15.375 3H4.125zM12 9.75a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5H12zm-.75-2.25a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5H12a.75.75 0 01-.75-.75zM6 12.75a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5H6zm-.75 3.75a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5H6a.75.75 0 01-.75-.75zM6 6.75a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h3a.75.75 0 00.75-.75v-3A.75.75 0 009 6.75H6z","clip-rule":"evenodd"}),createBaseVNode("path",{d:"M18.75 6.75h1.875c.621 0 1.125.504 1.125 1.125V18a1.5 1.5 0 01-3 0V6.75z"})],-1),_hoisted_12$3=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-5 w-5 flex-shrink-0 text-gray-300 mr-3"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})],-1);function _sfc_render$m(e,t,n,r,s,o){const a=resolveComponent("router-link");return openBlock(),createElementBlock("nav",_hoisted_1$l,[_hoisted_2$i,(openBlock(!0),createElementBlock(Fragment,null,renderList(n.app.queries.signalsForIdentity(n.identity),l=>(openBlock(),createBlock(a,{key:`sidebar-signal-${l.data.id}`,to:`/signals/${n.app.queries.permalinkForSignal(l)}`,class:"relative text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 sm:text-sm font-medium rounded-md","aria-label":`Visit ${n.app.queries.titleForSignal(l)}`},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:n.app.queries.iconForSignal(l)},null,8,_hoisted_3$i),createTextVNode(" "+toDisplayString(n.app.queries.titleForSignal(l))+" ",1),!n.app.queries.signalHasCards(l)&&n.app.queries.unreadEntriesForSignalLength(n.identity,l)?(openBlock(),createElementBlock("span",_hoisted_4$e,toDisplayString(n.app.queries.unreadEntriesForSignalLength(n.identity,l)),1)):createCommentVNode("",!0)]),_:2},1032,["to","aria-label"]))),128)),_hoisted_5$d,createVNode(a,{to:"/following",class:"relative text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 sm:text-sm font-medium rounded-md","aria-label":"Following"},{default:withCtx(()=>[_hoisted_6$b,createTextVNode(" Following ")]),_:1}),createVNode(a,{to:"/add-ons",class:"relative text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 sm:text-sm font-medium rounded-md","aria-label":"Add-ons"},{default:withCtx(()=>[_hoisted_7$b,createTextVNode(" Add-ons ")]),_:1}),createVNode(a,{to:"/settings",class:"relative text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 sm:text-sm font-medium rounded-md","aria-label":"Settings"},{default:withCtx(()=>[_hoisted_8$a,createTextVNode(" Settings ")]),_:1}),_hoisted_9$7,createVNode(a,{to:"/marketplace",class:"relative text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 sm:text-sm font-medium rounded-md","aria-label":"Visit Marketplace"},{default:withCtx(()=>[_hoisted_10$4,createTextVNode(" Marketplace ")]),_:1}),createVNode(a,{to:"/https://changelog.followalong.com/feed.xml",class:"relative text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 sm:text-sm font-medium rounded-md","aria-label":"Visit Changelog"},{default:withCtx(()=>[_hoisted_11$4,createTextVNode(" Changelog ")]),_:1}),createVNode(a,{to:"/help",class:"relative text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 sm:text-sm font-medium rounded-md","aria-label":"Help"},{default:withCtx(()=>[_hoisted_12$3,createTextVNode(" Help ")]),_:1})])}const NavLinks=_export_sfc(_sfc_main$m,[["render",_sfc_render$m]]),_sfc_main$l={components:{NavLinks},props:["app","identity"]},_hoisted_1$k={class:"side-bar fixed overflow-y-auto border-b border-gray-200 top-0 left-0 bottom-0 bg-white mt-8 p-6 md:w-64 md:flex-shrink-0 md:border-b-0 md:border-r md:border-gray-200"},_hoisted_2$h={class:"sticky top-0 flex min-h-0 flex-1 flex-col"},_hoisted_3$h={class:"flex flex-1 flex-col overflow-y-auto pt-5 pb-4"};function _sfc_render$l(e,t,n,r,s,o){const a=resolveComponent("NavLinks");return openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("div",_hoisted_3$h,[createVNode(a,{app:n.app,identity:n.identity},null,8,["app","identity"])])])])}const SideBar=_export_sfc(_sfc_main$l,[["render",_sfc_render$l]]),logoMobile="/assets/logo-mobile-ff166843.svg",logoWhite="/assets/logo-white-30b7be7b.svg",_sfc_main$k={components:{NavLinks},props:["app","identity"],data(){return{q:"",showMenu:!1,logoMobile,logoWhite}},methods:{search(){this.app.search(this.q)}}},_hoisted_1$j={class:"top-bar flex-shrink-0 fixed top-0 left-0 right-0 z-40"},_hoisted_2$g={class:"max-w-5xl px-2 sm:px-4 md:px-8"},_hoisted_3$g={class:"flex h-16 items-center justify-between"},_hoisted_4$d={class:"flex items-center px-2 md:px-0 md:w-64"},_hoisted_5$c=["src"],_hoisted_6$a=["src"],_hoisted_7$a={class:"flex flex-1 justify-center md:justify-end"},_hoisted_8$9=createBaseVNode("label",{for:"search",class:"sr-only"},"Search...",-1),_hoisted_9$6={class:"relative text-indigo-200 focus-within:text-gray-400"},_hoisted_10$3=createBaseVNode("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[createBaseVNode("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})])],-1),_hoisted_11$3={class:"flex md:hidden"},_hoisted_12$2={key:0,class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},_hoisted_13$2=createBaseVNode("path",{d:"M10 3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 8.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM11.5 15.5a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0z"},null,-1),_hoisted_14$1=[_hoisted_13$2],_hoisted_15$1={key:1,class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},_hoisted_16$1=createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),_hoisted_17$1=[_hoisted_16$1],_hoisted_18={key:0,id:"mobile-menu",class:"md:hidden"};function _sfc_render$k(e,t,n,r,s,o){const a=resolveComponent("router-link"),l=resolveComponent("NavLinks");return openBlock(),createElementBlock("nav",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$g,[createBaseVNode("div",_hoisted_3$g,[createBaseVNode("div",_hoisted_4$d,[createVNode(a,{to:`/signals/${n.app.queries.permalinkForSignal(n.app.queries.defaultSignalForIdentity(n.identity))}`,class:"db flex-shrink-0"},{default:withCtx(()=>[createBaseVNode("img",{class:"h-8 w-auto md:hidden",src:s.logoMobile,alt:"Follow Along"},null,8,_hoisted_5$c),createBaseVNode("img",{class:"h-8 w-auto hidden md:block",src:s.logoWhite,alt:"Follow Along"},null,8,_hoisted_6$a)]),_:1},8,["to"])]),createBaseVNode("div",_hoisted_7$a,[createBaseVNode("form",{class:"w-full","aria-label":"Search",onSubmit:t[1]||(t[1]=withModifiers((...c)=>o.search&&o.search(...c),["prevent"]))},[_hoisted_8$9,createBaseVNode("div",_hoisted_9$6,[_hoisted_10$3,withDirectives(createBaseVNode("input",{id:"search","onUpdate:modelValue":t[0]||(t[0]=c=>s.q=c),name:"search",class:"block w-full rounded-md border border-transparent bg-indigo-400 bg-opacity-25 py-2 pl-10 pr-3 leading-5 text-indigo-100 placeholder-indigo-200 focus:bg-white focus:text-gray-900 focus:placeholder-gray-400 focus:outline-none focus:ring-0",placeholder:"Search or RSS URL...",type:"search","aria-label":"Search input"},null,512),[[vModelText,s.q]])])],32)]),createBaseVNode("div",_hoisted_11$3,[createBaseVNode("button",{type:"button",class:"inline-flex items-center justify-center rounded-md p-2 text-white","aria-controls":"mobile-menu","aria-expanded":"false",onClick:t[2]||(t[2]=c=>s.showMenu=!s.showMenu)},[s.showMenu?(openBlock(),createElementBlock("svg",_hoisted_15$1,_hoisted_17$1)):(openBlock(),createElementBlock("svg",_hoisted_12$2,_hoisted_14$1))])])])]),s.showMenu?(openBlock(),createElementBlock("div",_hoisted_18,[createBaseVNode("div",{class:"fixed top-0 mt-16 bottom-0 bg-white p-4 pb-16 h-full w-full overflow-auto",onClick:t[3]||(t[3]=c=>s.showMenu=!1)},[createVNode(l,{app:n.app,identity:n.identity},null,8,["app","identity"])])])):createCommentVNode("",!0)])}const TopBar=_export_sfc(_sfc_main$k,[["render",_sfc_render$k]]),CHANGELOG_URL="https://changelog.followalong.com/feed.xml",MAX_OLD_ITEMS_PER_FEED=15;class Commands{constructor(t){for(const n in t)this[n]=t[n]}addIdentity(t){t.name=t.name||"My Account",t.id=this.state.createDB(null,{}),this.track(t,"identities",t.id,"create",t),this.addFeedToIdentity(t,CHANGELOG_URL,{title:"Changelog",description:"Stay in-the-know on Follow Along.",image:{url:"https://www.followalong.net/img/favicon.ico"}}),this.saveAddonForIdentity(t,{type:"FollowAlongFree"}),this.addSignalToIdentity(t,{title:"Home",description:"Sorting all entries by most recent",permalink:"home",order:0,icon:`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          class="h-5 w-5 flex-shrink-0 text-gray-300 mr-3"
        >
          <path d="M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z" />
          <path d="M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z" />
        </svg>
      `}),this.addSignalToIdentity(t,{title:"Watch",description:"Entries that have videos",permalink:"watch",order:1,icon:`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-5 w-5 flex-shrink-0 text-gray-300 mr-3">
          <path d="M3.25 4A2.25 2.25 0 001 6.25v7.5A2.25 2.25 0 003.25 16h7.5A2.25 2.25 0 0013 13.75v-7.5A2.25 2.25 0 0010.75 4h-7.5zM19 4.75a.75.75 0 00-1.28-.53l-3 3a.75.75 0 00-.22.53v4.5c0 .199.079.39.22.53l3 3a.75.75 0 001.28-.53V4.75z" />
        </svg>
      `,filter:`
        (queries) => {
          return (entry) => {
            return queries.videoForEntry(entry)
          }
        }
      `.trim()}),this.addSignalToIdentity(t,{title:"Listen",description:"Entries that have audio",permalink:"listen",order:2,icon:`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-5 w-5 flex-shrink-0 text-gray-300 mr-3">
          <path d="M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z" />
          <path d="M5.5 9.643a.75.75 0 00-1.5 0V10c0 3.06 2.29 5.585 5.25 5.954V17.5h-1.5a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-1.5v-1.546A6.001 6.001 0 0016 10v-.357a.75.75 0 00-1.5 0V10a4.5 4.5 0 01-9 0v-.357z" />
        </svg>
      `,filter:`
        (queries) => {
          return (entry) => {
            return queries.audioForEntry(entry)
          }
        }
      `.trim()}),this.addSignalToIdentity(t,{title:"Read",description:"Entries that have reading content",permalink:"read",order:3,icon:`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-5 w-5 flex-shrink-0 text-gray-300 mr-3">
          <path d="M10.75 16.82A7.462 7.462 0 0115 15.5c.71 0 1.396.098 2.046.282A.75.75 0 0018 15.06v-11a.75.75 0 00-.546-.721A9.006 9.006 0 0015 3a8.963 8.963 0 00-4.25 1.065V16.82zM9.25 4.065A8.963 8.963 0 005 3c-.85 0-1.673.118-2.454.339A.75.75 0 002 4.06v11a.75.75 0 00.954.721A7.506 7.506 0 015 15.5c1.579 0 3.042.487 4.25 1.32V4.065z" />
        </svg>
      `,filter:`
        (queries) => {
          return (entry) => {
            return !queries.videoForEntry(entry) &&
              !queries.audioForEntry(entry)
          }
        }
      `.trim()}),this.addSignalToIdentity(t,{title:"Done",description:"Entries that have recently been marked as done",permalink:"done",order:4,icon:`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          class="h-5 w-5 flex-shrink-0 text-gray-300 mr-3"
        >
          <path
            fill-rule="evenodd"
            d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z"
            clip-rule="evenodd"
          />
        </svg>
      `,filter:`
        (queries) => {
          return (entry) => {
            return !!entry.readAt
          }
        }
      `.trim(),sort:`
        (queries) => {
          return (a, b) => {
            if (a.readAt < b.readAt) return 1
            if (a.readAt > b.readAt) return -1
            return 0
          }
        }
      `.trim()})}addFeedToIdentity(t,n,r,s=[]){this.track(t,"feeds",null,"create",{url:n,data:r}),n===CHANGELOG_URL&&s.unshift({id:"about",title:"Twitter is done. Long live RSS.",published:new Date().toISOString(),content:`
        <p>
          It's not <em>just</em> Twitter. It's all the rest of the them as well!
        </p>

        <p>
          If you're not tech-savvy, Follow Along is a place where you can follow the people and communities that you care about.
          The underlying technology of Follow Along (RSS feeds) has been around for <em>decades</em>, so a large chunk of the internet is already here  calendars, blogs, bizapps, and some traditional social media too!
        </p>

        <p>
          If you're interested in the tech specs, Follow Along is a 100%-client-side PWA that fetches RSS feeds for you.
          We don't track <em>anything</em> about you or the feeds you follow.
          Have a look at our <a href="https://github.com/followalong/www.followalong.com">open source code</a> (and host it yourself!)
        </p>

        <p>
          Finally, we have big plans that are laid out in <a href="https://changelog.followalong.com/2022/12/23/the-path-to-v3">The Path to V3 in 2023</a>.
          We'd  to have you follow along for the ride!
        </p>

        <p>
          Cheers!
        </p>
        `.trim()});const o=this.queries.latestFeedForIdentity(t);s.forEach(a=>{this.upsertEntryForIdentity(t,o,a)})}removeFeedFromIdentity(t,n){this.track(t,"feeds",n.id,"delete"),this.queries.entriesForFeed(t,n).forEach(r=>{this.track(t,"entries",r.id,"delete")})}track(t,n,r,s,o){return this.state.track(t.id,n,r,s,o)}restoreFromLocal(){return this.state.restore()}fetchUrl(t,n,r){return this.queries.addonAdapterForActionForIdentity(t,n)[n](r).then(this.queries.jsonFromXml)}fetchFeed(t,n){const r=this.queries.urlForFeed(n);return this.fetchUrl(t,"rss",r).then(s=>{const o=s.entry||s.item||[];delete s.entry,delete s.item,this.upsertFeedForIdentity(t,n,s),o.forEach(a=>this.upsertEntryForIdentity(t,n,a,this.queries.lastReadDateForFeed(n)))})}upsertFeedForIdentity(t,n,r){this.track(t,"feeds",n.id,"update",this.queries.feedChanged(n,r)?{data:r}:{})}upsertEntryForIdentity(t,n,r,s=0){const o=this.queries.keyForEntry({data:r}),a=this.queries.entryForFeedForIdentity(t,n,o);if(!a){this.track(t,"entries",null,"create",{feedId:n.id,data:r});const l=this.queries.entryForFeedForIdentity(t,n,o);s>this.queries.dateForEntry({data:r}).getTime()&&this.markEntryAsReadForIdentity(t,l);return}this.queries.entryChanged(a,r)&&this.track(t,"entries",a.id,"update",{data:r})}fetchOutdatedFeeds(t){const n=this.queries.unpausedFeedsForIdentity(t);return this._fetchFeedsInSeries(t,n)}fetchFeedsForIdentity(t){const n=this.queries.unpausedFeedsForIdentity(t);return this._fetchFeedsInSeries(t,n)}_fetchFeedsInSeries(t,n){let r=Promise.resolve();return n.length&&n.forEach(s=>{r=r.then(()=>new Promise(o=>{this.fetchFeed(t,s).finally(()=>setTimeout(o,0))}))}),r}forgetIdentity(t){return new Promise((n,r)=>{this.state.deleteDB(t.id),this.queries.allIdentities().length||this.addIdentity({}),n(this.queries.allIdentities()[0])})}markEntryAsReadForIdentity(t,n){this.track(t,"entries",n.id,"read")}markEntryAsUnreadForIdentity(t,n){this.track(t,"entries",n.id,"unread")}showNewEntries(){this.queries.lastBackgroundFetch=Date.now(),this.scrollToTop()}scrollToTop(){this.scrollTo({top:0,left:0,behavior:"smooth"})}addSignalToIdentity(t,n){this.track(t,"signals",null,"create",{data:n})}pauseFeedForIdentity(t,n){this.track(t,"feeds",n.id,"pause")}unpauseFeedForIdentity(t,n){this.track(t,"feeds",n.id,"unpause")}saveAddonForIdentity(t,n){this.track(t,"addons",n.id,"configure",{type:n.type,data:n.data||{}})}removeAddonFromIdentity(t,n){this.track(t,"addons",n.id,"delete")}disableSleep(t){this.noSleep&&(t.currentTime=0,t.play(),this.noSleep.enable())}enableSleep(t){this.noSleep&&this.noSleep.disable()}resetIdentity(t){return this.state.reset(t.id)}createProjectionForIdentity(t){return new Promise((n,r)=>{const s={identity:t,feeds:this.queries.feedsForIdentity(t),entries:this.queries.entriesForIdentity(t,MAX_OLD_ITEMS_PER_FEED),signals:this.queries.signalsForIdentityForProjection(t),addons:this.queries.addonsForIdentity(t)};this.resetIdentity(t).then(()=>this.track(t,"identities",t.id,"rollup",s)).then(n).catch(r)})}}var getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),rnds8=new Uint8Array(16);function rng(){if(!getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);function bytesToUuid(e,t){var n=t||0,r=byteToHex;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}function v4(e,t,n){var r=t&&n||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||rng)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t)for(var o=0;o<16;++o)t[r+o]=s[o];return t||bytesToUuid(s)}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,o){function a(u,f){if(!s[u]){if(!r[u]){var A=typeof commonjsRequire=="function"&&commonjsRequire;if(!f&&A)return A(u,!0);if(l)return l(u,!0);var _=new Error("Cannot find module '"+u+"'");throw _.code="MODULE_NOT_FOUND",_}var C=s[u]={exports:{}};r[u][0].call(C.exports,function(R){var P=r[u][1][R];return a(P||R)},C,C.exports,n,r,s,o)}return s[u].exports}for(var l=typeof commonjsRequire=="function"&&commonjsRequire,c=0;c<o.length;c++)a(o[c]);return a}({1:[function(n,r,s){(function(o){var a=o.MutationObserver||o.WebKitMutationObserver,l;if(a){var c=0,u=new a(R),f=o.document.createTextNode("");u.observe(f,{characterData:!0}),l=function(){f.data=c=++c%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var A=new o.MessageChannel;A.port1.onmessage=R,l=function(){A.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?l=function(){var W=o.document.createElement("script");W.onreadystatechange=function(){R(),W.onreadystatechange=null,W.parentNode.removeChild(W),W=null},o.document.documentElement.appendChild(W)}:l=function(){setTimeout(R,0)};var _,C=[];function R(){_=!0;for(var W,H,z=C.length;z;){for(H=C,C=[],W=-1;++W<z;)H[W]();z=C.length}_=!1}r.exports=P;function P(W){C.push(W)===1&&!_&&l()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,s){var o=n(1);function a(){}var l={},c=["REJECTED"],u=["FULFILLED"],f=["PENDING"];r.exports=A;function A(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,O!==a&&P(this,O)}A.prototype.catch=function(O){return this.then(null,O)},A.prototype.then=function(O,Q){if(typeof O!="function"&&this.state===u||typeof Q!="function"&&this.state===c)return this;var J=new this.constructor(a);if(this.state!==f){var Y=this.state===u?O:Q;C(J,Y,this.outcome)}else this.queue.push(new _(J,O,Q));return J};function _(O,Q,J){this.promise=O,typeof Q=="function"&&(this.onFulfilled=Q,this.callFulfilled=this.otherCallFulfilled),typeof J=="function"&&(this.onRejected=J,this.callRejected=this.otherCallRejected)}_.prototype.callFulfilled=function(O){l.resolve(this.promise,O)},_.prototype.otherCallFulfilled=function(O){C(this.promise,this.onFulfilled,O)},_.prototype.callRejected=function(O){l.reject(this.promise,O)},_.prototype.otherCallRejected=function(O){C(this.promise,this.onRejected,O)};function C(O,Q,J){o(function(){var Y;try{Y=Q(J)}catch(ie){return l.reject(O,ie)}Y===O?l.reject(O,new TypeError("Cannot resolve promise with itself")):l.resolve(O,Y)})}l.resolve=function(O,Q){var J=W(R,Q);if(J.status==="error")return l.reject(O,J.value);var Y=J.value;if(Y)P(O,Y);else{O.state=u,O.outcome=Q;for(var ie=-1,se=O.queue.length;++ie<se;)O.queue[ie].callFulfilled(Q)}return O},l.reject=function(O,Q){O.state=c,O.outcome=Q;for(var J=-1,Y=O.queue.length;++J<Y;)O.queue[J].callRejected(Q);return O};function R(O){var Q=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof Q=="function")return function(){Q.apply(O,arguments)}}function P(O,Q){var J=!1;function Y(fe){J||(J=!0,l.reject(O,fe))}function ie(fe){J||(J=!0,l.resolve(O,fe))}function se(){Q(ie,Y)}var de=W(se);de.status==="error"&&Y(de.value)}function W(O,Q){var J={};try{J.value=O(Q),J.status="success"}catch(Y){J.status="error",J.value=Y}return J}A.resolve=H;function H(O){return O instanceof this?O:l.resolve(new this(a),O)}A.reject=z;function z(O){var Q=new this(a);return l.reject(Q,O)}A.all=q;function q(O){var Q=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var J=O.length,Y=!1;if(!J)return this.resolve([]);for(var ie=new Array(J),se=0,de=-1,fe=new this(a);++de<J;)ye(O[de],de);return fe;function ye(Se,Re){Q.resolve(Se).then(he,function(oe){Y||(Y=!0,l.reject(fe,oe))});function he(oe){ie[Re]=oe,++se===J&&!Y&&(Y=!0,l.resolve(fe,ie))}}}A.race=re;function re(O){var Q=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var J=O.length,Y=!1;if(!J)return this.resolve([]);for(var ie=-1,se=new this(a);++ie<J;)de(O[ie]);return se;function de(fe){Q.resolve(fe).then(function(ye){Y||(Y=!0,l.resolve(se,ye))},function(ye){Y||(Y=!0,l.reject(se,ye))})}}},{1:1}],3:[function(n,r,s){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,s){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function a(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=l();function u(){try{if(!c||!c.open)return!1;var d=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),y=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!d||y)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(d,y){d=d||[],y=y||{};try{return new Blob(d,y)}catch(v){if(v.name!=="TypeError")throw v;for(var g=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,b=new g,T=0;T<d.length;T+=1)b.append(d[T]);return b.getBlob(y.type)}}typeof Promise>"u"&&n(3);var A=Promise;function _(d,y){y&&d.then(function(g){y(null,g)},function(g){y(g)})}function C(d,y,g){typeof y=="function"&&d.then(y),typeof g=="function"&&d.catch(g)}function R(d){return typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),d}function P(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var W="local-forage-detect-blob-support",H=void 0,z={},q=Object.prototype.toString,re="readonly",O="readwrite";function Q(d){for(var y=d.length,g=new ArrayBuffer(y),b=new Uint8Array(g),T=0;T<y;T++)b[T]=d.charCodeAt(T);return g}function J(d){return new A(function(y){var g=d.transaction(W,O),b=f([""]);g.objectStore(W).put(b,"key"),g.onabort=function(T){T.preventDefault(),T.stopPropagation(),y(!1)},g.oncomplete=function(){var T=navigator.userAgent.match(/Chrome\/(\d+)/),v=navigator.userAgent.match(/Edge\//);y(v||!T||parseInt(T[1],10)>=43)}}).catch(function(){return!1})}function Y(d){return typeof H=="boolean"?A.resolve(H):J(d).then(function(y){return H=y,H})}function ie(d){var y=z[d.name],g={};g.promise=new A(function(b,T){g.resolve=b,g.reject=T}),y.deferredOperations.push(g),y.dbReady?y.dbReady=y.dbReady.then(function(){return g.promise}):y.dbReady=g.promise}function se(d){var y=z[d.name],g=y.deferredOperations.pop();if(g)return g.resolve(),g.promise}function de(d,y){var g=z[d.name],b=g.deferredOperations.pop();if(b)return b.reject(y),b.promise}function fe(d,y){return new A(function(g,b){if(z[d.name]=z[d.name]||Te(),d.db)if(y)ie(d),d.db.close();else return g(d.db);var T=[d.name];y&&T.push(d.version);var v=c.open.apply(c,T);y&&(v.onupgradeneeded=function(N){var B=v.result;try{B.createObjectStore(d.storeName),N.oldVersion<=1&&B.createObjectStore(W)}catch(F){if(F.name==="ConstraintError")console.warn('The database "'+d.name+'" has been upgraded from version '+N.oldVersion+" to version "+N.newVersion+', but the storage "'+d.storeName+'" already exists.');else throw F}}),v.onerror=function(N){N.preventDefault(),b(v.error)},v.onsuccess=function(){var N=v.result;N.onversionchange=function(B){B.target.close()},g(N),se(d)}})}function ye(d){return fe(d,!1)}function Se(d){return fe(d,!0)}function Re(d,y){if(!d.db)return!0;var g=!d.db.objectStoreNames.contains(d.storeName),b=d.version<d.db.version,T=d.version>d.db.version;if(b&&(d.version!==y&&console.warn('The database "'+d.name+`" can't be downgraded from version `+d.db.version+" to version "+d.version+"."),d.version=d.db.version),T||g){if(g){var v=d.db.version+1;v>d.version&&(d.version=v)}return!0}return!1}function he(d){return new A(function(y,g){var b=new FileReader;b.onerror=g,b.onloadend=function(T){var v=btoa(T.target.result||"");y({__local_forage_encoded_blob:!0,data:v,type:d.type})},b.readAsBinaryString(d)})}function oe(d){var y=Q(atob(d.data));return f([y],{type:d.type})}function le(d){return d&&d.__local_forage_encoded_blob}function Ne(d){var y=this,g=y._initReady().then(function(){var b=z[y._dbInfo.name];if(b&&b.dbReady)return b.dbReady});return C(g,d,d),g}function xe(d){ie(d);for(var y=z[d.name],g=y.forages,b=0;b<g.length;b++){var T=g[b];T._dbInfo.db&&(T._dbInfo.db.close(),T._dbInfo.db=null)}return d.db=null,ye(d).then(function(v){return d.db=v,Re(d)?Se(d):v}).then(function(v){d.db=y.db=v;for(var N=0;N<g.length;N++)g[N]._dbInfo.db=v}).catch(function(v){throw de(d,v),v})}function Ee(d,y,g,b){b===void 0&&(b=1);try{var T=d.db.transaction(d.storeName,y);g(null,T)}catch(v){if(b>0&&(!d.db||v.name==="InvalidStateError"||v.name==="NotFoundError"))return A.resolve().then(function(){if(!d.db||v.name==="NotFoundError"&&!d.db.objectStoreNames.contains(d.storeName)&&d.version<=d.db.version)return d.db&&(d.version=d.db.version+1),Se(d)}).then(function(){return xe(d).then(function(){Ee(d,y,g,b-1)})}).catch(g);g(v)}}function Te(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Fe(d){var y=this,g={db:null};if(d)for(var b in d)g[b]=d[b];var T=z[g.name];T||(T=Te(),z[g.name]=T),T.forages.push(y),y._initReady||(y._initReady=y.ready,y.ready=Ne);var v=[];function N(){return A.resolve()}for(var B=0;B<T.forages.length;B++){var F=T.forages[B];F!==y&&v.push(F._initReady().catch(N))}var L=T.forages.slice(0);return A.all(v).then(function(){return g.db=T.db,ye(g)}).then(function($){return g.db=$,Re(g,y._defaultConfig.version)?Se(g):$}).then(function($){g.db=T.db=$,y._dbInfo=g;for(var X=0;X<L.length;X++){var ue=L[X];ue!==y&&(ue._dbInfo.db=g.db,ue._dbInfo.version=g.version)}})}function Ve(d,y){var g=this;d=R(d);var b=new A(function(T,v){g.ready().then(function(){Ee(g._dbInfo,re,function(N,B){if(N)return v(N);try{var F=B.objectStore(g._dbInfo.storeName),L=F.get(d);L.onsuccess=function(){var $=L.result;$===void 0&&($=null),le($)&&($=oe($)),T($)},L.onerror=function(){v(L.error)}}catch($){v($)}})}).catch(v)});return _(b,y),b}function I(d,y){var g=this,b=new A(function(T,v){g.ready().then(function(){Ee(g._dbInfo,re,function(N,B){if(N)return v(N);try{var F=B.objectStore(g._dbInfo.storeName),L=F.openCursor(),$=1;L.onsuccess=function(){var X=L.result;if(X){var ue=X.value;le(ue)&&(ue=oe(ue));var ge=d(ue,X.key,$++);ge!==void 0?T(ge):X.continue()}else T()},L.onerror=function(){v(L.error)}}catch(X){v(X)}})}).catch(v)});return _(b,y),b}function K(d,y,g){var b=this;d=R(d);var T=new A(function(v,N){var B;b.ready().then(function(){return B=b._dbInfo,q.call(y)==="[object Blob]"?Y(B.db).then(function(F){return F?y:he(y)}):y}).then(function(F){Ee(b._dbInfo,O,function(L,$){if(L)return N(L);try{var X=$.objectStore(b._dbInfo.storeName);F===null&&(F=void 0);var ue=X.put(F,d);$.oncomplete=function(){F===void 0&&(F=null),v(F)},$.onabort=$.onerror=function(){var ge=ue.error?ue.error:ue.transaction.error;N(ge)}}catch(ge){N(ge)}})}).catch(N)});return _(T,g),T}function j(d,y){var g=this;d=R(d);var b=new A(function(T,v){g.ready().then(function(){Ee(g._dbInfo,O,function(N,B){if(N)return v(N);try{var F=B.objectStore(g._dbInfo.storeName),L=F.delete(d);B.oncomplete=function(){T()},B.onerror=function(){v(L.error)},B.onabort=function(){var $=L.error?L.error:L.transaction.error;v($)}}catch($){v($)}})}).catch(v)});return _(b,y),b}function Z(d){var y=this,g=new A(function(b,T){y.ready().then(function(){Ee(y._dbInfo,O,function(v,N){if(v)return T(v);try{var B=N.objectStore(y._dbInfo.storeName),F=B.clear();N.oncomplete=function(){b()},N.onabort=N.onerror=function(){var L=F.error?F.error:F.transaction.error;T(L)}}catch(L){T(L)}})}).catch(T)});return _(g,d),g}function Ae(d){var y=this,g=new A(function(b,T){y.ready().then(function(){Ee(y._dbInfo,re,function(v,N){if(v)return T(v);try{var B=N.objectStore(y._dbInfo.storeName),F=B.count();F.onsuccess=function(){b(F.result)},F.onerror=function(){T(F.error)}}catch(L){T(L)}})}).catch(T)});return _(g,d),g}function ve(d,y){var g=this,b=new A(function(T,v){if(d<0){T(null);return}g.ready().then(function(){Ee(g._dbInfo,re,function(N,B){if(N)return v(N);try{var F=B.objectStore(g._dbInfo.storeName),L=!1,$=F.openKeyCursor();$.onsuccess=function(){var X=$.result;if(!X){T(null);return}d===0||L?T(X.key):(L=!0,X.advance(d))},$.onerror=function(){v($.error)}}catch(X){v(X)}})}).catch(v)});return _(b,y),b}function ae(d){var y=this,g=new A(function(b,T){y.ready().then(function(){Ee(y._dbInfo,re,function(v,N){if(v)return T(v);try{var B=N.objectStore(y._dbInfo.storeName),F=B.openKeyCursor(),L=[];F.onsuccess=function(){var $=F.result;if(!$){b(L);return}L.push($.key),$.continue()},F.onerror=function(){T(F.error)}}catch($){T($)}})}).catch(T)});return _(g,d),g}function m(d,y){y=P.apply(this,arguments);var g=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||g.name,d.storeName=d.storeName||g.storeName);var b=this,T;if(!d.name)T=A.reject("Invalid arguments");else{var v=d.name===g.name&&b._dbInfo.db,N=v?A.resolve(b._dbInfo.db):ye(d).then(function(B){var F=z[d.name],L=F.forages;F.db=B;for(var $=0;$<L.length;$++)L[$]._dbInfo.db=B;return B});d.storeName?T=N.then(function(B){if(B.objectStoreNames.contains(d.storeName)){var F=B.version+1;ie(d);var L=z[d.name],$=L.forages;B.close();for(var X=0;X<$.length;X++){var ue=$[X];ue._dbInfo.db=null,ue._dbInfo.version=F}var ge=new A(function(_e,we){var Ce=c.open(d.name,F);Ce.onerror=function(Oe){var Qe=Ce.result;Qe.close(),we(Oe)},Ce.onupgradeneeded=function(){var Oe=Ce.result;Oe.deleteObjectStore(d.storeName)},Ce.onsuccess=function(){var Oe=Ce.result;Oe.close(),_e(Oe)}});return ge.then(function(_e){L.db=_e;for(var we=0;we<$.length;we++){var Ce=$[we];Ce._dbInfo.db=_e,se(Ce._dbInfo)}}).catch(function(_e){throw(de(d,_e)||A.resolve()).catch(function(){}),_e})}}):T=N.then(function(B){ie(d);var F=z[d.name],L=F.forages;B.close();for(var $=0;$<L.length;$++){var X=L[$];X._dbInfo.db=null}var ue=new A(function(ge,_e){var we=c.deleteDatabase(d.name);we.onerror=function(){var Ce=we.result;Ce&&Ce.close(),_e(we.error)},we.onblocked=function(){console.warn('dropInstance blocked for database "'+d.name+'" until all open connections are closed')},we.onsuccess=function(){var Ce=we.result;Ce&&Ce.close(),ge(Ce)}});return ue.then(function(ge){F.db=ge;for(var _e=0;_e<L.length;_e++){var we=L[_e];se(we._dbInfo)}}).catch(function(ge){throw(de(d,ge)||A.resolve()).catch(function(){}),ge})})}return _(T,y),T}var E={_driver:"asyncStorage",_initStorage:Fe,_support:u(),iterate:I,getItem:Ve,setItem:K,removeItem:j,clear:Z,length:Ae,key:ve,keys:ae,dropInstance:m};function S(){return typeof openDatabase=="function"}var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x="~~local_forage_type~",V=/^~~local_forage_type~([^~]+)~/,U="__lfsc__:",M=U.length,D="arbf",k="blob",ee="si08",G="ui08",te="uic8",ne="si16",ce="si32",me="ur16",pe="ui32",be="fl32",ke="fl64",Pe=M+D.length,Ue=Object.prototype.toString;function Le(d){var y=d.length*.75,g=d.length,b,T=0,v,N,B,F;d[d.length-1]==="="&&(y--,d[d.length-2]==="="&&y--);var L=new ArrayBuffer(y),$=new Uint8Array(L);for(b=0;b<g;b+=4)v=w.indexOf(d[b]),N=w.indexOf(d[b+1]),B=w.indexOf(d[b+2]),F=w.indexOf(d[b+3]),$[T++]=v<<2|N>>4,$[T++]=(N&15)<<4|B>>2,$[T++]=(B&3)<<6|F&63;return L}function $e(d){var y=new Uint8Array(d),g="",b;for(b=0;b<y.length;b+=3)g+=w[y[b]>>2],g+=w[(y[b]&3)<<4|y[b+1]>>4],g+=w[(y[b+1]&15)<<2|y[b+2]>>6],g+=w[y[b+2]&63];return y.length%3===2?g=g.substring(0,g.length-1)+"=":y.length%3===1&&(g=g.substring(0,g.length-2)+"=="),g}function Ie(d,y){var g="";if(d&&(g=Ue.call(d)),d&&(g==="[object ArrayBuffer]"||d.buffer&&Ue.call(d.buffer)==="[object ArrayBuffer]")){var b,T=U;d instanceof ArrayBuffer?(b=d,T+=D):(b=d.buffer,g==="[object Int8Array]"?T+=ee:g==="[object Uint8Array]"?T+=G:g==="[object Uint8ClampedArray]"?T+=te:g==="[object Int16Array]"?T+=ne:g==="[object Uint16Array]"?T+=me:g==="[object Int32Array]"?T+=ce:g==="[object Uint32Array]"?T+=pe:g==="[object Float32Array]"?T+=be:g==="[object Float64Array]"?T+=ke:y(new Error("Failed to get type for BinaryArray"))),y(T+$e(b))}else if(g==="[object Blob]"){var v=new FileReader;v.onload=function(){var N=x+d.type+"~"+$e(this.result);y(U+k+N)},v.readAsArrayBuffer(d)}else try{y(JSON.stringify(d))}catch(N){console.error("Couldn't convert value into a JSON string: ",d),y(null,N)}}function Be(d){if(d.substring(0,M)!==U)return JSON.parse(d);var y=d.substring(Pe),g=d.substring(M,Pe),b;if(g===k&&V.test(y)){var T=y.match(V);b=T[1],y=y.substring(T[0].length)}var v=Le(y);switch(g){case D:return v;case k:return f([v],{type:b});case ee:return new Int8Array(v);case G:return new Uint8Array(v);case te:return new Uint8ClampedArray(v);case ne:return new Int16Array(v);case me:return new Uint16Array(v);case ce:return new Int32Array(v);case pe:return new Uint32Array(v);case be:return new Float32Array(v);case ke:return new Float64Array(v);default:throw new Error("Unkown type: "+g)}}var De={serialize:Ie,deserialize:Be,stringToBuffer:Le,bufferToString:$e};function Ge(d,y,g,b){d.executeSql("CREATE TABLE IF NOT EXISTS "+y.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],g,b)}function rt(d){var y=this,g={db:null};if(d)for(var b in d)g[b]=typeof d[b]!="string"?d[b].toString():d[b];var T=new A(function(v,N){try{g.db=openDatabase(g.name,String(g.version),g.description,g.size)}catch(B){return N(B)}g.db.transaction(function(B){Ge(B,g,function(){y._dbInfo=g,v()},function(F,L){N(L)})},N)});return g.serializer=De,T}function Me(d,y,g,b,T,v){d.executeSql(g,b,T,function(N,B){B.code===B.SYNTAX_ERR?N.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[y.storeName],function(F,L){L.rows.length?v(F,B):Ge(F,y,function(){F.executeSql(g,b,T,v)},v)},v):v(N,B)},v)}function it(d,y){var g=this;d=R(d);var b=new A(function(T,v){g.ready().then(function(){var N=g._dbInfo;N.db.transaction(function(B){Me(B,N,"SELECT * FROM "+N.storeName+" WHERE key = ? LIMIT 1",[d],function(F,L){var $=L.rows.length?L.rows.item(0).value:null;$&&($=N.serializer.deserialize($)),T($)},function(F,L){v(L)})})}).catch(v)});return _(b,y),b}function st(d,y){var g=this,b=new A(function(T,v){g.ready().then(function(){var N=g._dbInfo;N.db.transaction(function(B){Me(B,N,"SELECT * FROM "+N.storeName,[],function(F,L){for(var $=L.rows,X=$.length,ue=0;ue<X;ue++){var ge=$.item(ue),_e=ge.value;if(_e&&(_e=N.serializer.deserialize(_e)),_e=d(_e,ge.key,ue+1),_e!==void 0){T(_e);return}}T()},function(F,L){v(L)})})}).catch(v)});return _(b,y),b}function Je(d,y,g,b){var T=this;d=R(d);var v=new A(function(N,B){T.ready().then(function(){y===void 0&&(y=null);var F=y,L=T._dbInfo;L.serializer.serialize(y,function($,X){X?B(X):L.db.transaction(function(ue){Me(ue,L,"INSERT OR REPLACE INTO "+L.storeName+" (key, value) VALUES (?, ?)",[d,$],function(){N(F)},function(ge,_e){B(_e)})},function(ue){if(ue.code===ue.QUOTA_ERR){if(b>0){N(Je.apply(T,[d,F,g,b-1]));return}B(ue)}})})}).catch(B)});return _(v,g),v}function ot(d,y,g){return Je.apply(this,[d,y,g,1])}function at(d,y){var g=this;d=R(d);var b=new A(function(T,v){g.ready().then(function(){var N=g._dbInfo;N.db.transaction(function(B){Me(B,N,"DELETE FROM "+N.storeName+" WHERE key = ?",[d],function(){T()},function(F,L){v(L)})})}).catch(v)});return _(b,y),b}function lt(d){var y=this,g=new A(function(b,T){y.ready().then(function(){var v=y._dbInfo;v.db.transaction(function(N){Me(N,v,"DELETE FROM "+v.storeName,[],function(){b()},function(B,F){T(F)})})}).catch(T)});return _(g,d),g}function ct(d){var y=this,g=new A(function(b,T){y.ready().then(function(){var v=y._dbInfo;v.db.transaction(function(N){Me(N,v,"SELECT COUNT(key) as c FROM "+v.storeName,[],function(B,F){var L=F.rows.item(0).c;b(L)},function(B,F){T(F)})})}).catch(T)});return _(g,d),g}function ut(d,y){var g=this,b=new A(function(T,v){g.ready().then(function(){var N=g._dbInfo;N.db.transaction(function(B){Me(B,N,"SELECT key FROM "+N.storeName+" WHERE id = ? LIMIT 1",[d+1],function(F,L){var $=L.rows.length?L.rows.item(0).key:null;T($)},function(F,L){v(L)})})}).catch(v)});return _(b,y),b}function dt(d){var y=this,g=new A(function(b,T){y.ready().then(function(){var v=y._dbInfo;v.db.transaction(function(N){Me(N,v,"SELECT key FROM "+v.storeName,[],function(B,F){for(var L=[],$=0;$<F.rows.length;$++)L.push(F.rows.item($).key);b(L)},function(B,F){T(F)})})}).catch(T)});return _(g,d),g}function At(d){return new A(function(y,g){d.transaction(function(b){b.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(T,v){for(var N=[],B=0;B<v.rows.length;B++)N.push(v.rows.item(B).name);y({db:d,storeNames:N})},function(T,v){g(v)})},function(b){g(b)})})}function ft(d,y){y=P.apply(this,arguments);var g=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||g.name,d.storeName=d.storeName||g.storeName);var b=this,T;return d.name?T=new A(function(v){var N;d.name===g.name?N=b._dbInfo.db:N=openDatabase(d.name,"","",0),d.storeName?v({db:N,storeNames:[d.storeName]}):v(At(N))}).then(function(v){return new A(function(N,B){v.db.transaction(function(F){function L(ge){return new A(function(_e,we){F.executeSql("DROP TABLE IF EXISTS "+ge,[],function(){_e()},function(Ce,Oe){we(Oe)})})}for(var $=[],X=0,ue=v.storeNames.length;X<ue;X++)$.push(L(v.storeNames[X]));A.all($).then(function(){N()}).catch(function(ge){B(ge)})},function(F){B(F)})})}):T=A.reject("Invalid arguments"),_(T,y),T}var ht={_driver:"webSQLStorage",_initStorage:rt,_support:S(),iterate:st,getItem:it,setItem:ot,removeItem:at,clear:lt,length:ct,key:ut,keys:dt,dropInstance:ft};function pt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Xe(d,y){var g=d.name+"/";return d.storeName!==y.storeName&&(g+=d.storeName+"/"),g}function gt(){var d="_localforage_support_test";try{return localStorage.setItem(d,!0),localStorage.removeItem(d),!1}catch{return!0}}function mt(){return!gt()||localStorage.length>0}function _t(d){var y=this,g={};if(d)for(var b in d)g[b]=d[b];return g.keyPrefix=Xe(d,y._defaultConfig),mt()?(y._dbInfo=g,g.serializer=De,A.resolve()):A.reject()}function yt(d){var y=this,g=y.ready().then(function(){for(var b=y._dbInfo.keyPrefix,T=localStorage.length-1;T>=0;T--){var v=localStorage.key(T);v.indexOf(b)===0&&localStorage.removeItem(v)}});return _(g,d),g}function Et(d,y){var g=this;d=R(d);var b=g.ready().then(function(){var T=g._dbInfo,v=localStorage.getItem(T.keyPrefix+d);return v&&(v=T.serializer.deserialize(v)),v});return _(b,y),b}function vt(d,y){var g=this,b=g.ready().then(function(){for(var T=g._dbInfo,v=T.keyPrefix,N=v.length,B=localStorage.length,F=1,L=0;L<B;L++){var $=localStorage.key(L);if($.indexOf(v)===0){var X=localStorage.getItem($);if(X&&(X=T.serializer.deserialize(X)),X=d(X,$.substring(N),F++),X!==void 0)return X}}});return _(b,y),b}function bt(d,y){var g=this,b=g.ready().then(function(){var T=g._dbInfo,v;try{v=localStorage.key(d)}catch{v=null}return v&&(v=v.substring(T.keyPrefix.length)),v});return _(b,y),b}function Tt(d){var y=this,g=y.ready().then(function(){for(var b=y._dbInfo,T=localStorage.length,v=[],N=0;N<T;N++){var B=localStorage.key(N);B.indexOf(b.keyPrefix)===0&&v.push(B.substring(b.keyPrefix.length))}return v});return _(g,d),g}function Ct(d){var y=this,g=y.keys().then(function(b){return b.length});return _(g,d),g}function St(d,y){var g=this;d=R(d);var b=g.ready().then(function(){var T=g._dbInfo;localStorage.removeItem(T.keyPrefix+d)});return _(b,y),b}function wt(d,y,g){var b=this;d=R(d);var T=b.ready().then(function(){y===void 0&&(y=null);var v=y;return new A(function(N,B){var F=b._dbInfo;F.serializer.serialize(y,function(L,$){if($)B($);else try{localStorage.setItem(F.keyPrefix+d,L),N(v)}catch(X){(X.name==="QuotaExceededError"||X.name==="NS_ERROR_DOM_QUOTA_REACHED")&&B(X),B(X)}})})});return _(T,g),T}function Nt(d,y){if(y=P.apply(this,arguments),d=typeof d!="function"&&d||{},!d.name){var g=this.config();d.name=d.name||g.name,d.storeName=d.storeName||g.storeName}var b=this,T;return d.name?T=new A(function(v){d.storeName?v(Xe(d,b._defaultConfig)):v(d.name+"/")}).then(function(v){for(var N=localStorage.length-1;N>=0;N--){var B=localStorage.key(N);B.indexOf(v)===0&&localStorage.removeItem(B)}}):T=A.reject("Invalid arguments"),_(T,y),T}var Rt={_driver:"localStorageWrapper",_initStorage:_t,_support:pt(),iterate:vt,getItem:Et,setItem:wt,removeItem:St,clear:yt,length:Ct,key:bt,keys:Tt,dropInstance:Nt},It=function(y,g){return y===g||typeof y=="number"&&typeof g=="number"&&isNaN(y)&&isNaN(g)},xt=function(y,g){for(var b=y.length,T=0;T<b;){if(It(y[T],g))return!0;T++}return!1},Ze=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"},je={},et={},He={INDEXEDDB:E,WEBSQL:ht,LOCALSTORAGE:Rt},kt=[He.INDEXEDDB._driver,He.WEBSQL._driver,He.LOCALSTORAGE._driver],ze=["dropInstance"],Ye=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ze),Bt={description:"",driver:kt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ot(d,y){d[y]=function(){var g=arguments;return d.ready().then(function(){return d[y].apply(d,g)})}}function qe(){for(var d=1;d<arguments.length;d++){var y=arguments[d];if(y)for(var g in y)y.hasOwnProperty(g)&&(Ze(y[g])?arguments[0][g]=y[g].slice():arguments[0][g]=y[g])}return arguments[0]}var Pt=function(){function d(y){a(this,d);for(var g in He)if(He.hasOwnProperty(g)){var b=He[g],T=b._driver;this[g]=T,je[T]||this.defineDriver(b)}this._defaultConfig=qe({},Bt),this._config=qe({},this._defaultConfig,y),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return d.prototype.config=function(g){if((typeof g>"u"?"undefined":o(g))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var b in g){if(b==="storeName"&&(g[b]=g[b].replace(/\W/g,"_")),b==="version"&&typeof g[b]!="number")return new Error("Database version must be a number.");this._config[b]=g[b]}return"driver"in g&&g.driver?this.setDriver(this._config.driver):!0}else return typeof g=="string"?this._config[g]:this._config},d.prototype.defineDriver=function(g,b,T){var v=new A(function(N,B){try{var F=g._driver,L=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!g._driver){B(L);return}for(var $=Ye.concat("_initStorage"),X=0,ue=$.length;X<ue;X++){var ge=$[X],_e=!xt(ze,ge);if((_e||g[ge])&&typeof g[ge]!="function"){B(L);return}}var we=function(){for(var Qe=function(Mt){return function(){var Vt=new Error("Method "+Mt+" is not implemented by the current driver"),nt=A.reject(Vt);return _(nt,arguments[arguments.length-1]),nt}},Ke=0,Lt=ze.length;Ke<Lt;Ke++){var We=ze[Ke];g[We]||(g[We]=Qe(We))}};we();var Ce=function(Qe){je[F]&&console.info("Redefining LocalForage driver: "+F),je[F]=g,et[F]=Qe,N()};"_support"in g?g._support&&typeof g._support=="function"?g._support().then(Ce,B):Ce(!!g._support):Ce(!0)}catch(Oe){B(Oe)}});return C(v,b,T),v},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(g,b,T){var v=je[g]?A.resolve(je[g]):A.reject(new Error("Driver not found."));return C(v,b,T),v},d.prototype.getSerializer=function(g){var b=A.resolve(De);return C(b,g),b},d.prototype.ready=function(g){var b=this,T=b._driverSet.then(function(){return b._ready===null&&(b._ready=b._initDriver()),b._ready});return C(T,g,g),T},d.prototype.setDriver=function(g,b,T){var v=this;Ze(g)||(g=[g]);var N=this._getSupportedDrivers(g);function B(){v._config.driver=v.driver()}function F(X){return v._extend(X),B(),v._ready=v._initStorage(v._config),v._ready}function L(X){return function(){var ue=0;function ge(){for(;ue<X.length;){var _e=X[ue];return ue++,v._dbInfo=null,v._ready=null,v.getDriver(_e).then(F).catch(ge)}B();var we=new Error("No available storage method found.");return v._driverSet=A.reject(we),v._driverSet}return ge()}}var $=this._driverSet!==null?this._driverSet.catch(function(){return A.resolve()}):A.resolve();return this._driverSet=$.then(function(){var X=N[0];return v._dbInfo=null,v._ready=null,v.getDriver(X).then(function(ue){v._driver=ue._driver,B(),v._wrapLibraryMethodsWithReady(),v._initDriver=L(N)})}).catch(function(){B();var X=new Error("No available storage method found.");return v._driverSet=A.reject(X),v._driverSet}),C(this._driverSet,b,T),this._driverSet},d.prototype.supports=function(g){return!!et[g]},d.prototype._extend=function(g){qe(this,g)},d.prototype._getSupportedDrivers=function(g){for(var b=[],T=0,v=g.length;T<v;T++){var N=g[T];this.supports(N)&&b.push(N)}return b},d.prototype._wrapLibraryMethodsWithReady=function(){for(var g=0,b=Ye.length;g<b;g++)Ot(this,Ye[g])},d.prototype.createInstance=function(g){return new d(g)},d}(),Ft=new Pt;r.exports=Ft},{3:3}]},{},[4])(4)})})(localforage);const localForage=localforage.exports;class EventStoreEvent{constructor(t,n,r,s,o,a){this.collection=t,this.objectId=n,this.action=r,this.data=s,this.time=o,this.version=a,this.key=`${this.time}/${this.collection}/${this.objectId}/${this.action}/${this.version}`}toLocal(){return typeof this.data=="string"||this.data===null||typeof this.data>"u"?this.data:JSON.stringify(this.data)}toRemote(){return{collection:this.collection,objectId:this.objectId,action:this.action,data:this.data,time:this.time,version:this.version}}}const KEY_MATCHER=/(?<time>\d+)\/(?<collection>\w+)\/(?<objectId>[\w-:]+)\/(?<action>[\w-_]+)\/(?<version>[\w-._]+)/;EventStoreEvent.parseEvent=e=>e.match(KEY_MATCHER).groups;EventStoreEvent.from=(e,t)=>{let n;try{n=EventStoreEvent.parseEvent(e)}catch(r){return console.warn("Could not parse event key",e,r),null}try{t=JSON.parse(t)}catch{}return new EventStoreEvent(n.collection,n.objectId,n.action,t,parseInt(n.time),n.version)};class EventStore{constructor(t,n,r={}){this._events=[],this._name=t,this._db=localForage.createInstance({name:t}),this._runners=r,this._version=n,this.eachCollectionName(s=>{this[s]=this[s]||[]})}track(t,n,r,s={},o=Date.now(),a=this._version){const l=new EventStoreEvent(t,n||v4(),r,s,o,a);this._runEvent(l),this._db.setItem(l.key,l.toLocal())}eachCollectionName(t){for(const n in this._runners){if(/^v[0-9.]+$/.test(n))continue;const r=n.split(".")[0];t(r)}}importRaw(t){(t||"").split(`
`).map(r=>r.trim()).filter(r=>r.trim().length>0).forEach(r=>{const s=r.split(" "),o=EventStoreEvent.from(s.shift(),s.join(" "));!o||this._events.find(a=>a.key===o.key)||(this._runEvent(o),this._db.setItem(o.key,o.toLocal()))})}findAllEvents(){return this._events.sort(EventStore.SORT_BY_DATE)}findAll(t){return this[t].filter(n=>!n._deleted)}findAllWithDeleted(t){return this[t]}findById(t,n){return this.findAll(t).find(r=>r.id===n)}findByIdWithDeleted(t,n){return this.findAllWithDeleted(t).find(r=>r.id===n)}restore(){return this._db.iterate((t,n)=>{const r=EventStoreEvent.from(n,t);r!==null&&this._runEvent(r)})}reset(){return this.eachCollectionName(t=>{this[t].splice(0)}),this._events.splice(0),this._db.clear()}teardown(){return localForage.dropInstance({name:this._name})}_findSpecificRunnerForEvent(t){return this._runners[t.version]&&this._runners[t.version][`${t.collection}.${t.action}`]}_runEvent(t){const n=this._findSpecificRunnerForEvent(t)||this._runners[`${t.collection}.${t.action}`];if(!n)return console.warn(`No runner found for event: ${t.collection}.${t.action}`,t);n(this,t),this._events.push(t)}}EventStore.RUNNERS={CREATE(e,t){e[t.collection].push(Object.assign({},t.data,{id:t.objectId,createdAt:t.time,updatedAt:(t.data||{}).updatedAt||0,_collection:t.collection}))},UPDATE(e,t){const r=e[t.collection].find(s=>s.id===t.objectId);if(!r)return EventStore.RUNNERS.CREATE(e,t);r.updatedAt=t.time,r.data=r.data||{};for(const s in t.data)r[s]=t.data[s]},DELETE(e,t){const r=e[t.collection].find(s=>s.id===t.objectId);r._deleted=!0}};EventStore.SORT_BY_DATE=(e,t)=>e.date<t.date?-1:e.date>t.date?1:0;class MultipleEventStore extends EventStore{constructor(t,n,r={}){super(t,n,r),this._config=this._db,this._dbs={},Object.defineProperty(this,"events",{get:()=>this.findAllEvents(void 0),set(){throw new Error("Cannot set read-only attribute: events")}});for(const s in r){const o=s.split(".")[0];Object.defineProperty(this,o,{get:()=>this.findAll(void 0,o),set(){throw new Error(`Cannot set read-only attribute: ${o}`)}})}}createDB(t){return t=t||v4(),this._setConfig(t,{}),this._initDB(t),t}deleteDB(t){const n=this._dbs[t];return delete this._dbs[t],Promise.all([n?n.teardown():Promise.resolve(),this._config.removeItem(t)])}teardownDBs(){const t=[];for(const n in this._dbs)t.push(this.deleteDB(n));return Promise.all(t)}_setConfig(t,n){return this._config.setItem(t,n)}track(t,...n){const s=this._findDBs(t?[t]:void 0).map(o=>o.track.apply(o,n));return Promise.all(s)}importRaw(t,...n){const s=this._findDBs(t?[t]:void 0).map(o=>o.importRaw.apply(o,n));return Promise.all(s)}reset(t,...n){const s=this._findDBs(t?[t]:void 0).map(o=>o.reset.apply(o,n));return Promise.all(s)}clear(t,...n){const s=this._findDBs(t?[t]:void 0).map(o=>o.reset.apply(o,n));return s.push(this._config.clear()),Promise.all(s)}findAllEvents(t,...n){return this._findDBs(t?[t]:void 0).reduce((s,o)=>s.concat(o.findAllEvents.apply(o,n)),[]).sort(EventStore.SORT_BY_DATE)}findAll(t,...n){return this._findDBs(t?[t]:void 0).reduce((s,o)=>s.concat(o.findAll.apply(o,n)),[]).sort(EventStore.SORT_BY_DATE)}findAllWithDeleted(t,...n){return this._findDBs(t?[t]:void 0).reduce((s,o)=>s.concat(o.findAllWithDeleted.apply(o,n)),[]).sort(EventStore.SORT_BY_DATE)}findById(t,...n){return this._findDBs(t?[t]:void 0).reduce((s,o)=>s.concat([o.findById.apply(o,n)]),[]).sort(EventStore.SORT_BY_DATE)[0]}restore(...t){return this._config.iterate((n,r)=>{this._initDB(r)}).then(()=>{const n=[];for(const r in this._dbs)n.push(this._dbs[r].restore(...t));return Promise.all(n)})}removeEvent(t,n){const r=this._findDBs(t?[t]:void 0),s=[];for(var o=0;o<r.length;o++)s.push(r[o].removeEvent(n));return Promise.all(s)}_initDB(t){const n=new EventStore(`${this._name}-${t}`,this._version,this._runners);return this._dbs[t]=n,n}_findDBs(t){if(!t||!t.length)return Object.values(this._dbs);const n=[];for(const r in this._dbs)t.indexOf(r)!==-1&&n.push(this._dbs[r]);return n}}const ROLLUP=(e,t)=>{[t.data.identity].forEach(l=>{const c=new EventStoreEvent("identities",l.id,"create",l,l.createdAt,t.version);EventStore.RUNNERS.CREATE(e,c)}),(t.data.feeds||[]).forEach(l=>{const c=new EventStoreEvent("feeds",l.id,"create",l,l.createdAt,t.version);EventStore.RUNNERS.CREATE(e,c)}),(t.data.entries||[]).forEach(l=>{const c=new EventStoreEvent("entries",l.id,"create",l,l.createdAt,t.version);EventStore.RUNNERS.CREATE(e,c)}),(t.data.signals||[]).forEach(l=>{const c=new EventStoreEvent("signals",l.id,"create",l,l.createdAt,t.version);EventStore.RUNNERS.CREATE(e,c)}),(t.data.addons||[]).forEach(l=>{const c=new EventStoreEvent("addons",l.id,"configure",l,l.updatedAt,t.version);EventStore.RUNNERS.UPDATE(e,c)})},runners={"feeds.create":EventStore.RUNNERS.CREATE,"feeds.update":EventStore.RUNNERS.UPDATE,"feeds.delete":EventStore.RUNNERS.DELETE,"feeds.pause":(e,t)=>{const r=e[t.collection].find(s=>s.id===t.objectId);if(!r){console.warn(`Object not found for event: ${JSON.stringify(t)}`);return}r.pausedAt=t.time},"feeds.unpause":(e,t)=>{const r=e[t.collection].find(s=>s.id===t.objectId);if(!r){console.warn(`Object not found for event: ${JSON.stringify(t)}`);return}delete r.pausedAt},"entries.create":EventStore.RUNNERS.CREATE,"entries.update":EventStore.RUNNERS.UPDATE,"entries.delete":EventStore.RUNNERS.DELETE,"entries.read":(e,t)=>{const r=e[t.collection].find(s=>s.id===t.objectId);if(!r){console.warn(`Object not found for event: ${JSON.stringify(t)}`);return}r.readAt=t.time},"entries.unread":(e,t)=>{const r=e[t.collection].find(s=>s.id===t.objectId);if(!r){console.warn(`Object not found for event: ${JSON.stringify(t)}`);return}delete r.readAt},"identities.create":EventStore.RUNNERS.CREATE,"identities.delete":EventStore.RUNNERS.DELETE,"identities.rollup":ROLLUP,"signals.create":EventStore.RUNNERS.CREATE,"signals.update":EventStore.RUNNERS.UPDATE,"signals.delete":EventStore.RUNNERS.DELETE,"addons.configure":EventStore.RUNNERS.UPDATE,"addons.delete":EventStore.RUNNERS.DELETE,"v2.1":{"identities.setProxy":(e,t)=>{const n=new EventStoreEvent("addons",t.data.addonType,"configure",t.data.data,t.time,"v2.2");EventStore.RUNNERS.UPDATE(e,n)},"identities.rollup":(e,t)=>{const n=[];for(const s in t.data.identity.addons)t.data.identity.addons[s].id=s,n.push(t.data.identity.addons[s]);delete t.data.identity.addons,t.data.addons=n;const r=new EventStoreEvent(t.collection,t.objectId,t.action,t.data,t.time,"v2.2");ROLLUP(e,r)}}};var validator$2={},util$2={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+t+"]["+n+"]*",s=new RegExp("^"+r+"$"),o=function(l,c){const u=[];let f=c.exec(l);for(;f;){const A=[];A.startIndex=c.lastIndex-f[0].length;const _=f.length;for(let C=0;C<_;C++)A.push(f[C]);u.push(A),f=c.exec(l)}return u},a=function(l){const c=s.exec(l);return!(c===null||typeof c>"u")};e.isExist=function(l){return typeof l<"u"},e.isEmptyObject=function(l){return Object.keys(l).length===0},e.merge=function(l,c,u){if(c){const f=Object.keys(c),A=f.length;for(let _=0;_<A;_++)u==="strict"?l[f[_]]=[c[f[_]]]:l[f[_]]=c[f[_]]}},e.getValue=function(l){return e.isExist(l)?l:""},e.isName=a,e.getAllMatches=o,e.nameRegexp=r})(util$2);const util$1=util$2,defaultOptions$2={allowBooleanAttributes:!1,unpairedTags:[]};validator$2.validate=function(e,t){t=Object.assign({},defaultOptions$2,t);const n=[];let r=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=readPI(e,o),o.err)return o}else if(e[o]==="<"){let a=o;if(o++,e[o]==="!"){o=readCommentAndCDATA(e,o);continue}else{let l=!1;e[o]==="/"&&(l=!0,o++);let c="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)c+=e[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!validateTagName(c)){let A;return c.trim().length===0?A="Invalid space after '<'.":A="Tag '"+c+"' is an invalid name.",getErrorObject("InvalidTag",A,getLineNumberForPosition(e,o))}const u=readAttributeStr(e,o);if(u===!1)return getErrorObject("InvalidAttr","Attributes for '"+c+"' have open quote.",getLineNumberForPosition(e,o));let f=u.value;if(o=u.index,f[f.length-1]==="/"){const A=o-f.length;f=f.substring(0,f.length-1);const _=validateAttributeString(f,t);if(_===!0)r=!0;else return getErrorObject(_.err.code,_.err.msg,getLineNumberForPosition(e,A+_.err.line))}else if(l)if(u.tagClosed){if(f.trim().length>0)return getErrorObject("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",getLineNumberForPosition(e,a));{const A=n.pop();if(c!==A.tagName){let _=getLineNumberForPosition(e,A.tagStartPos);return getErrorObject("InvalidTag","Expected closing tag '"+A.tagName+"' (opened in line "+_.line+", col "+_.col+") instead of closing tag '"+c+"'.",getLineNumberForPosition(e,a))}n.length==0&&(s=!0)}}else return getErrorObject("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",getLineNumberForPosition(e,o));else{const A=validateAttributeString(f,t);if(A!==!0)return getErrorObject(A.err.code,A.err.msg,getLineNumberForPosition(e,o-f.length+A.err.line));if(s===!0)return getErrorObject("InvalidXml","Multiple possible root nodes found.",getLineNumberForPosition(e,o));t.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:a}),r=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=readCommentAndCDATA(e,o);continue}else if(e[o+1]==="?"){if(o=readPI(e,++o),o.err)return o}else break;else if(e[o]==="&"){const A=validateAmpersand(e,o);if(A==-1)return getErrorObject("InvalidChar","char '&' is not expected.",getLineNumberForPosition(e,o));o=A}else if(s===!0&&!isWhiteSpace(e[o]))return getErrorObject("InvalidXml","Extra text at the end",getLineNumberForPosition(e,o));e[o]==="<"&&o--}}else{if(isWhiteSpace(e[o]))continue;return getErrorObject("InvalidChar","char '"+e[o]+"' is not expected.",getLineNumberForPosition(e,o))}if(r){if(n.length==1)return getErrorObject("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",getLineNumberForPosition(e,n[0].tagStartPos));if(n.length>0)return getErrorObject("InvalidXml","Invalid '"+JSON.stringify(n.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return getErrorObject("InvalidXml","Start tag expected.",1);return!0};function isWhiteSpace(e){return e===" "||e==="	"||e===`
`||e==="\r"}function readPI(e,t){const n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const r=e.substr(n,t-n);if(t>5&&r==="xml")return getErrorObject("InvalidXml","XML declaration allowed only at the start of the document.",getLineNumberForPosition(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function readCommentAndCDATA(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const doubleQuote='"',singleQuote="'";function readAttributeStr(e,t){let n="",r="",s=!1;for(;t<e.length;t++){if(e[t]===doubleQuote||e[t]===singleQuote)r===""?r=e[t]:r!==e[t]||(r="");else if(e[t]===">"&&r===""){s=!0;break}n+=e[t]}return r!==""?!1:{value:n,index:t,tagClosed:s}}const validAttrStrRegxp=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function validateAttributeString(e,t){const n=util$1.getAllMatches(e,validAttrStrRegxp),r={};for(let s=0;s<n.length;s++){if(n[s][1].length===0)return getErrorObject("InvalidAttr","Attribute '"+n[s][2]+"' has no space in starting.",getPositionFromMatch(n[s]));if(n[s][3]!==void 0&&n[s][4]===void 0)return getErrorObject("InvalidAttr","Attribute '"+n[s][2]+"' is without value.",getPositionFromMatch(n[s]));if(n[s][3]===void 0&&!t.allowBooleanAttributes)return getErrorObject("InvalidAttr","boolean attribute '"+n[s][2]+"' is not allowed.",getPositionFromMatch(n[s]));const o=n[s][2];if(!validateAttrName(o))return getErrorObject("InvalidAttr","Attribute '"+o+"' is an invalid name.",getPositionFromMatch(n[s]));if(!r.hasOwnProperty(o))r[o]=1;else return getErrorObject("InvalidAttr","Attribute '"+o+"' is repeated.",getPositionFromMatch(n[s]))}return!0}function validateNumberAmpersand(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function validateAmpersand(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,validateNumberAmpersand(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function getErrorObject(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function validateAttrName(e){return util$1.isName(e)}function validateTagName(e){return util$1.isName(e)}function getLineNumberForPosition(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function getPositionFromMatch(e){return e.startIndex+e[1].length}var OptionsBuilder={};const defaultOptions$1={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1},buildOptions$1=function(e){return Object.assign({},defaultOptions$1,e)};OptionsBuilder.buildOptions=buildOptions$1;OptionsBuilder.defaultOptions=defaultOptions$1;class XmlNode{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){this.child.push({[t]:n})}addChild(t){t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}}var xmlNode$1=XmlNode;function readDocType$1(e,t){const n={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let r=1,s=!1,o=!1,a=!1,l="";for(;t<e.length;t++)if(e[t]==="<"){if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,o=!0;else if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")a=!0;else throw new Error("Invalid DOCTYPE");r++,l=""}else if(e[t]===">"){if(a)if(e[t-1]==="-"&&e[t-2]==="-")a=!1;else throw new Error("Invalid XML comment in DOCTYPE");else o&&(parseEntityExp(l,n),o=!1);if(r--,r===0)break}else e[t]==="["?s=!0:l+=e[t];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:t}}const entityRegex=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function parseEntityExp(e,t){const n=entityRegex.exec(e);n&&(t[n[1]]={regx:RegExp(`&${n[1]};`,"g"),val:n[3]})}var DocTypeReader=readDocType$1;const hexRegex=/^[-+]?0x[a-fA-F0-9]+$/,numRegex=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const consider={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function toNumber$1(e,t={}){if(t=Object.assign({},consider,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(t.hex&&hexRegex.test(n))return Number.parseInt(n,16);{const r=numRegex.exec(n);if(r){const s=r[1],o=r[2];let a=trimZeros(r[3]);const l=r[4]||r[6];if(!t.leadingZeros&&o.length>0&&s&&n[2]!==".")return e;if(!t.leadingZeros&&o.length>0&&!s&&n[1]!==".")return e;{const c=Number(n),u=""+c;return u.search(/[eE]/)!==-1||l?t.eNotation?c:e:n.indexOf(".")!==-1?u==="0"&&a===""||u===a||s&&u==="-"+a?c:e:o?a===u||s+a===u?c:e:n===u||n===s+u?c:e}}else return e}}function trimZeros(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var strnum=toNumber$1;const util=util$2,xmlNode=xmlNode$1,readDocType=DocTypeReader,toNumber=strnum;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,util.nameRegexp);let OrderedObjParser$1=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=addExternalEntities,this.parseXml=parseXml,this.parseTextData=parseTextData,this.resolveNameSpace=resolveNameSpace,this.buildAttributesMap=buildAttributesMap,this.isItStopNode=isItStopNode,this.replaceEntitiesValue=replaceEntitiesValue$2,this.readStopNodeData=readStopNodeData,this.saveTextToParentTag=saveTextToParentTag}};function addExternalEntities(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function parseTextData(e,t,n,r,s,o,a){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));const l=this.options.tagValueProcessor(t,e,n,s,o);return l==null?e:typeof l!=typeof e||l!==e?l:this.options.trimValues?parseValue(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?parseValue(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function resolveNameSpace(e){if(this.options.removeNSPrefix){const t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}const attrsRegx=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function buildAttributesMap(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){const n=util.getAllMatches(e,attrsRegx),r=n.length,s={};for(let o=0;o<r;o++){const a=this.resolveNameSpace(n[o][1]);let l=n[o][4];const c=this.options.attributeNamePrefix+a;if(a.length)if(l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);const u=this.options.attributeValueProcessor(a,l,t);u==null?s[c]=l:typeof u!=typeof l||u!==l?s[c]=u:s[c]=parseValue(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=s,o}return s}}const parseXml=function(e){e=e.replace(/\r\n?/g,`
`);const t=new xmlNode("!xml");let n=t,r="",s="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){const l=findClosingIndex(e,">",o,"Closing Tag is not closed.");let c=e.substring(o+2,l).trim();if(this.options.removeNSPrefix){const u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,s)),s=s.substr(0,s.lastIndexOf(".")),n=this.tagsNodeStack.pop(),r="",o=l}else if(e[o+1]==="?"){let l=readTagExp(e,o,!1,"?>");if(!l)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,s),!(this.options.ignoreDeclaration&&l.tagName==="?xml"||this.options.ignorePiTags)){const c=new xmlNode(l.tagName);c.add(this.options.textNodeName,""),l.tagName!==l.tagExp&&l.attrExpPresent&&(c[":@"]=this.buildAttributesMap(l.tagExp,s)),n.addChild(c)}o=l.closeIndex+1}else if(e.substr(o+1,3)==="!--"){const l=findClosingIndex(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){const c=e.substring(o+4,l-2);r=this.saveTextToParentTag(r,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=l}else if(e.substr(o+1,2)==="!D"){const l=readDocType(e,o);this.docTypeEntities=l.entities,o=l.i}else if(e.substr(o+1,2)==="!["){const l=findClosingIndex(e,"]]>",o,"CDATA is not closed.")-2,c=e.substring(o+9,l);if(r=this.saveTextToParentTag(r,n,s),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let u=this.parseTextData(c,n.tagname,s,!0,!1,!0);u==null&&(u=""),n.add(this.options.textNodeName,u)}o=l+2}else{let l=readTagExp(e,o,this.options.removeNSPrefix),c=l.tagName,u=l.tagExp,f=l.attrExpPresent,A=l.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,s,!1)),c!==t.tagname&&(s+=s?"."+c:c);const _=n;if(_&&this.options.unpairedTags.indexOf(_.tagname)!==-1&&(n=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,c)){let C="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)o=l.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=l.closeIndex;else{const P=this.readStopNodeData(e,c,A+1);if(!P)throw new Error(`Unexpected end of ${c}`);o=P.i,C=P.tagContent}const R=new xmlNode(c);c!==u&&f&&(R[":@"]=this.buildAttributesMap(u,s)),C&&(C=this.parseTextData(C,c,s,!0,f,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),R.add(this.options.textNodeName,C),n.addChild(R)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const C=new xmlNode(c);c!==u&&f&&(C[":@"]=this.buildAttributesMap(u,s)),s=s.substr(0,s.lastIndexOf(".")),n.addChild(C)}else{const C=new xmlNode(c);this.tagsNodeStack.push(n),c!==u&&f&&(C[":@"]=this.buildAttributesMap(u,s)),n.addChild(C),n=C}r="",o=A}}else r+=e[o];return t.child},replaceEntitiesValue$2=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function saveTextToParentTag(e,t,n,r){return e&&(r===void 0&&(r=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function isItStopNode(e,t,n){const r="*."+n;for(const s in e){const o=e[s];if(r===o||t===o)return!0}return!1}function tagExpWithClosingIndex(e,t,n=">"){let r,s="";for(let o=t;o<e.length;o++){let a=e[o];if(r)a===r&&(r="");else if(a==='"'||a==="'")r=a;else if(a===n[0])if(n[1]){if(e[o+1]===n[1])return{data:s,index:o}}else return{data:s,index:o};else a==="	"&&(a=" ");s+=a}}function findClosingIndex(e,t,n,r){const s=e.indexOf(t,n);if(s===-1)throw new Error(r);return s+t.length-1}function readTagExp(e,t,n,r=">"){const s=tagExpWithClosingIndex(e,t+1,r);if(!s)return;let o=s.data;const a=s.index,l=o.search(/\s/);let c=o,u=!0;if(l!==-1&&(c=o.substr(0,l).replace(/\s\s*$/,""),o=o.substr(l+1)),n){const f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),u=c!==s.data.substr(f+1))}return{tagName:c,tagExp:o,closeIndex:a,attrExpPresent:u}}function readStopNodeData(e,t,n){const r=n;let s=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){const o=findClosingIndex(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t&&(s--,s===0))return{tagContent:e.substring(r,n),i:o};n=o}else if(e[n+1]==="?")n=findClosingIndex(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=findClosingIndex(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=findClosingIndex(e,"]]>",n,"StopNode is not closed.")-2;else{const o=readTagExp(e,n,">");o&&((o&&o.tagName)===t&&o.tagExp[o.tagExp.length-1]!=="/"&&s++,n=o.closeIndex)}}function parseValue(e,t,n){if(t&&typeof e=="string"){const r=e.trim();return r==="true"?!0:r==="false"?!1:toNumber(e,n)}else return util.isExist(e)?e:""}var OrderedObjParser_1=OrderedObjParser$1,node2json={};function prettify$1(e,t){return compress(e,t)}function compress(e,t,n){let r;const s={};for(let o=0;o<e.length;o++){const a=e[o],l=propName$1(a);let c="";if(n===void 0?c=l:c=n+"."+l,l===t.textNodeName)r===void 0?r=a[l]:r+=""+a[l];else{if(l===void 0)continue;if(a[l]){let u=compress(a[l],t,c);const f=isLeafTag(u,t);a[":@"]?assignAttributes(u,a[":@"],c,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),s[l]!==void 0&&s.hasOwnProperty(l)?(Array.isArray(s[l])||(s[l]=[s[l]]),s[l].push(u)):t.isArray(l,c,f)?s[l]=[u]:s[l]=u}}}return typeof r=="string"?r.length>0&&(s[t.textNodeName]=r):r!==void 0&&(s[t.textNodeName]=r),s}function propName$1(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(r!==":@")return r}}function assignAttributes(e,t,n,r){if(t){const s=Object.keys(t),o=s.length;for(let a=0;a<o;a++){const l=s[a];r.isArray(l,n+"."+l,!0,!0)?e[l]=[t[l]]:e[l]=t[l]}}}function isLeafTag(e,t){const n=Object.keys(e).length;return!!(n===0||n===1&&e[t.textNodeName])}node2json.prettify=prettify$1;const{buildOptions}=OptionsBuilder,OrderedObjParser=OrderedObjParser_1,{prettify}=node2json,validator$1=validator$2;let XMLParser$1=class{constructor(t){this.externalEntities={},this.options=buildOptions(t)}parse(t,n){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const o=validator$1.validate(t,n);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}const r=new OrderedObjParser(this.options);r.addExternalEntities(this.externalEntities);const s=r.parseXml(t);return this.options.preserveOrder||s===void 0?s:prettify(s,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}};var XMLParser_1=XMLParser$1;const EOL=`
`;function toXml(e,t){return arrToStr(e,t,"",0)}function arrToStr(e,t,n,r){let s="",o="";t.format&&t.indentBy.length>0&&(o=EOL+""+t.indentBy.repeat(r));for(let a=0;a<e.length;a++){const l=e[a],c=propName(l);let u="";if(n.length===0?u=c:u=`${n}.${c}`,c===t.textNodeName){let C=l[c];isStopNode(u,t)||(C=t.tagValueProcessor(c,C),C=replaceEntitiesValue$1(C,t)),s+=o+C;continue}else if(c===t.cdataPropName){s+=o+`<![CDATA[${l[c][0][t.textNodeName]}]]>`;continue}else if(c===t.commentPropName){s+=o+`<!--${l[c][0][t.textNodeName]}-->`;continue}else if(c[0]==="?"){const C=attr_to_str(l[":@"],t),R=c==="?xml"?"":o;let P=l[c][0][t.textNodeName];P=P.length!==0?" "+P:"",s+=R+`<${c}${P}${C}?>`;continue}const f=attr_to_str(l[":@"],t);let A=o+`<${c}${f}`,_=arrToStr(l[c],t,u,r+1);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?s+=A+">":s+=A+"/>":(!_||_.length===0)&&t.suppressEmptyNode?s+=A+"/>":s+=A+`>${_}${o}</${c}>`}return s}function propName(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(r!==":@")return r}}function attr_to_str(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){let s=t.attributeValueProcessor(r,e[r]);s=replaceEntitiesValue$1(s,t),s===!0&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${s}"`}return n}function isStopNode(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let n=e.substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function replaceEntitiesValue$1(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}var orderedJs2Xml=toXml;const buildFromOrderedJs=orderedJs2Xml,defaultOptions={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],transformTagName:!1};function Builder(e){this.options=Object.assign({},defaultOptions,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=isAttribute),this.processTextOrObjNode=processTextOrObjNode,this.options.format?(this.indentate=indentate,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=buildEmptyTextNode,this.buildObjNode=buildEmptyObjNode):(this.buildTextNode=buildTextValNode,this.buildObjNode=buildObjectNode),this.buildTextValNode=buildTextValNode,this.buildObjectNode=buildObjectNode,this.replaceEntitiesValue=replaceEntitiesValue,this.buildAttrPairStr=buildAttrPairStr}Builder.prototype.build=function(e){return this.options.preserveOrder?buildFromOrderedJs(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Builder.prototype.j2x=function(e,t){let n="",r="";for(let s in e)if(!(typeof e[s]>"u"))if(e[s]===null)s[0]==="?"?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)r+=this.buildTextNode(e[s],s,"",t);else if(typeof e[s]!="object"){const o=this.isAttribute(s);if(o)n+=this.buildAttrPairStr(o,""+e[s]);else if(s===this.options.textNodeName){let a=this.options.tagValueProcessor(s,""+e[s]);r+=this.replaceEntitiesValue(a)}else r+=this.buildTextNode(e[s],s,"",t)}else if(Array.isArray(e[s])){const o=e[s].length;for(let a=0;a<o;a++){const l=e[s][a];typeof l>"u"||(l===null?s[0]==="?"?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar:typeof l=="object"?r+=this.processTextOrObjNode(l,s,t):r+=this.buildTextNode(l,s,"",t))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){const o=Object.keys(e[s]),a=o.length;for(let l=0;l<a;l++)n+=this.buildAttrPairStr(o[l],""+e[s][o[l]])}else r+=this.processTextOrObjNode(e[s],s,t);return{attrStr:n,val:r}};function buildAttrPairStr(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'}function processTextOrObjNode(e,t,n){const r=this.j2x(e,n+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjNode(r.val,t,r.attrStr,n)}function buildObjectNode(e,t,n,r){let s="</"+t+this.tagEndChar,o="";return t[0]==="?"&&(o="?",s=""),n&&e.indexOf("<")===-1?this.indentate(r)+"<"+t+n+o+">"+e+s:this.options.commentPropName!==!1&&t===this.options.commentPropName&&o.length===0?this.indentate(r)+`<!--${e}-->`+this.newLine:this.indentate(r)+"<"+t+n+o+this.tagEndChar+e+this.indentate(r)+s}function buildEmptyObjNode(e,t,n,r){return e!==""?this.buildObjectNode(e,t,n,r):t[0]==="?"?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function buildTextValNode(e,t,n,r){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(r)+`<!--${e}-->`+this.newLine;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),s===""&&this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode?this.indentate(r)+"<"+t+this.tagEndChar:this.indentate(r)+"<"+t+"/"+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+s+"</"+t+this.tagEndChar}}function replaceEntitiesValue(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e}function buildEmptyTextNode(e,t,n,r){return e===""&&this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode?this.indentate(r)+"<"+t+this.tagEndChar:this.indentate(r)+"<"+t+"/"+this.tagEndChar:e!==""?this.buildTextValNode(e,t,n,r):t[0]==="?"?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function indentate(e){return this.options.indentBy.repeat(e)}function isAttribute(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}var json2xml=Builder;const validator=validator$2,XMLParser=XMLParser_1,XMLBuilder=json2xml;var fxp={XMLParser,XMLValidator:validator,XMLBuilder};const encodedTlds="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mgensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="121342632165322333335356545565555243543542246363257457433_355524444661154543332344423364211133222221212112_52232222232212222223222241112222224322321222",assign$1=(e,t)=>{for(const n in t)e[n]=t[n];return e},numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(e,t){return e in t||(t[e]=[]),t[e]}function addToGroups(e,t,n){t[numeric]&&(t[asciinumeric]=!0,t[alphanumeric]=!0),t[ascii]&&(t[asciinumeric]=!0,t[alpha]=!0),t[asciinumeric]&&(t[alphanumeric]=!0),t[alpha]&&(t[alphanumeric]=!0),t[alphanumeric]&&(t[domain]=!0),t[emoji]&&(t[domain]=!0);for(const r in t){const s=registerGroup(r,n);s.indexOf(e)<0&&s.push(e)}}function flagsForToken(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function State(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}State.groups={};State.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const s=t.jr[r][0],o=t.jr[r][1];if(o&&s.test(e))return o}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let s=0;s<e.length;s++)this.tt(e[s],t,n,r)},tr(e,t,n,r){r=r||State.groups;let s;return t&&t.j?s=t:(s=new State(t),n&&r&&addToGroups(t,n,r)),this.jr.push([e,s]),s},ts(e,t,n,r){let s=this;const o=e.length;if(!o)return s;for(let a=0;a<o-1;a++)s=s.tt(e[a]);return s.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||State.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const o=t;let a,l=s.go(e);if(l?(a=new State,assign$1(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new State,o){if(r)if(a.t&&typeof a.t=="string"){const c=assign$1(flagsForToken(a.t,r),n);addToGroups(o,c,r)}else n&&addToGroups(o,n,r);a.t=o}return s.j[e]=a,a}};const ta=(e,t,n,r,s)=>e.ta(t,n,r,s),tr=(e,t,n,r,s)=>e.tr(t,n,r,s),ts=(e,t,n,r,s)=>e.ts(t,n,r,s),tt=(e,t,n,r,s)=>e.tt(t,n,r,s),WORD="WORD",UWORD="UWORD",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL$1="NL",OPENBRACE="OPENBRACE",OPENBRACKET="OPENBRACKET",OPENANGLEBRACKET="OPENANGLEBRACKET",OPENPAREN="OPENPAREN",CLOSEBRACE="CLOSEBRACE",CLOSEBRACKET="CLOSEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",CLOSEPAREN="CLOSEPAREN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,WORD,UWORD,LOCALHOST,TLD,UTLD,SCHEME,SLASH_SCHEME,NUM,WS,NL:NL$1,OPENBRACE,OPENBRACKET,OPENANGLEBRACKET,OPENPAREN,CLOSEBRACE,CLOSEBRACKET,CLOSEANGLEBRACKET,CLOSEPAREN,AMPERSAND,APOSTROPHE,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,COLON,COMMA,DOLLAR,DOT,EQUALS,EXCLAMATION,HYPHEN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,SEMI,SLASH,TILDE,UNDERSCORE,EMOJI:EMOJI$1,SYM});const ASCII_LETTER=/[a-z]/,LETTER=/\p{L}/u,EMOJI=/\p{Emoji}/u,DIGIT=/\d/,SPACE$1=/\s/,NL=`
`,EMOJI_VARIATION="",EMOJI_JOINER="";let tlds=null,utlds=null;function init$2(e){e===void 0&&(e=[]);const t={};State.groups=t;const n=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt(n,"'",APOSTROPHE),tt(n,"{",OPENBRACE),tt(n,"[",OPENBRACKET),tt(n,"<",OPENANGLEBRACKET),tt(n,"(",OPENPAREN),tt(n,"}",CLOSEBRACE),tt(n,"]",CLOSEBRACKET),tt(n,">",CLOSEANGLEBRACKET),tt(n,")",CLOSEPAREN),tt(n,"&",AMPERSAND),tt(n,"*",ASTERISK),tt(n,"@",AT),tt(n,"`",BACKTICK),tt(n,"^",CARET),tt(n,":",COLON),tt(n,",",COMMA),tt(n,"$",DOLLAR),tt(n,".",DOT),tt(n,"=",EQUALS),tt(n,"!",EXCLAMATION),tt(n,"-",HYPHEN),tt(n,"%",PERCENT),tt(n,"|",PIPE),tt(n,"+",PLUS),tt(n,"#",POUND),tt(n,"?",QUERY),tt(n,'"',QUOTE),tt(n,"/",SLASH),tt(n,";",SEMI),tt(n,"~",TILDE),tt(n,"_",UNDERSCORE),tt(n,"\\",BACKSLASH);const r=tr(n,DIGIT,NUM,{[numeric]:!0});tr(r,DIGIT,r);const s=tr(n,ASCII_LETTER,WORD,{[ascii]:!0});tr(s,ASCII_LETTER,s);const o=tr(n,LETTER,UWORD,{[alpha]:!0});tr(o,ASCII_LETTER),tr(o,LETTER,o);const a=tr(n,SPACE$1,WS,{[whitespace]:!0});tt(n,NL,NL$1,{[whitespace]:!0}),tt(a,NL),tr(a,SPACE$1,a);const l=tr(n,EMOJI,EMOJI$1,{[emoji]:!0});tr(l,EMOJI,l),tt(l,EMOJI_VARIATION,l);const c=tt(l,EMOJI_JOINER);tr(c,EMOJI,l);const u=[[ASCII_LETTER,s]],f=[[ASCII_LETTER,null],[LETTER,o]];for(let A=0;A<tlds.length;A++)fastts(n,tlds[A],TLD,WORD,u);for(let A=0;A<utlds.length;A++)fastts(n,utlds[A],UTLD,UWORD,f);addToGroups(TLD,{tld:!0,ascii:!0},t),addToGroups(UTLD,{utld:!0,alpha:!0},t),fastts(n,"file",SCHEME,WORD,u),fastts(n,"mailto",SCHEME,WORD,u),fastts(n,"http",SLASH_SCHEME,WORD,u),fastts(n,"https",SLASH_SCHEME,WORD,u),fastts(n,"ftp",SLASH_SCHEME,WORD,u),fastts(n,"ftps",SLASH_SCHEME,WORD,u),addToGroups(SCHEME,{scheme:!0,ascii:!0},t),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},t),e=e.sort((A,_)=>A[0]>_[0]?1:-1);for(let A=0;A<e.length;A++){const _=e[A][0],R=e[A][1]?{[scheme]:!0}:{[slashscheme]:!0};_.indexOf("-")>=0?R[domain]=!0:ASCII_LETTER.test(_)?DIGIT.test(_)?R[asciinumeric]=!0:R[ascii]=!0:R[numeric]=!0,ts(n,_,_,R)}return ts(n,"localhost",LOCALHOST,{ascii:!0}),n.jd=new State(SYM),{start:n,tokens:assign$1({groups:t},tk)}}function run$1(e,t){const n=stringToArray(t.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,s=[];let o=0,a=0;for(;a<r;){let l=e,c=null,u=0,f=null,A=-1,_=-1;for(;a<r&&(c=l.go(n[a]));)l=c,l.accepts()?(A=0,_=0,f=l):A>=0&&(A+=n[a].length,_++),u+=n[a].length,o+=n[a].length,a++;o-=A,a-=_,u-=A,s.push({t:f.t,v:t.slice(o-u,o),s:o-u,e:o})}return s}function stringToArray(e){const t=[],n=e.length;let r=0;for(;r<n;){let s=e.charCodeAt(r),o,a=s<55296||s>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function fastts(e,t,n,r,s){let o;const a=t.length;for(let l=0;l<a-1;l++){const c=t[l];e.j[c]?o=e.j[c]:(o=new State(r),o.jr=s.slice(),e.j[c]=o),e=o}return o=new State(n),o.jr=s.slice(),e.j[t[a-1]]=o,o}function decodeTlds(e){const t=[],n=[];let r=0,s="0123456789";for(;r<e.length;){let o=0;for(;s.indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));let a=parseInt(e.substring(r,r+o),10);for(;a>0;a--)n.pop();r+=o}else e[r]==="_"?(t.push(n.join("")),r++):(n.push(e[r]),r++)}return t}const defaults={defaultProtocol:"http",events:null,format:noop$1,formatHref:noop$1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(e,t){t===void 0&&(t=null);let n=assign$1({},defaults);e&&(n=assign$1(n,e instanceof Options?e.o:e));const r=n.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=s}Options.prototype={o:defaults,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:defaults[e],typeof s=="function"&&r&&(s=s(t,n))):typeof s=="function"&&r&&(s=s(t,n.t,n)),s)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function noop$1(e){return e}function MultiToken(e,t){this.t="token",this.v=e,this.tk=t}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=defaults.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toFormattedHref(e),r=e.get("tagName",n,t),s=this.toFormattedString(e),o={},a=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),f=e.getObj("events",n,t);return o.href=n,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&assign$1(o,u),{tagName:r,attributes:o,content:s,eventListeners:f}}};function createTokenClass(e,t){class n extends MultiToken{constructor(s,o){super(s,o),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(e){return e===void 0&&(e=defaults.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==LOCALHOST&&e[1].t===COLON}}),makeState=e=>new State(e);function init$1(e){let{groups:t}=e;const n=t.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),r=[APOSTROPHE,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOT,EXCLAMATION,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,QUERY,QUOTE,SEMI],s=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,CLOSEBRACE,DOLLAR,EQUALS,HYPHEN,NUM,OPENBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],o=makeState(),a=tt(o,TILDE);ta(a,s,a),ta(a,t.domain,a);const l=makeState(),c=makeState(),u=makeState();ta(o,t.domain,l),ta(o,t.scheme,c),ta(o,t.slashscheme,u),ta(l,s,a),ta(l,t.domain,l);const f=tt(l,AT);tt(a,AT,f),tt(c,AT,f),tt(u,AT,f);const A=tt(a,DOT);ta(A,s,a),ta(A,t.domain,a);const _=makeState();ta(f,t.domain,_),ta(_,t.domain,_);const C=tt(_,DOT);ta(C,t.domain,_);const R=makeState(Email);ta(C,t.tld,R),ta(C,t.utld,R),tt(f,LOCALHOST,R);const P=tt(_,HYPHEN);ta(P,t.domain,_),ta(R,t.domain,_),tt(R,DOT,C),tt(R,HYPHEN,P);const W=tt(R,COLON);ta(W,t.numeric,Email);const H=tt(l,HYPHEN),z=tt(l,DOT);ta(H,t.domain,l),ta(z,s,a),ta(z,t.domain,l);const q=makeState(Url);ta(z,t.tld,q),ta(z,t.utld,q),ta(q,t.domain,l),ta(q,s,a),tt(q,DOT,z),tt(q,HYPHEN,H),tt(q,AT,f);const re=tt(q,COLON),O=makeState(Url);ta(re,t.numeric,O);const Q=makeState(Url),J=makeState();ta(Q,n,Q),ta(Q,r,J),ta(J,n,Q),ta(J,r,J),tt(q,SLASH,Q),tt(O,SLASH,Q);const Y=tt(c,COLON),ie=tt(u,COLON),se=tt(ie,SLASH);tt(se,SLASH,Y),ta(c,t.domain,l),tt(c,DOT,z),tt(c,HYPHEN,H),ta(u,t.domain,l),tt(u,DOT,z),tt(u,HYPHEN,H),ta(Y,t.domain,Q),tt(Y,SLASH,Q);const de=tt(Q,OPENBRACE),fe=tt(Q,OPENBRACKET),ye=tt(Q,OPENANGLEBRACKET),Se=tt(Q,OPENPAREN);tt(J,OPENBRACE,de),tt(J,OPENBRACKET,fe),tt(J,OPENANGLEBRACKET,ye),tt(J,OPENPAREN,Se),tt(de,CLOSEBRACE,Q),tt(fe,CLOSEBRACKET,Q),tt(ye,CLOSEANGLEBRACKET,Q),tt(Se,CLOSEPAREN,Q),tt(de,CLOSEBRACE,Q);const Re=makeState(Url),he=makeState(Url),oe=makeState(Url),le=makeState(Url);ta(de,n,Re),ta(fe,n,he),ta(ye,n,oe),ta(Se,n,le);const Ne=makeState(),xe=makeState(),Ee=makeState(),Te=makeState();return ta(de,r),ta(fe,r),ta(ye,r),ta(Se,r),ta(Re,n,Re),ta(he,n,he),ta(oe,n,oe),ta(le,n,le),ta(Re,r,Re),ta(he,r,he),ta(oe,r,oe),ta(le,r,le),ta(Ne,n,Ne),ta(xe,n,he),ta(Ee,n,oe),ta(Te,n,le),ta(Ne,r,Ne),ta(xe,r,xe),ta(Ee,r,Ee),ta(Te,r,Te),tt(he,CLOSEBRACKET,Q),tt(oe,CLOSEANGLEBRACKET,Q),tt(le,CLOSEPAREN,Q),tt(Re,CLOSEBRACE,Q),tt(xe,CLOSEBRACKET,Q),tt(Ee,CLOSEANGLEBRACKET,Q),tt(Te,CLOSEPAREN,Q),tt(Ne,CLOSEPAREN,Q),tt(o,LOCALHOST,q),tt(o,NL$1,Nl),{start:o,tokens:tk}}function run(e,t,n){let r=n.length,s=0,o=[],a=[];for(;s<r;){let l=e,c=null,u=null,f=0,A=null,_=-1;for(;s<r&&!(c=l.go(n[s].t));)a.push(n[s++]);for(;s<r&&(u=c||l.go(n[s].t));)c=null,l=u,l.accepts()?(_=0,A=l):_>=0&&_++,s++,f++;if(_<0)s-=f,s<r&&(a.push(n[s]),s++);else{a.length>0&&(o.push(initMultiToken(Text,t,a)),a=[]),s-=_,f-=_;const C=A.t,R=n.slice(s-f,s);o.push(initMultiToken(C,t,R))}}return a.length>0&&o.push(initMultiToken(Text,t,a)),o}function initMultiToken(e,t,n){const r=n[0].s,s=n[n.length-1].e,o=t.slice(r,s);return new e(o,n)}const INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function init(){INIT.scanner=init$2(INIT.customSchemes);for(let e=0;e<INIT.tokenQueue.length;e++)INIT.tokenQueue[e][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let e=0;e<INIT.pluginQueue.length;e++)INIT.pluginQueue[e][1]({scanner:INIT.scanner,parser:INIT.parser});INIT.initialized=!0}function tokenize$1(e){return INIT.initialized||init(),run(INIT.parser.start,e,run$1(INIT.scanner.start,e))}var HTML5NamedCharRefs={amp:"&",gt:">",lt:"<",nbsp:"",quot:'"'},HEXCHARCODE=/^#[xX]([A-Fa-f0-9]+)$/,CHARCODE=/^#([0-9]+)$/,NAMED=/^([A-Za-z0-9]+)$/,EntityParser=function(){function e(t){this.named=t}return e.prototype.parse=function(t){if(t){var n=t.match(HEXCHARCODE);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=t.match(CHARCODE),n)return String.fromCharCode(parseInt(n[1],10));if(n=t.match(NAMED),n)return this.named[n[1]]||"&"+n[1]+";"}},e}(),WSP=/[\t\n\f ]/,ALPHA=/[A-Za-z]/,CRLF=/\r\n?/g;function isSpace(e){return WSP.test(e)}function isAlpha(e){return ALPHA.test(e)}function preprocessInput(e){return e.replace(CRLF,`
`)}var EventedTokenizer=function(){function e(t,n,r){r===void 0&&(r="precompile"),this.delegate=t,this.entityParser=n,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s===`
`){var o=this.tagNameBuffer.toLowerCase();(o==="pre"||o==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),o=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&o!=="script"&&o!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||isAlpha(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var o=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();o==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();isSpace(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();isSpace(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();isSpace(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!isSpace(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var o=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),a=o.toUpperCase()==="PUBLIC",l=o.toUpperCase()==="SYSTEM";(a||l)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),a?this.transitionTo("afterDoctypePublicKeyword"):l&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();isSpace(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();isSpace(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();isSpace(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();isSpace(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();isSpace(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();isSpace(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(isSpace(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();isSpace(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(isSpace(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();isSpace(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();isSpace(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();isSpace(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||isAlpha(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(t){this.state=t},e.prototype.tokenize=function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},e.prototype.tokenizePart=function(t){for(this.input+=preprocessInput(t);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var t=this.peek();return this.index++,t===`
`?(this.line++,this.column=0):this.column++,t},e.prototype.consumeCharRef=function(){var t=this.input.indexOf(";",this.index);if(t!==-1){var n=this.input.slice(this.index,t),r=this.entityParser.parse(n);if(r){for(var s=n.length;s;)this.consume(),s--;return this.consume(),r}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(t){this.tagNameBuffer+=t,this.delegate.appendToTagName(t)},e.prototype.isIgnoredEndTag=function(){var t=this.tagNameBuffer;return t==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||t==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||t==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},e}(),Tokenizer=function(){function e(t,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new EventedTokenizer(this,t,n.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},e.prototype.tokenizePart=function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var t=this.token;if(t===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return t;for(var n=0;n<arguments.length;n++)if(t.type===arguments[n])return t;throw new Error("token type was unexpectedly "+t.type)},e.prototype.push=function(t){this.token=t,this.tokens.push(t)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(t){this.current("Doctype").name+=t},e.prototype.appendToDoctypePublicIdentifier=function(t){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=t:n.publicIdentifier+=t},e.prototype.appendToDoctypeSystemIdentifier=function(t){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=t:n.systemIdentifier+=t},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(t){this.current("Chars").chars+=t},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(t){this.current("Comment").chars+=t},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(t){this.current("StartTag","EndTag").tagName+=t},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(t){this.currentAttribute()[0]+=t},e.prototype.beginAttributeValue=function(t){this.currentAttribute()[2]=t},e.prototype.appendToAttributeValue=function(t){this.currentAttribute()[1]+=t},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(t){this.current().syntaxError=t},e}();function tokenize(e,t){var n=new Tokenizer(new EntityParser(HTML5NamedCharRefs),t);return n.tokenize(e)}const LinkifyResult="LinkifyResult",StartTag="StartTag",EndTag="EndTag",Chars="Chars",Comment="Comment",Doctype="Doctype";function linkifyHtml(e,t){t===void 0&&(t={});const n=tokenize(e),r=[],s=[],o=new Options(t,defaultRender);for(let a=0;a<n.length;a++){const l=n[a];if(l.type===StartTag){r.push(l);const c=l.tagName.toUpperCase();if(!(c==="A"||o.ignoreTags.indexOf(c)>=0))continue;let f=r.length;skipTagTokens(c,n,++a,r),a+=r.length-f-1}else if(l.type!==Chars)r.push(l);else{const c=linkifyChars(l.chars,o);r.push.apply(r,c)}}for(let a=0;a<r.length;a++){const l=r[a];switch(l.type){case LinkifyResult:s.push(l.rendered);break;case StartTag:{let c="<"+l.tagName;l.attributes.length>0&&(c+=" "+attributeArrayToStrings(l.attributes).join(" ")),l.selfClosing&&(c+=" /"),c+=">",s.push(c);break}case EndTag:s.push(`</${l.tagName}>`);break;case Chars:s.push(escapeText(l.chars));break;case Comment:s.push(`<!--${escapeText(l.chars)}-->`);break;case Doctype:{let c=`<!DOCTYPE ${l.name}`;l.publicIdentifier&&(c+=` PUBLIC "${l.publicIdentifier}"`),l.systemIdentifier&&(c+=` "${l.systemIdentifier}"`),c+=">",s.push(c);break}}}return s.join("")}function linkifyChars(e,t){const n=tokenize$1(e),r=[];for(let s=0;s<n.length;s++){const o=n[s];o.t==="nl"&&t.get("nl2br")?r.push({type:StartTag,tagName:"br",attributes:[],selfClosing:!0}):!o.isLink||!t.check(o)?r.push({type:Chars,chars:o.toString()}):r.push({type:LinkifyResult,rendered:t.render(o)})}return r}function skipTagTokens(e,t,n,r){let s=1;for(;n<t.length&&s>0;){let o=t[n];o.type===StartTag&&o.tagName.toUpperCase()===e?s++:o.type===EndTag&&o.tagName.toUpperCase()===e&&s--,r.push(o),n++}return r}function defaultRender(e){let{tagName:t,attributes:n,content:r}=e;return`<${t} ${attributesToString(n)}>${escapeText(r)}</${t}>`}function escapeText(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function escapeAttr(e){return e.replace(/"/g,"&quot;")}function attributesToString(e){const t=[];for(const n in e){const r=e[n]+"";t.push(`${n}="${escapeAttr(r)}"`)}return t.join(" ")}function attributeArrayToStrings(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n][0],s=e[n][1]+"";t.push(`${r}="${escapeAttr(s)}"`)}return t}class Adapter{constructor(t,n){this.id=n.id,this.data=n.data||{},this.type=this.constructor.name,this.preview=this.preview||this.constructor.name,this.fields=[];for(const r in t)this[r]=t[r]}}const DEFAULT_URL="https://cors-anywhere.followalong.com/";class CORSAnywhere extends Adapter{constructor(t,n){n.data=n.data||{},n.data.url=n.data.url||DEFAULT_URL,super(t,n),this.title="CORSAnywhere Proxy",this.description='Many feeds are not only accessible cross-origin, so a proxy server must be used to fetch the feeds. <a href="https://github.com/Rob--W/cors-anywhere">CORS Anywhere</a> is an open-source proxy which adds CORS headers to the proxied request. To configure, simply supply the URL of your deployed instance.',this.preview=`Fetches RSS requests via ${this.data.url}`,this.fields={url:{type:"text",label:"URL",required:!0,placeholder:DEFAULT_URL}}}configure(){}uninstall(){}validate(t){try{return!!new URL(t.url)}catch{}return!1}rss(t){return new Promise((n,r)=>{if(!t)return r(new Error("No URL supplied."));this.fetch((this.data.url||"")+t).then(n).catch(r)})}}const URL$1="https://cors-anywhere.followalong.com/";class FollowAlongFree extends Adapter{constructor(t,n){super(t,n),this.title="FollowAlong Proxy (Free)",this.description=`Many feeds are not only accessible cross-origin, so a proxy server must be used to fetch the feeds. This add-on is our deployed instance of <a href="https://github.com/Rob--W/cors-anywhere">CORS Anywhere</a>. Don't trust us with your data? Good! Deploy your own CORS Anywhere instance and use it via the "CORSAnywhere Proxy" add-on. This service is provided so that you can see the value of a CORS-supporting FollowAlong.`,this.preview="Fetches RSS requests via our free proxy",this.fields={}}validate(t){return!0}rss(t){return new Promise((n,r)=>{if(!t)return r(new Error("No URL supplied."));this.fetch(URL$1+t).then(n).catch(r)})}}const SPACE=/\s+/gm,findPotentSentences=(e,t)=>e.map(n=>{const r=n.split(SPACE).filter(o=>o.length>5).map(normalizeWord);let s=0;return r.forEach(o=>{t[o]&&(s+=t[o])}),{content:n,score:s/r.length}}).sort((n,r)=>r.score-n.score).map(n=>n.content.trim()),findImportantSentences=(e,t)=>e.map(n=>{const r=n.split(SPACE).filter(o=>o.length>5).map(normalizeWord);let s=0;return r.forEach(o=>{t[o]&&(s+=t[o])}),{content:n,score:s}}).sort((n,r)=>r.score-n.score).map(n=>n.content),normalizeWord=e=>e[e.length-1]==="s"?e:e.replace(/s$/,"ses").replace(/ay$/,"ays").replace(/y$/,"ies").replace(/o$/,"oes").replace(/x$/,"xes").replace(/[^\w\d]+/g,"").replace(/[abcdefghjklmnpqrtvwz]$/,t=>`${t}s`).trim(),sortByValue=e=>{const t={},n=[];for(const r in e)n.push([r,e[r]]);return n.sort((r,s)=>s[1]-r[1]),n.slice(0,15).forEach(r=>{t[r[0]]=r[1]}),t},sumTokenWeights=e=>{const t={};return e.forEach(n=>{t[n]=t[n]||0,t[n]+=1}),sortByValue(t)};class EntrySummarizer extends Adapter{constructor(t,n){n.data=n.data||{},super(t,n),this.title="Entry Summarizer (Free)",this.description="Having trouble staying on top of all your feeds? Our simple summarizing algorithm pulls out the most important sentences in an entry to give you a zipped-up, high-potency low-down.",this.preview="Provides a summary of each entry",this.fields={}}validate(t){return!0}entryMeta(t,n){const r=n.contentForEntry(t);if(!r||r.length<100)return;const s=new DOMParser().parseFromString(r,"text/html").documentElement.textContent,o=s.split(SPACE).map(normalizeWord).filter(A=>A.length>5),a=sumTokenWeights(o),l=s.match(/[^.!?\n]+[.!?\n]/g).filter(A=>A.length>5),u=findPotentSentences(l,a).shift(),f=findImportantSentences(l,a).filter(A=>A!==u);return{content:[`<strong>${u}</strong>`,"<ul>",f.slice(0,3).map(A=>`<li>${A}</li>`).join(""),"</ul>"].join(" ")}}}class None extends Adapter{constructor(t,n){super(t,n),this.adapter="none",this.name=this.data.name||"None",this.description="No addon will be used."}get(){return Promise.resolve()}save(){return Promise.resolve()}destroy(){return Promise.resolve()}rss(t){return this.fetch(t)}search(){return Promise.resolve()}}None.FIELDS=[];const ADAPTERS=[FollowAlongFree,EntrySummarizer,CORSAnywhere],SORT_BY_ORDER=(e,t)=>parseInt(typeof e.data.order<"u"?e.data.order:100)-parseInt(typeof t.data.order<"u"?t.data.order:100),SORT_BY_FEED_TITLE=e=>(t,n)=>e.titleForFeed(t)<e.titleForFeed(n)?-1:e.titleForFeed(t)>e.titleForFeed(n)?1:0,SORT_BY_TIME_AND_READ=e=>(t,n)=>e.isEntryRead(t)&&!e.isEntryRead(n)?1:!e.isEntryRead(t)&&e.isEntryRead(n)?-1:e.dateForEntry(t).getTime()<e.dateForEntry(n).getTime()?1:e.dateForEntry(n).getTime()<e.dateForEntry(t).getTime()?-1:0,SORT_BY_NEED_TO_UPDATE=e=>(t,n)=>e.lastUpdatedForFeed(t)<e.lastUpdatedForFeed(n)?-1:e.lastUpdatedForFeed(t)>e.lastUpdatedForFeed(n)?1:0,SORT_BY_LATEST_READ=e=>(t,n)=>e.isEntryRead(t)&&!e.isEntryRead(n)?1:!e.isEntryRead(t)&&e.isEntryRead(n)?-1:t.readAt<n.readAt?1:t.readAt>n.readAt?-1:0,sanitizeContent=e=>{var t=document.createElement("div"),n,r;for(t.innerHTML=e,n=t.getElementsByTagName("script"),r=n.length-1;r>=0;r--)n[r].parentNode.removeChild(n[r]);for(n=t.getElementsByTagName("style"),r=n.length-1;r>=0;r--)n[r].parentNode.removeChild(n[r]);const s=t.querySelectorAll("*");for(r=s.length-1;r>=0;r--)s[r].removeAttribute("style"),s[r].removeAttribute("width"),s[r].removeAttribute("height"),s[r].removeAttribute("class");const o=t.querySelectorAll("a");for(r=o.length-1;r>=0;r--)o[r].target="_blank";return t.innerHTML},VIDEO_TYPES=/\.(mp4)/,AUDIO_TYPES=/\.(mp3|wav)/,IMAGE_TYPES=/\.(png|jpeg|jpg|gif)/,parser=new fxp.XMLParser({ignoreAttributes:!1,isArray:(e,t,n,r)=>["entry","item"].indexOf(e)!==-1}),stripHTML=e=>new DOMParser().parseFromString(e,"text/html").body.textContent||"",objHasNewData=(e,t)=>{for(const n in t)if(typeof t[n]=="object"){if(objHasNewData(e[n],t[n])&&n.indexOf("media:community")===-1)return!0}else if(getAttr(t,n,!0)!==getAttr(e,n,!0))return!0;return!1},getAttr=(e,t,n=!1)=>{e=e||{},n||(e=e.data||{});const r=t.split("."),s=r.pop();for(var o=0;o<r.length;o++){if(typeof e[r[o]]=="string")return e[r[o]];if(typeof e[r[o]]=="object")e=e[r[o]];else return""}return typeof e!="object"?"":e[s]};class Queries{constructor(e){for(const t in e)this[t]=e[t]}allIdentities(){return this.state.findAll(null,"identities")}entriesForIdentity(e,t=null){let n=this.state.findAll(e.id,"entries").sort(SORT_BY_TIME_AND_READ(this));if(t){let r=0;n=n.filter(s=>this.isEntryRead(s)?(r++,r<=t):!0)}return n}entriesForSignal(identity,signal){let entries=this.entriesForIdentity(identity),filter,sort;if(signal&&signal.data&&signal.data.filter){try{filter=eval(signal.data.filter)(this)}catch(e){}typeof filter=="function"&&(entries=entries.filter(filter))}if(signal&&signal.data&&signal.data.sort){try{sort=eval(signal.data.sort)(this)}catch(e){}typeof sort=="function"&&(entries=entries.sort(sort))}else entries=entries.sort(SORT_BY_TIME_AND_READ(this));return entries}cardsForIdentityForSignal(e,t){if(!this.signalHasCards(t))return[];const n=this.entriesForSignal(e,t).filter(r=>!this.isEntryRead(r)).map(r=>this.contentForEntry(r)).map(r=>stripHTML(r));return t.cards(n)}unreadEntriesForSignalLength(e,t){return this.entriesForSignal(e,t).filter(n=>!this.isEntryRead(n)).length}entriesForFeed(e,t){return this.state.findAll(e.id,"entries").filter(n=>n.feedId===t.id).sort(SORT_BY_TIME_AND_READ(this))}lastEntryForFeed(e,t){return this.entriesForFeed(e,t)[0]}jsonFromXml(e){if(!e)return{};let t=parser.parse(e);return typeof t.rss=="object"&&(t=t.rss),typeof t.feed=="object"&&(t=t.feed),typeof t.channel=="object"&&(t=t.channel),typeof t.feed=="object"&&(t=t.feed),t}keyForEntry(e){const t=getAttr(e,"id")||getAttr(e,"guid.href")||getAttr(e,"link.href")||getAttr(e,"guid.#text");if(t)return t;throw new Error(`Cannot find a key for ${JSON.stringify(e)}`)}entryForFeedForIdentity(e,t,n){return this.entriesForFeed(e,t).find(r=>this.keyForEntry(r)===n)}feedsForIdentity(e){return this.state.findAll(e.id,"feeds").sort(SORT_BY_FEED_TITLE(this))}unpausedFeedsForIdentity(e){return this.feedsForIdentity(e).filter(t=>!this.isFeedPaused(t))}lastUpdatedForFeed(e){return e.updatedAt}findOutdatedFeedsForIdentity(e){const n=Date.now()-9e5;return this.unpausedFeedsForIdentity(e).filter(r=>this.lastUpdatedForFeed(r)<n).sort(SORT_BY_NEED_TO_UPDATE(this))}feedForIdentity(e,t){return this.feedsForIdentity(e).find(n=>n.id===t)}feedForIdentityByUrl(e,t){return this.state.findAll(e.id,"feeds").find(n=>this.urlForFeed(n)===t)}latestFeedForIdentity(e){const t=this.state.findAll(e.id,"feeds");return t[t.length-1]}titleForEntry(e){return getAttr(e,"title")}urlForFeed(e){return(e||{}).url}linkForFeed(e){return getAttr(e,"link.href")||this.urlForFeed(e)}linkForEntry(e){return getAttr(e,"link.href")||getAttr(e,"url.href")||getAttr(e,"link.@_href")}titleForFeed(e){return getAttr(e,"title")}dateForEntry(e){const t=getAttr(e,"published")||getAttr(e,"pubdate")||getAttr(e,"pubDate");return new Date(t)}niceDateForEntry(e){const t=this.dateForEntry(e);return t.toDateString()===new Date().toDateString()?t.toLocaleTimeString("en-us",{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}contentForEntry(e){const t=getAttr(e,"content:encoded")||getAttr(e,"content.#text")||getAttr(e,"description")||getAttr(e,"media:group.media:description");return sanitizeContent(t||"")}sanitizeCopy(e){return sanitizeContent(e)}imageForFeed(e){return getAttr(e,"image.url")||getAttr(e,"webfeeds:icon")}feedChanged(e,t){t=Object.assign({},t);for(const n in t)n.toLowerCase().indexOf("date")!==-1&&delete t[n];return objHasNewData(e.data,t)}entryChanged(e,t){return objHasNewData(e.data,t)}isEntryRead(e){return e.readAt}isFeedPaused(e){return e.pausedAt}filterNewEntries(e){return e.filter(t=>!this.isEntryRead(t)).filter(t=>t.createdAt>this.lastBackgroundFetch)}filterNonNewEntries(e){return e.filter(t=>t.createdAt<=this.lastBackgroundFetch)}videoForEntry(e){const t=getAttr(e,"id");if(typeof t=="string"&&t.slice(0,9)==="yt:video:")return`https://www.youtube.com/embed/${t.slice(9)}?&rel=0&modestbranding=1&playsinline=1`;if(getAttr(e,"media:player"))return getAttr(e,"media:player");const n=["link","media:content.video.@_url","media:content.video.url","media:content.@_url","media:content.url","enclosure.video.@_url","enclosure.video.url","enclosure.@_url","enclosure.url"];for(var r=0;r<n.length;r++){const s=getAttr(e,n[r]);if(VIDEO_TYPES.test(s)||`${s}`.indexOf("embed")!==-1)return s}}audioForEntry(e){const t=["link","media:content.audio.@_url","media:content.audio.url","media:content.@_url","media:content.url","enclosure.audio.@_url","enclosure.audio.url","enclosure.@_url","enclosure.url"];for(var n=0;n<t.length;n++){const r=getAttr(e,t[n]);if(AUDIO_TYPES.test(r))return r}}imageForEntry(e){const t=["link","media:group.media:thumbnail.@_url","media:group.media:thumbnail.url","media:content.image.@_url","media:content.image.url","media:content.@_url","media:content.url","enclosure.image.@_url","enclosure.image.url","enclosure.@_url","enclosure.url","itunes.image"];for(var n=0;n<t.length;n++){const r=getAttr(e,t[n]);if(IMAGE_TYPES.test(r))return r}}signalsForIdentity(e){const t=this.signalsForIdentityForProjection(e);return this.addonAdaptersForActionForIdentity(e,"signals").reduce((r,s)=>r.concat(s.signals()),t).sort(SORT_BY_ORDER)}signalsForIdentityForProjection(e){return this.state.findAll(e.id,"signals")}signalHasCards(e){return e&&typeof e.cards=="function"}addonsForIdentity(e){return this.state.findAll(e.id,"addons")}permalinkForSignal(e){return getAttr(e,"permalink")}iconForSignal(e){return getAttr(e,"icon")}titleForSignal(e){return getAttr(e,"title")}descriptionForSignal(e){return getAttr(e,"description")}signalForIdentity(e,t){return this.signalsForIdentity(e).find(n=>this.permalinkForSignal(n)===t)}defaultSignalForIdentity(e){return this.signalsForIdentity(e)[0]}findAddonForIdentity(e,t){return this.addonsForIdentity(e).find(n=>n.id===t)}adapterPreviewName(e){return new e().preview()}adapterName(e){return new e().name}adapterForAddonForIdentity(e,t){const n=ADAPTERS.find(s=>s.name===t.type)||None;return new n({fetch:this.fetch},t)}addonAdaptersForIdentity(e){return this.state.findAll(e.id,"addons").map(t=>this.adapterForAddonForIdentity(e,t))}addonAdaptersForActionForIdentity(e,t){return this.addonAdaptersForIdentity(e).concat([new None(this,{})]).filter(r=>typeof r[t]=="function")}addonAdapterForActionForIdentity(e,t){return this.addonAdaptersForActionForIdentity(e,t)[0]}availableAddonAdaptersForIdentity(e){return ADAPTERS.map(t=>new t({},{}))}isFunctionSupportedByAddon(e,t){return typeof e[t]=="function"}labelsForAddon(e){const t=[];return this.isFunctionSupportedByAddon(e,"rss")&&t.push("RSS"),this.isFunctionSupportedByAddon(e,"signals")&&t.push("Signal"),t}linkify(e){return linkifyHtml(e,{target:"_blank"})}findAllEvents(e){return this.state.findAllEvents(e.id)}metasForEntryForIdentity(e,t){return this.addonAdaptersForActionForIdentity(e,"entryMeta").map(r=>r.entryMeta(t,{contentForEntry:this.contentForEntry})).filter(r=>r).map(r=>({content:this.sanitizeCopy(r.content)}))}lastReadDateForFeed(e,t,n){const r=this.entriesForIdentity(e).filter(SORT_BY_LATEST_READ(this.queries))[0];return r?r.createdAt:0}}var media={webm:"data:video/webm;base64,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",mp4:"data:video/mp4;base64,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"};const{webm,mp4}=media,oldIOS=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,nativeWakeLock=()=>"wakeLock"in navigator;class NoSleep{constructor(){if(this.enabled=!1,nativeWakeLock()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else oldIOS()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",webm),this._addSourceToVideo(this.noSleepVideo,"mp4",mp4),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var s=document.createElement("source");s.src=r,s.type=`video/${n}`,t.appendChild(s)}get isEnabled(){return this.enabled}enable(){return nativeWakeLock()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):oldIOS()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){nativeWakeLock()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):oldIOS()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var src=NoSleep;const component_vue_vue_type_style_index_0_lang="",POLL_INTERVAL=3e4;let POLL_TIMEOUT;const _sfc_main$j={components:{SideBar,TopBar},props:{state:{type:Object,default:()=>new MultipleEventStore("follow-along","v2.2",runners)},fetch:{type:Function,default:e=>window.fetch(e).then(t=>t.text())},automaticFetch:{type:Boolean,default:!0},confirm:{type:Function,default:e=>new Promise((t,n)=>{window.confirm(e)?t():n(new Error("Not confirmed"))})},scrollTo:{type:Function,default(){return window.scrollTo}},noSleep:{type:Function,default(){return new src}}},data(){window.followAlong=this;const e=new Queries({fetch:this.fetch,state:this.state,lastBackgroundFetch:Date.now()}),t=new Commands({fetch:this.fetch,state:this.state,queries:e,scrollTo:this.scrollTo});return{app:this,queries:e,commands:t,now:new Date,isLoading:!0,identity:null}},watch:{identity(e){e&&this.automaticFetch&&setTimeout(()=>this.pollFeeds(),10)}},mounted(){return this.commands.restoreFromLocal().then(()=>{this.queries.allIdentities().length||this.commands.addIdentity({}),this.isLoading=!1,this.setIdentity(this.queries.allIdentities()[0])})},methods:{pollFeeds(){return clearTimeout(POLL_TIMEOUT),this.commands.fetchOutdatedFeeds(this.identity).then(()=>{POLL_TIMEOUT=setTimeout(()=>this.pollFeeds(),POLL_INTERVAL)})},search(e){e.toLowerCase().indexOf("http")!==-1&&this.$router.push(`/${e}`)},setIdentity(e){this.identity=e}}},_hoisted_1$i={key:0},_hoisted_2$f=createBaseVNode("div",{class:"fixed top-0 left-0 right-0 h-full bg-gray-50","aria-hidden":"true"},null,-1),_hoisted_3$f={class:"flex min-h-screen flex-col"},_hoisted_4$c={class:"w-full max-w-5xl flex-grow md:flex"},_hoisted_5$b={class:"min-w-0 md:pl-7 flex-1 bg-white md:flex"},_hoisted_6$9={class:"bg-gray-50 md:min-w-0 md:flex-1 md:ml-sidebar"},_hoisted_7$9={class:"h-full mt-16 md:py-6 md:px-8"},_hoisted_8$8={class:"relative h-full",style:{"min-height":"36rem"}};function _sfc_render$j(e,t,n,r,s,o){const a=resolveComponent("TopBar"),l=resolveComponent("SideBar"),c=resolveComponent("router-view");return s.isLoading?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_1$i,[_hoisted_2$f,createBaseVNode("div",_hoisted_3$f,[createVNode(a,{app:s.app,identity:s.identity},null,8,["app","identity"]),createBaseVNode("div",_hoisted_4$c,[createBaseVNode("div",_hoisted_5$b,[createVNode(l,{app:s.app,identity:s.identity,class:"hidden md:block"},null,8,["app","identity"]),createBaseVNode("div",_hoisted_6$9,[createBaseVNode("div",_hoisted_7$9,[createBaseVNode("div",_hoisted_8$8,[createVNode(c,{app:s.app,identity:s.identity},null,8,["app","identity"])])])])])])])]))}const App=_export_sfc(_sfc_main$j,[["render",_sfc_render$j]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(e,t){const n={};for(const r in t){const s=t[r];n[r]=isArray(s)?s.map(e):e(s)}return n}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,t,n="/"){let r,s={},o="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(r=t.slice(0,c),o=t.slice(c+1,l>-1?l:t.length),s=e(o)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=resolveRelativePath(r??t,n),{fullPath:r+(o&&"?")+o+a,path:r,query:s,hash:a}}function stringifyURL(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function stripBase(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function isSameRouteLocation(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&isSameRouteRecord(t.matched[r],n.matched[s])&&isSameRouteLocationParams(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!isSameRouteLocationParamsValue(e[n],t[n]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return isArray(e)?isEquivalentArray(e,t):isArray(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,t){return isArray(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var NavigationType;(function(e){e.pop="pop",e.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(e){e.back="back",e.forward="forward",e.unknown=""})(NavigationDirection||(NavigationDirection={}));const START="";function normalizeBase(e){if(!e)if(isBrowser){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=getElementPosition(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){const t=scrollPositions.get(e);return scrollPositions.delete(e),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,t){const{pathname:n,search:r,hash:s}=t,o=e.indexOf("#");if(o>-1){let l=s.includes(e.slice(o))?e.slice(o).length:1,c=s.slice(l);return c[0]!=="/"&&(c="/"+c),stripBase(c,"")}return stripBase(n,e)+r+s}function useHistoryListeners(e,t,n,r){let s=[],o=[],a=null;const l=({state:_})=>{const C=createCurrentLocation(e,location),R=n.value,P=t.value;let W=0;if(_){if(n.value=C,t.value=_,a&&a===R){a=null;return}W=P?_.position-P.position:0}else r(C);s.forEach(H=>{H(n.value,R,{delta:W,type:NavigationType.pop,direction:W?W>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function c(){a=n.value}function u(_){s.push(_);const C=()=>{const R=s.indexOf(_);R>-1&&s.splice(R,1)};return o.push(C),C}function f(){const{history:_}=window;_.state&&_.replaceState(assign({},_.state,{scroll:computeScrollPosition()}),"")}function A(){for(const _ of o)_();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f),{pauseListeners:c,listen:u,destroy:A}}function buildState(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:t,location:n}=window,r={value:createCurrentLocation(e,n)},s={value:t.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,u,f){const A=e.indexOf("#"),_=A>-1?(n.host&&document.querySelector("base")?e:e.slice(A))+c:createBaseLocation()+e+c;try{t[f?"replaceState":"pushState"](u,"",_),s.value=u}catch(C){console.error(C),n[f?"replace":"assign"](_)}}function a(c,u){const f=assign({},t.state,buildState(s.value.back,c,s.value.forward,!0),u,{position:s.value.position});o(c,f,!0),r.value=c}function l(c,u){const f=assign({},s.value,t.state,{forward:c,scroll:computeScrollPosition()});o(f.current,f,!0);const A=assign({},buildState(r.value,c,null),{position:f.position+1},u);o(c,A,!1),r.value=c}return{location:r,state:s,push:l,replace:a}}function createWebHistory(e){e=normalizeBase(e);const t=useHistoryStateNavigation(e),n=useHistoryListeners(e,t.state,t.location,t.replace);function r(o,a=!0){a||n.pauseListeners(),history.go(o)}const s=assign({location:"",base:e,go:r,createHref:createHref.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function createMemoryHistory(e=""){let t=[],n=[START],r=0;e=normalizeBase(e);function s(l){r++,r===n.length||n.splice(r),n.push(l)}function o(l,c,{direction:u,delta:f}){const A={direction:u,delta:f,type:NavigationType.pop};for(const _ of t)_(l,c,A)}const a={location:START,state:{},base:e,createHref:createHref.bind(null,e),replace(l){n.splice(r--,1),s(l)},push(l,c){s(l)},listen(l){return t.push(l),()=>{const c=t.indexOf(l);c>-1&&t.splice(c,1)}},destroy(){t=[],n=[START],r=0},go(l,c=!0){const u=this.location,f=l<0?NavigationDirection.back:NavigationDirection.forward;r=Math.max(0,Math.min(r+l,n.length-1)),c&&o(this.location,u,{direction:f,delta:l})}};return Object.defineProperty(a,"location",{enumerable:!0,get:()=>n[r]}),a}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(e,t){return assign(new Error,{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(t==null||!!(e.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){const n=assign({},BASE_PATH_PARSER_OPTIONS,t),r=[];let s=n.start?"^":"";const o=[];for(const u of e){const f=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let A=0;A<u.length;A++){const _=u[A];let C=40+(n.sensitive?.25:0);if(_.type===0)A||(s+="/"),s+=_.value.replace(REGEX_CHARS_RE,"\\$&"),C+=40;else if(_.type===1){const{value:R,repeatable:P,optional:W,regexp:H}=_;o.push({name:R,repeatable:P,optional:W});const z=H||BASE_PARAM_PATTERN;if(z!==BASE_PARAM_PATTERN){C+=10;try{new RegExp(`(${z})`)}catch(re){throw new Error(`Invalid custom RegExp for param "${R}" (${z}): `+re.message)}}let q=P?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;A||(q=W&&u.length<2?`(?:/${q})`:"/"+q),W&&(q+="?"),s+=q,C+=20,W&&(C+=-8),P&&(C+=-20),z===".*"&&(C+=-50)}f.push(C)}r.push(f)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function l(u){const f=u.match(a),A={};if(!f)return null;for(let _=1;_<f.length;_++){const C=f[_]||"",R=o[_-1];A[R.name]=C&&R.repeatable?C.split("/"):C}return A}function c(u){let f="",A=!1;for(const _ of e){(!A||!f.endsWith("/"))&&(f+="/"),A=!1;for(const C of _)if(C.type===0)f+=C.value;else if(C.type===1){const{value:R,repeatable:P,optional:W}=C,H=R in u?u[R]:"";if(isArray(H)&&!P)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const z=isArray(H)?H.join("/"):H;if(!z)if(W)_.length<2&&(f.endsWith("/")?f=f.slice(0,-1):A=!0);else throw new Error(`Missing required param "${R}"`);f+=z}}return f||"/"}return{re:a,score:r,keys:o,parse:l,stringify:c}}function compareScoreArray(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function comparePathParserScore(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const o=compareScoreArray(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(isLastScoreNegative(r))return 1;if(isLastScoreNegative(s))return-1}return s.length-r.length}function isLastScoreNegative(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(C){throw new Error(`ERR (${n})/"${u}": ${C}`)}let n=0,r=n;const s=[];let o;function a(){o&&s.push(o),o=[]}let l=0,c,u="",f="";function A(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function _(){u+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(u&&A(),a()):c===":"?(A(),n=1):_();break;case 4:_(),n=r;break;case 1:c==="("?n=2:VALID_PARAM_RE.test(c)?_():(A(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:n=3:f+=c;break;case 3:A(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),A(),a(),s}function createRouteRecordMatcher(e,t,n){const r=tokensToParser(tokenizePath(e.path),n),s=assign(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function createRouterMatcher(e,t){const n=[],r=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function s(f){return r.get(f)}function o(f,A,_){const C=!_,R=normalizeRouteRecord(f);R.aliasOf=_&&_.record;const P=mergeOptions(t,f),W=[R];if("alias"in f){const q=typeof f.alias=="string"?[f.alias]:f.alias;for(const re of q)W.push(assign({},R,{components:_?_.record.components:R.components,path:re,aliasOf:_?_.record:R}))}let H,z;for(const q of W){const{path:re}=q;if(A&&re[0]!=="/"){const O=A.record.path,Q=O[O.length-1]==="/"?"":"/";q.path=A.record.path+(re&&Q+re)}if(H=createRouteRecordMatcher(q,A,P),_?_.alias.push(H):(z=z||H,z!==H&&z.alias.push(H),C&&f.name&&!isAliasRecord(H)&&a(f.name)),R.children){const O=R.children;for(let Q=0;Q<O.length;Q++)o(O[Q],H,_&&_.children[Q])}_=_||H,(H.record.components&&Object.keys(H.record.components).length||H.record.name||H.record.redirect)&&c(H)}return z?()=>{a(z)}:noop}function a(f){if(isRouteName(f)){const A=r.get(f);A&&(r.delete(f),n.splice(n.indexOf(A),1),A.children.forEach(a),A.alias.forEach(a))}else{const A=n.indexOf(f);A>-1&&(n.splice(A,1),f.record.name&&r.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return n}function c(f){let A=0;for(;A<n.length&&comparePathParserScore(f,n[A])>=0&&(f.record.path!==n[A].record.path||!isRecordChildOf(f,n[A]));)A++;n.splice(A,0,f),f.record.name&&!isAliasRecord(f)&&r.set(f.record.name,f)}function u(f,A){let _,C={},R,P;if("name"in f&&f.name){if(_=r.get(f.name),!_)throw createRouterError(1,{location:f});P=_.record.name,C=assign(paramsFromLocation(A.params,_.keys.filter(z=>!z.optional).map(z=>z.name)),f.params&&paramsFromLocation(f.params,_.keys.map(z=>z.name))),R=_.stringify(C)}else if("path"in f)R=f.path,_=n.find(z=>z.re.test(R)),_&&(C=_.parse(R),P=_.record.name);else{if(_=A.name?r.get(A.name):n.find(z=>z.re.test(A.path)),!_)throw createRouterError(1,{location:f,currentLocation:A});P=_.record.name,C=assign({},A.params,f.params),R=_.stringify(C)}const W=[];let H=_;for(;H;)W.unshift(H.record),H=H.parent;return{name:P,path:R,params:C,matched:W,meta:mergeMetaFields(W)}}return e.forEach(f=>o(f)),{addRoute:o,resolve:u,removeRoute:a,getRoutes:l,getRecordMatcher:s}}function paramsFromLocation(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function normalizeRecordProps(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((t,n)=>assign(t,n.meta),{})}function mergeOptions(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function isRecordChildOf(e,t){return t.children.some(n=>n===e||isRecordChildOf(e,n))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return e==null?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function parseQuery(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(PLUS_RE," "),a=o.indexOf("="),l=decode(a<0?o:o.slice(0,a)),c=a<0?null:decode(o.slice(a+1));if(l in t){let u=t[l];isArray(u)||(u=t[l]=[u]),u.push(c)}else t[l]=c}return t}function stringifyQuery(e){let t="";for(let n in e){const r=e[n];if(n=encodeQueryKey(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(isArray(r)?r.map(o=>o&&encodeQueryValue(o)):[r&&encodeQueryValue(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function normalizeQuery(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=isArray(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function guardToPromiseFn(e,t,n,r,s){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=A=>{A===!1?l(createRouterError(4,{from:n,to:t})):A instanceof Error?l(A):isRouteLocation(A)?l(createRouterError(2,{from:t,to:A})):(o&&r.enterCallbacks[s]===o&&typeof A=="function"&&o.push(A),a())},u=e.call(r&&r.instances[s],t,n,c);let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(A=>l(A))})}function extractComponentsGuards(e,t,n,r){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(isRouteComponent(l)){const u=(l.__vccOpts||l)[t];u&&s.push(guardToPromiseFn(u,n,r,o,a))}else{let c=l();s.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const f=isESModule(u)?u.default:u;o.components[a]=f;const _=(f.__vccOpts||f)[t];return _&&guardToPromiseFn(_,n,r,o,a)()}))}}return s}function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(e){const t=inject(routerKey),n=inject(routeLocationKey),r=computed(()=>t.resolve(unref(e.to))),s=computed(()=>{const{matched:c}=r.value,{length:u}=c,f=c[u-1],A=n.matched;if(!f||!A.length)return-1;const _=A.findIndex(isSameRouteRecord.bind(null,f));if(_>-1)return _;const C=getOriginalPath(c[u-2]);return u>1&&getOriginalPath(f)===C&&A[A.length-1].path!==C?A.findIndex(isSameRouteRecord.bind(null,c[u-2])):_}),o=computed(()=>s.value>-1&&includesParams(n.params,r.value.params)),a=computed(()=>s.value>-1&&s.value===n.matched.length-1&&isSameRouteLocationParams(n.params,r.value.params));function l(c={}){return guardEvent(c)?t[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop):Promise.resolve()}return{route:r,href:computed(()=>r.value.href),isActive:o,isExactActive:a,navigate:l}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(e,{slots:t}){const n=reactive(useLink(e)),{options:r}=inject(routerKey),s=computed(()=>({[getLinkClass(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[getLinkClass(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:h("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!isArray(s)||s.length!==r.length||r.some((o,a)=>o!==s[a]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,t,n)=>e??t??n,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=inject(routerViewLocationKey),s=computed(()=>e.route||r.value),o=inject(viewDepthKey,0),a=computed(()=>{let u=unref(o);const{matched:f}=s.value;let A;for(;(A=f[u])&&!A.components;)u++;return u}),l=computed(()=>s.value.matched[a.value]);provide(viewDepthKey,computed(()=>a.value+1)),provide(matchedRouteKey,l),provide(routerViewLocationKey,s);const c=ref();return watch(()=>[c.value,l.value,e.name],([u,f,A],[_,C,R])=>{f&&(f.instances[A]=u,C&&C!==f&&u&&u===_&&(f.leaveGuards.size||(f.leaveGuards=C.leaveGuards),f.updateGuards.size||(f.updateGuards=C.updateGuards))),u&&f&&(!C||!isSameRouteRecord(f,C)||!_)&&(f.enterCallbacks[A]||[]).forEach(P=>P(u))},{flush:"post"}),()=>{const u=s.value,f=e.name,A=l.value,_=A&&A.components[f];if(!_)return normalizeSlot(n.default,{Component:_,route:u});const C=A.props[f],R=C?C===!0?u.params:typeof C=="function"?C(u):C:null,W=h(_,assign({},R,t,{onVnodeUnmounted:H=>{H.component.isUnmounted&&(A.instances[f]=null)},ref:c}));return normalizeSlot(n.default,{Component:W,route:u})||W}}});function normalizeSlot(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const RouterView=RouterViewImpl;function createRouter(e){const t=createRouterMatcher(e.routes,e),n=e.parseQuery||parseQuery,r=e.stringifyQuery||stringifyQuery,s=e.history,o=useCallbacks(),a=useCallbacks(),l=useCallbacks(),c=shallowRef(START_LOCATION_NORMALIZED);let u=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=applyToParams.bind(null,I=>""+I),A=applyToParams.bind(null,encodeParam),_=applyToParams.bind(null,decode);function C(I,K){let j,Z;return isRouteName(I)?(j=t.getRecordMatcher(I),Z=K):Z=I,t.addRoute(Z,j)}function R(I){const K=t.getRecordMatcher(I);K&&t.removeRoute(K)}function P(){return t.getRoutes().map(I=>I.record)}function W(I){return!!t.getRecordMatcher(I)}function H(I,K){if(K=assign({},K||c.value),typeof I=="string"){const m=parseURL(n,I,K.path),E=t.resolve({path:m.path},K),S=s.createHref(m.fullPath);return assign(m,E,{params:_(E.params),hash:decode(m.hash),redirectedFrom:void 0,href:S})}let j;if("path"in I)j=assign({},I,{path:parseURL(n,I.path,K.path).path});else{const m=assign({},I.params);for(const E in m)m[E]==null&&delete m[E];j=assign({},I,{params:A(I.params)}),K.params=A(K.params)}const Z=t.resolve(j,K),Ae=I.hash||"";Z.params=f(_(Z.params));const ve=stringifyURL(r,assign({},I,{hash:encodeHash(Ae),path:Z.path})),ae=s.createHref(ve);return assign({fullPath:ve,hash:Ae,query:r===stringifyQuery?normalizeQuery(I.query):I.query||{}},Z,{redirectedFrom:void 0,href:ae})}function z(I){return typeof I=="string"?parseURL(n,I,c.value.path):assign({},I)}function q(I,K){if(u!==I)return createRouterError(8,{from:K,to:I})}function re(I){return J(I)}function O(I){return re(assign(z(I),{replace:!0}))}function Q(I){const K=I.matched[I.matched.length-1];if(K&&K.redirect){const{redirect:j}=K;let Z=typeof j=="function"?j(I):j;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=z(Z):{path:Z},Z.params={}),assign({query:I.query,hash:I.hash,params:"path"in Z?{}:I.params},Z)}}function J(I,K){const j=u=H(I),Z=c.value,Ae=I.state,ve=I.force,ae=I.replace===!0,m=Q(j);if(m)return J(assign(z(m),{state:typeof m=="object"?assign({},Ae,m.state):Ae,force:ve,replace:ae}),K||j);const E=j;E.redirectedFrom=K;let S;return!ve&&isSameRouteLocation(r,Z,j)&&(S=createRouterError(16,{to:E,from:Z}),xe(Z,Z,!0,!1)),(S?Promise.resolve(S):ie(E,Z)).catch(w=>isNavigationFailure(w)?isNavigationFailure(w,2)?w:Ne(w):oe(w,E,Z)).then(w=>{if(w){if(isNavigationFailure(w,2))return J(assign({replace:ae},z(w.to),{state:typeof w.to=="object"?assign({},Ae,w.to.state):Ae,force:ve}),K||E)}else w=de(E,Z,!0,ae,Ae);return se(E,Z,w),w})}function Y(I,K){const j=q(I,K);return j?Promise.reject(j):Promise.resolve()}function ie(I,K){let j;const[Z,Ae,ve]=extractChangingRecords(I,K);j=extractComponentsGuards(Z.reverse(),"beforeRouteLeave",I,K);for(const m of Z)m.leaveGuards.forEach(E=>{j.push(guardToPromiseFn(E,I,K))});const ae=Y.bind(null,I,K);return j.push(ae),runGuardQueue(j).then(()=>{j=[];for(const m of o.list())j.push(guardToPromiseFn(m,I,K));return j.push(ae),runGuardQueue(j)}).then(()=>{j=extractComponentsGuards(Ae,"beforeRouteUpdate",I,K);for(const m of Ae)m.updateGuards.forEach(E=>{j.push(guardToPromiseFn(E,I,K))});return j.push(ae),runGuardQueue(j)}).then(()=>{j=[];for(const m of I.matched)if(m.beforeEnter&&!K.matched.includes(m))if(isArray(m.beforeEnter))for(const E of m.beforeEnter)j.push(guardToPromiseFn(E,I,K));else j.push(guardToPromiseFn(m.beforeEnter,I,K));return j.push(ae),runGuardQueue(j)}).then(()=>(I.matched.forEach(m=>m.enterCallbacks={}),j=extractComponentsGuards(ve,"beforeRouteEnter",I,K),j.push(ae),runGuardQueue(j))).then(()=>{j=[];for(const m of a.list())j.push(guardToPromiseFn(m,I,K));return j.push(ae),runGuardQueue(j)}).catch(m=>isNavigationFailure(m,8)?m:Promise.reject(m))}function se(I,K,j){for(const Z of l.list())Z(I,K,j)}function de(I,K,j,Z,Ae){const ve=q(I,K);if(ve)return ve;const ae=K===START_LOCATION_NORMALIZED,m=isBrowser?history.state:{};j&&(Z||ae?s.replace(I.fullPath,assign({scroll:ae&&m&&m.scroll},Ae)):s.push(I.fullPath,Ae)),c.value=I,xe(I,K,j,ae),Ne()}let fe;function ye(){fe||(fe=s.listen((I,K,j)=>{if(!Ve.listening)return;const Z=H(I),Ae=Q(Z);if(Ae){J(assign(Ae,{replace:!0}),Z).catch(noop);return}u=Z;const ve=c.value;isBrowser&&saveScrollPosition(getScrollKey(ve.fullPath,j.delta),computeScrollPosition()),ie(Z,ve).catch(ae=>isNavigationFailure(ae,12)?ae:isNavigationFailure(ae,2)?(J(ae.to,Z).then(m=>{isNavigationFailure(m,20)&&!j.delta&&j.type===NavigationType.pop&&s.go(-1,!1)}).catch(noop),Promise.reject()):(j.delta&&s.go(-j.delta,!1),oe(ae,Z,ve))).then(ae=>{ae=ae||de(Z,ve,!1),ae&&(j.delta&&!isNavigationFailure(ae,8)?s.go(-j.delta,!1):j.type===NavigationType.pop&&isNavigationFailure(ae,20)&&s.go(-1,!1)),se(Z,ve,ae)}).catch(noop)}))}let Se=useCallbacks(),Re=useCallbacks(),he;function oe(I,K,j){Ne(I);const Z=Re.list();return Z.length?Z.forEach(Ae=>Ae(I,K,j)):console.error(I),Promise.reject(I)}function le(){return he&&c.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((I,K)=>{Se.add([I,K])})}function Ne(I){return he||(he=!I,ye(),Se.list().forEach(([K,j])=>I?j(I):K()),Se.reset()),I}function xe(I,K,j,Z){const{scrollBehavior:Ae}=e;if(!isBrowser||!Ae)return Promise.resolve();const ve=!j&&getSavedScrollPosition(getScrollKey(I.fullPath,0))||(Z||!j)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Ae(I,K,ve)).then(ae=>ae&&scrollToPosition(ae)).catch(ae=>oe(ae,I,K))}const Ee=I=>s.go(I);let Te;const Fe=new Set,Ve={currentRoute:c,listening:!0,addRoute:C,removeRoute:R,hasRoute:W,getRoutes:P,resolve:H,options:e,push:re,replace:O,go:Ee,back:()=>Ee(-1),forward:()=>Ee(1),beforeEach:o.add,beforeResolve:a.add,afterEach:l.add,onError:Re.add,isReady:le,install(I){const K=this;I.component("RouterLink",RouterLink),I.component("RouterView",RouterView),I.config.globalProperties.$router=K,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(c)}),isBrowser&&!Te&&c.value===START_LOCATION_NORMALIZED&&(Te=!0,re(s.location).catch(Ae=>{}));const j={};for(const Ae in START_LOCATION_NORMALIZED)j[Ae]=computed(()=>c.value[Ae]);I.provide(routerKey,K),I.provide(routeLocationKey,reactive(j)),I.provide(routerViewLocationKey,c);const Z=I.unmount;Fe.add(I),I.unmount=function(){Fe.delete(I),Fe.size<1&&(u=START_LOCATION_NORMALIZED,fe&&fe(),fe=null,c.value=START_LOCATION_NORMALIZED,Te=!1,he=!1),Z()}}};return Ve}function runGuardQueue(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function extractChangingRecords(e,t){const n=[],r=[],s=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const l=t.matched[a];l&&(e.matched.find(u=>isSameRouteRecord(u,l))?r.push(l):n.push(l));const c=e.matched[a];c&&(t.matched.find(u=>isSameRouteRecord(u,c))||s.push(c))}return[n,r,s]}const _sfc_main$i={props:["app","identity"],beforeMount(){if(this.$route.query.feedUrl)return this.$router.push(`/${this.$route.query.feedUrl}`);let e=this.app.queries.signalForIdentity(this.identity,this.$route.query.feedUrl);return e||(e=this.app.queries.defaultSignalForIdentity(this.identity)),this.$router.push(`/signals/${this.app.queries.permalinkForSignal(e)}`)}};function _sfc_render$i(e,t,n,r,s,o){return openBlock(),createElementBlock("div")}const Home=_export_sfc(_sfc_main$i,[["render",_sfc_render$i]]),SORT_BY_TIME=e=>(t,n)=>e.dateForEntry(t).getTime()<e.dateForEntry(n).getTime()?1:e.dateForEntry(n).getTime()<e.dateForEntry(t).getTime()?-1:0,_sfc_main$h={props:{hasPadding:{type:Boolean,default:!0},centerVertically:{type:Boolean,default:!0}}},_hoisted_1$h={class:"block mb-8","aria-labelledby":"applicant-information-title"},_hoisted_2$e={class:"bg-white shadow md:rounded-lg"},_hoisted_3$e={class:"px-4 py-5 sm:px-6"};function _sfc_render$h(e,t,n,r,s,o){return openBlock(),createElementBlock("section",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",_hoisted_3$e,[createBaseVNode("div",{class:normalizeClass(`flex ${n.centerVertically?"items-center":""} justify-between`)},[renderSlot(e.$slots,"title"),renderSlot(e.$slots,"meta")],2)]),e.$slots.content?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(`border-t border-gray-200 ${n.hasPadding?"px-4 py-5 sm:px-6":""} max-w-none`)},[renderSlot(e.$slots,"content")],2)):createCommentVNode("",!0)])])}const PageCard=_export_sfc(_sfc_main$h,[["render",_sfc_render$h]]),_sfc_main$g={props:["app","identity","entry"],computed:{src(){return this.app.queries.audioForEntry(this.entry)}},watch:{src(){this.app.commands.disableSleep(this.$refs.audio)}},unmounted(){this.app.commands.enableSleep(this.$refs.audio)}},_hoisted_1$g={key:0,class:"-mt-1 p-4"},_hoisted_2$d={ref:"audio",controls:"",class:"w-full"},_hoisted_3$d=["src"];function _sfc_render$g(e,t,n,r,s,o){return o.src?(openBlock(),createElementBlock("div",_hoisted_1$g,[createBaseVNode("audio",_hoisted_2$d,[createBaseVNode("source",{src:o.src},null,8,_hoisted_3$d)],512)])):createCommentVNode("",!0)}const AudioPlayer=_export_sfc(_sfc_main$g,[["render",_sfc_render$g]]),_sfc_main$f={props:["app","identity","entry"],computed:{src(){return this.app.queries.imageForEntry(this.entry)}}},_hoisted_1$f=["src"];function _sfc_render$f(e,t,n,r,s,o){return o.src?(openBlock(),createElementBlock("img",{key:0,src:o.src,class:"-mt-1 w-full"},null,8,_hoisted_1$f)):createCommentVNode("",!0)}const ImagePlayer=_export_sfc(_sfc_main$f,[["render",_sfc_render$f]]),_sfc_main$e={components:{ImagePlayer},props:["app","identity","entry"],data(){return{isPlaying:!1}},computed:{src(){return this.app.queries.videoForEntry(this.entry)},useIframe(){return/youtube/.test(this.src)||!/mp4|ogg/.test(this.src)},thumbnail(){return this.app.queries.imageForEntry(this.entry)}}},_hoisted_1$e={key:0},_hoisted_2$c={key:1,class:"-mt-1"},_hoisted_3$c=["src"],_hoisted_4$b=["autoplay"],_hoisted_5$a=["src"];function _sfc_render$e(e,t,n,r,s,o){const a=resolveComponent("ImagePlayer");return o.thumbnail&&!s.isPlaying?(openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("a",{href:"javascript:;",onClick:t[0]||(t[0]=l=>s.isPlaying=!0)},[createVNode(a,{app:n.app,identity:n.identity,entry:n.entry},null,8,["app","identity","entry"])])])):o.src?(openBlock(),createElementBlock("div",_hoisted_2$c,[o.useIframe?(openBlock(),createElementBlock("iframe",{key:0,src:o.src,class:"w-full aspect-video",frameborder:"0",allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,_hoisted_3$c)):(openBlock(),createElementBlock("video",{key:1,class:"w-full aspect-video",preload:"none",controls:"",autoplay:s.isPlaying},[createBaseVNode("source",{src:o.src,type:"video/mp4"},null,8,_hoisted_5$a),createTextVNode(" Your browser does not support the video tag. ")],8,_hoisted_4$b))])):createCommentVNode("",!0)}const VideoPlayer=_export_sfc(_sfc_main$e,[["render",_sfc_render$e]]),MAX_SUMMARY_LENGTH=255,_sfc_main$d={props:["app","identity","entry"],data(){return{content:this.app.queries.contentForEntry(this.entry),isPlaying:!1}},computed:{entryMetas(){return this.app.queries.metasForEntryForIdentity(this.identity,this.entry)},html(){return this.app.queries.linkify(this.content)},hasExpansion(){return this.html.length>MAX_SUMMARY_LENGTH}},mounted(){if(this.entryMetas.length){this.isPlaying=!1;return}this.isPlaying=!this.hasExpansion},methods:{toggleIsPlaying(){this.isPlaying=!this.isPlaying,this.isPlaying||this.app.commands.markEntryAsReadForIdentity(this.identity,this.entry)}}},_hoisted_1$d={key:0},_hoisted_2$b={key:0},_hoisted_3$b=["innerHTML"],_hoisted_4$a=["aria-label","innerHTML"],_hoisted_5$9={key:1,class:"z-10 text-center border-t border-gray-200"},_hoisted_6$8=["aria-label"],_hoisted_7$8={key:0},_hoisted_8$7={key:1};function _sfc_render$d(e,t,n,r,s,o){return s.content?(openBlock(),createElementBlock("div",_hoisted_1$d,[o.entryMetas.length?(openBlock(),createElementBlock("div",_hoisted_2$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.entryMetas,a=>(openBlock(),createElementBlock("div",{key:a.content,class:"prose max-w-none overflow-auto px-4 py-5 sm:px-6",innerHTML:n.app.queries.linkify(a.content)},null,8,_hoisted_3$b))),128))])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(`prose max-w-none ${s.isPlaying?"":"max-h-48"} overflow-auto px-4 py-5 sm:px-6`),"aria-label":`Content for ${n.entry.id}`,innerHTML:o.html},null,10,_hoisted_4$a),o.hasExpansion?(openBlock(),createElementBlock("div",_hoisted_5$9,[createBaseVNode("button",{class:"w-full border-gray-100 text-indigo-600 p-3 text-base font-medium underline","aria-label":`Toggle entry content ${n.entry.id}`,onClick:t[0]||(t[0]=(...a)=>o.toggleIsPlaying&&o.toggleIsPlaying(...a))},[s.isPlaying?(openBlock(),createElementBlock("span",_hoisted_7$8,"Mark as read")):(openBlock(),createElementBlock("span",_hoisted_8$7,"Expand"))],8,_hoisted_6$8)])):createCommentVNode("",!0)])):createCommentVNode("",!0)}const ContentPlayer=_export_sfc(_sfc_main$d,[["render",_sfc_render$d]]),_sfc_main$c={components:{PageCard,AudioPlayer,ContentPlayer,ImagePlayer,VideoPlayer},props:["app","identity","entry","feed"],computed:{entryFeed(){return this.feed||this.feedFromIdentity},feedFromIdentity(){return this.app.queries.feedForIdentity(this.identity,this.entry.feedId)}},methods:{toggleRead(e){if(this.app.queries.isEntryRead(e)){this.app.commands.markEntryAsUnreadForIdentity(this.identity,e);return}this.app.commands.markEntryAsReadForIdentity(this.identity,e)}}},_hoisted_1$c={class:"flex space-x-3"},_hoisted_2$a=["src","alt"],_hoisted_3$a={key:1,class:"mt-1 text-sm text-gray-500"},_hoisted_4$9=createBaseVNode("span",{class:"font-medium"},"",-1),_hoisted_5$8=["title"],_hoisted_6$7={key:0},_hoisted_7$7=createBaseVNode("span",{class:"font-medium"},"",-1),_hoisted_8$6=["href"],_hoisted_9$5=["aria-label"],_hoisted_10$2=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-6 h-6"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule":"evenodd"})],-1),_hoisted_11$2=[_hoisted_10$2];function _sfc_render$c(e,t,n,r,s,o){const a=resolveComponent("router-link"),l=resolveComponent("VideoPlayer"),c=resolveComponent("AudioPlayer"),u=resolveComponent("ImagePlayer"),f=resolveComponent("ContentPlayer"),A=resolveComponent("PageCard");return openBlock(),createBlock(A,{"has-padding":!1,"center-vertically":!1},{title:withCtx(()=>[createBaseVNode("div",_hoisted_1$c,[n.app.queries.imageForFeed(o.entryFeed)?(openBlock(),createBlock(a,{key:0,to:`/${n.app.queries.urlForFeed(o.entryFeed)}`,class:"block flex-shrink-0 mr-2"},{default:withCtx(()=>[o.entryFeed?(openBlock(),createElementBlock("img",{key:0,class:"h-10 w-10 rounded-full bg-gray-100",src:n.app.queries.imageForFeed(o.entryFeed),alt:n.app.queries.titleForFeed(o.entryFeed)},null,8,_hoisted_2$a)):createCommentVNode("",!0)]),_:1},8,["to"])):createCommentVNode("",!0),createBaseVNode("div",null,[n.app.queries.titleForEntry(n.entry)?(openBlock(),createBlock(a,{key:0,to:`/${n.app.queries.urlForFeed(o.entryFeed)}`,class:"font-medium text-gray-900","aria-label":"Entry title",innerHTML:n.app.queries.titleForEntry(n.entry)},null,8,["to","innerHTML"])):createCommentVNode("",!0),o.entryFeed?(openBlock(),createElementBlock("div",_hoisted_3$a,[createVNode(a,{to:`/${n.app.queries.urlForFeed(o.entryFeed)}`,"aria-label":"Feed link"},{default:withCtx(()=>[createTextVNode(toDisplayString(n.app.queries.titleForFeed(o.entryFeed)),1)]),_:1},8,["to"]),createTextVNode("  "),_hoisted_4$9,createTextVNode("  "),createBaseVNode("span",{title:n.app.queries.dateForEntry(n.entry)},toDisplayString(n.app.queries.niceDateForEntry(n.entry)),9,_hoisted_5$8),n.app.queries.linkForEntry(n.entry)?(openBlock(),createElementBlock("span",_hoisted_6$7,[createTextVNode("  "),_hoisted_7$7,createTextVNode("  "),createBaseVNode("a",{href:n.app.queries.linkForEntry(n.entry),target:"_blank"}," Source ",8,_hoisted_8$6)])):createCommentVNode("",!0)])):createCommentVNode("",!0)])]),o.feedFromIdentity?(openBlock(),createElementBlock("a",{key:0,href:"javascript:;",class:normalizeClass(`block float-right ${n.app.queries.isEntryRead(n.entry)?"text-green-500":"text-gray-300"}`),"aria-label":`Mark as ${n.app.queries.isEntryRead(n.entry)?"un":""}read ${n.entry.id}`,onClick:t[0]||(t[0]=_=>o.toggleRead(n.entry))},_hoisted_11$2,10,_hoisted_9$5)):createCommentVNode("",!0)]),content:withCtx(()=>[n.app.queries.videoForEntry(n.entry)?(openBlock(),createBlock(l,{key:0,app:n.app,identity:n.identity,entry:n.entry},null,8,["app","identity","entry"])):n.app.queries.audioForEntry(n.entry)?(openBlock(),createBlock(c,{key:1,app:n.app,identity:n.identity,entry:n.entry},null,8,["app","identity","entry"])):n.app.queries.imageForEntry(n.entry)?(openBlock(),createBlock(u,{key:2,app:n.app,identity:n.identity,entry:n.entry},null,8,["app","identity","entry"])):createCommentVNode("",!0),n.app.queries.contentForEntry(n.entry)?(openBlock(),createBlock(f,{key:3,app:n.app,identity:n.identity,entry:n.entry},null,8,["app","identity","entry"])):createCommentVNode("",!0)]),_:1})}const FeedEntry=_export_sfc(_sfc_main$c,[["render",_sfc_render$c]]),_sfc_main$b={props:["app","identity","entries"],computed:{newEntriesLength(){return this.app.queries.filterNewEntries(this.entries).length}}},_hoisted_1$b={key:0,class:"fixed left-0 right-0 p-2 bg-blue-100 primary-color"};function _sfc_render$b(e,t,n,r,s,o){return o.newEntriesLength?(openBlock(),createElementBlock("p",_hoisted_1$b,[createTextVNode(" You have "+toDisplayString(o.newEntriesLength)+" new item"+toDisplayString(o.newEntriesLength===1?"":"s")+"! ",1),createBaseVNode("a",{href:"javascript:;",class:"underline","aria-label":"Show new items",onClick:t[0]||(t[0]=a=>n.app.commands.showNewEntries(n.identity))}," Show now. ")])):createCommentVNode("",!0)}const NewBar=_export_sfc(_sfc_main$b,[["render",_sfc_render$b]]),_sfc_main$a={props:["title"]},_hoisted_1$a={class:"border-b border-gray-200 p-4 md:mb-8 md:px-0"},_hoisted_2$9={class:"flex justify-between"},_hoisted_3$9={class:"w-0 flex-1"},_hoisted_4$8={"aria-label":"Page title",class:"text-lg font-medium text-gray-900 group flex items-center"},_hoisted_5$7={class:"mt-1 truncate text-sm text-gray-500"};function _sfc_render$a(e,t,n,r,s,o){return openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$9,[createBaseVNode("h1",_hoisted_4$8,toDisplayString(n.title),1),createBaseVNode("p",_hoisted_5$7,[renderSlot(e.$slots,"description")])]),createBaseVNode("div",null,[renderSlot(e.$slots,"meta")])])])}const PageTitle=_export_sfc(_sfc_main$a,[["render",_sfc_render$a]]),_sfc_main$9={props:["app","identity"],data(){return{isOpen:!1}},methods:{toggleOpen(){this.isOpen=!this.isOpen}}},_hoisted_1$9={class:"flex items-center justify-between sm:ml-6 sm:flex-shrink-0 sm:justify-start"},_hoisted_2$8={class:"relative ml-3 inline-block text-left"},_hoisted_3$8=["aria-expanded"],_hoisted_4$7=createBaseVNode("span",{class:"sr-only"},"Open options",-1),_hoisted_5$6=createBaseVNode("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[createBaseVNode("path",{d:"M10 3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 8.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM11.5 15.5a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0z"})],-1),_hoisted_6$6=[_hoisted_4$7,_hoisted_5$6],_hoisted_7$6={class:"py-1",role:"none"};function _sfc_render$9(e,t,n,r,s,o){return openBlock(),createElementBlock(Fragment,null,[s.isOpen?(openBlock(),createElementBlock("div",{key:0,class:"bg-transparent fixed top-0 right-0 bottom-0 left-0",onClick:t[0]||(t[0]=(...a)=>o.toggleOpen&&o.toggleOpen(...a))})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",null,[createBaseVNode("button",{id:"menu-0-button",type:"button",class:"-my-2 flex items-center rounded-full bg-white p-2 text-gray-400 hover:text-gray-600","aria-expanded":s.isOpen,"aria-haspopup":"true","aria-label":"Show menu",onClick:t[1]||(t[1]=(...a)=>o.toggleOpen&&o.toggleOpen(...a))},_hoisted_6$6,8,_hoisted_3$8)]),s.isOpen?(openBlock(),createElementBlock("div",{key:0,class:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-0-button",tabindex:"-1",onClick:t[2]||(t[2]=(...a)=>o.toggleOpen&&o.toggleOpen(...a))},[createBaseVNode("div",_hoisted_7$6,[renderSlot(e.$slots,"items")])])):createCommentVNode("",!0)])])],64)}const DropDown=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]),_sfc_main$8={components:{DropDown,FeedEntry,NewBar,PageTitle},props:["app","identity"],data(){return{remoteFeed:null}},computed:{existingFeed(){return this.app.queries.feedForIdentityByUrl(this.identity,this.url)},feed(){return this.existingFeed||this.remoteFeed},url(){return this.$route.fullPath.replace(/^\//,"")},remoteEntries(){return this.remoteFeed?(this.remoteFeed.entries||[]).sort(SORT_BY_TIME(this.app.queries)):[]},existingEntries(){return this.existingFeed?this.app.queries.entriesForFeed(this.identity,this.existingFeed):[]},entries(){return this.existingFeed?this.app.queries.filterNonNewEntries(this.existingEntries):this.remoteEntries},unreadEntries(){return this.existingEntries.filter(e=>!this.app.queries.isEntryRead(e))},title(){let e=this.app.queries.titleForFeed(this.feed);return this.app.queries.isFeedPaused(this.feed)&&(e+=" "),e}},watch:{url(){this.fetchFeed()}},mounted(){this.app.commands.showNewEntries(),this.fetchFeed()},methods:{toggleFollow(){if(this.existingFeed){this.app.commands.removeFeedFromIdentity(this.identity,this.existingFeed),this.fetchFeed();return}this.app.commands.addFeedToIdentity(this.identity,this.remoteFeed.url,this.remoteFeed.data,this.remoteFeed.entries.map(e=>e.data)),this.app.commands.showNewEntries()},togglePause(){if(this.app.queries.isFeedPaused(this.existingFeed)){this.app.commands.unpauseFeedForIdentity(this.identity,this.existingFeed);return}this.app.commands.pauseFeedForIdentity(this.identity,this.existingFeed)},catchUpOnFeed(){this.unreadEntries.reverse().forEach(e=>{this.app.commands.markEntryAsReadForIdentity(this.identity,e)})},fetchFeed(){if(this.remoteFeed=null,this.feed)return this.app.commands.fetchFeed(this.identity,this.feed).then(e=>{this.remoteFeed=!0});this.app.commands.fetchUrl(this.identity,"rss",this.url).then(e=>{const t=e.entry||e.item||[];delete e.entry,delete e.item,this.remoteFeed=Object.assign({},{url:this.url,data:e,entries:t.map(n=>({id:n.id,data:n}))})})}}},_hoisted_1$8={key:0},_hoisted_2$7=["href"],_hoisted_3$7={key:0},_hoisted_4$6={class:"flex"},_hoisted_5$5=["aria-label"],_hoisted_6$5={key:0},_hoisted_7$5=createBaseVNode("span",null,"Catch me up",-1),_hoisted_8$5=[_hoisted_7$5],_hoisted_9$4=["aria-label"];function _sfc_render$8(e,t,n,r,s,o){const a=resolveComponent("NewBar"),l=resolveComponent("DropDown"),c=resolveComponent("PageTitle"),u=resolveComponent("FeedEntry");return o.feed||s.remoteFeed?(openBlock(),createElementBlock("div",_hoisted_1$8,[createVNode(a,{app:n.app,identity:n.identity,entries:o.existingEntries},null,8,["app","identity","entries"]),createVNode(c,{title:o.title},{description:withCtx(()=>[createBaseVNode("a",{href:n.app.queries.linkForFeed(o.feed),target:"_blank"},[createTextVNode(toDisplayString(n.app.queries.linkForFeed(o.feed))+"  ",1),s.remoteFeed?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_3$7,"Loading..."))],8,_hoisted_2$7)]),meta:withCtx(()=>[createBaseVNode("div",_hoisted_4$6,[createBaseVNode("button",{class:"rounded-md border border-transparent bg-green-100 px-4 py-2 font-medium text-green-700 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 sm:text-sm ml-1","aria-label":`${o.existingFeed?"Unf":"F"}ollow ${n.app.queries.titleForFeed(o.feed)}`,onClick:t[0]||(t[0]=(...f)=>o.toggleFollow&&o.toggleFollow(...f))},[createTextVNode(" Follow"),o.existingFeed?(openBlock(),createElementBlock("span",_hoisted_6$5,"ing")):createCommentVNode("",!0)],8,_hoisted_5$5),o.existingFeed?(openBlock(),createBlock(l,{key:0,app:n.app,identity:n.identity},{items:withCtx(()=>[o.unreadEntries.length?(openBlock(),createElementBlock("a",{key:0,href:"javascript:;",class:"text-gray-700 flex justify-between px-4 py-2 text-sm",role:"menuitem",tabindex:"-1","aria-label":"Catch up on feed",onClick:t[1]||(t[1]=(...f)=>o.catchUpOnFeed&&o.catchUpOnFeed(...f))},_hoisted_8$5)):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:;",class:"text-gray-700 flex justify-between px-4 py-2 text-sm",role:"menuitem",tabindex:"-1","aria-label":`${n.app.queries.isFeedPaused(o.existingFeed)?"Unp":"P"}ause feed`,onClick:t[2]||(t[2]=(...f)=>o.togglePause&&o.togglePause(...f))},[createBaseVNode("span",null,toDisplayString(n.app.queries.isFeedPaused(o.existingFeed)?"Unp":"P")+"ause Feed",1)],8,_hoisted_9$4)]),_:1},8,["app","identity"])):createCommentVNode("",!0)])]),_:1},8,["title"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.entries,f=>(openBlock(),createBlock(u,{key:`feed-${o.feed.id}-entry-${f.id}`,app:n.app,identity:n.identity,entry:f,feed:o.feed},null,8,["app","identity","entry","feed"]))),128))])):createCommentVNode("",!0)}const Feed=_export_sfc(_sfc_main$8,[["render",_sfc_render$8]]),_sfc_main$7={components:{PageCard,PageTitle},props:["app","identity"]},_hoisted_1$7=createBaseVNode("p",null,"The feeds you follow",-1),_hoisted_2$6=createBaseVNode("p",{class:"font-medium text-gray-900"}," Following ",-1),_hoisted_3$6={role:"list",class:"divide-y divide-gray-200"},_hoisted_4$5={class:"flex space-x-3 flex-shrink-0 items-center py-4"},_hoisted_5$4={class:"h-10 w-10 mr-3 rounded-full bg-gray-100"},_hoisted_6$4=["src"],_hoisted_7$4={class:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between"},_hoisted_8$4={class:"truncate"},_hoisted_9$3={class:"flex text-sm"},_hoisted_10$1={class:"truncate font-medium primary-color"},_hoisted_11$1={class:"ml-1 flex-shrink-0 font-normal text-gray-500"},_hoisted_12$1=createBaseVNode("span",{class:"font-medium"},"",-1),_hoisted_13$1={class:"mt-2 flex"},_hoisted_14={class:"flex items-center text-sm text-gray-500"},_hoisted_15=createBaseVNode("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"})],-1),_hoisted_16=["title"],_hoisted_17=createBaseVNode("div",{class:"ml-5 flex-shrink-0"},[createBaseVNode("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})])],-1);function _sfc_render$7(e,t,n,r,s,o){const a=resolveComponent("PageTitle"),l=resolveComponent("router-link"),c=resolveComponent("PageCard");return openBlock(),createElementBlock("div",null,[createVNode(a,{title:"Feeds you follow"},{description:withCtx(()=>[_hoisted_1$7]),meta:withCtx(()=>[]),_:1}),createVNode(c,{"has-padding":!1},{title:withCtx(()=>[_hoisted_2$6]),content:withCtx(()=>[createBaseVNode("ul",_hoisted_3$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.app.queries.feedsForIdentity(n.identity),u=>(openBlock(),createElementBlock("li",{key:u.id},[createVNode(l,{to:`/${n.app.queries.urlForFeed(u)}`,class:"block px-5 sm:px-6","aria-label":`Visit ${n.app.queries.titleForFeed(u)} feed`},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("p",_hoisted_5$4,[n.app.queries.imageForFeed(u)?(openBlock(),createElementBlock("img",{key:0,class:"h-10 w-10 rounded-full",src:n.app.queries.imageForFeed(u)},null,8,_hoisted_6$4)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$4,[createBaseVNode("div",_hoisted_8$4,[createBaseVNode("div",_hoisted_9$3,[createBaseVNode("p",_hoisted_10$1,toDisplayString(n.app.queries.titleForFeed(u)),1),createBaseVNode("p",_hoisted_11$1,[createTextVNode("  "),_hoisted_12$1,createTextVNode("  "+toDisplayString(n.app.queries.entriesForFeed(n.identity,u).length)+" items ",1)])]),createBaseVNode("div",_hoisted_13$1,[createBaseVNode("div",_hoisted_14,[_hoisted_15,createBaseVNode("p",null,[createTextVNode(" Last item "),createBaseVNode("span",{title:n.app.queries.dateForEntry(n.app.queries.lastEntryForFeed(n.identity,u))},toDisplayString(n.app.queries.niceDateForEntry(n.app.queries.lastEntryForFeed(n.identity,u))),9,_hoisted_16)])])])])]),_hoisted_17])]),_:2},1032,["to","aria-label"])]))),128))])]),_:1})])}const Following=_export_sfc(_sfc_main$7,[["render",_sfc_render$7]]),_sfc_main$6={components:{PageCard,PageTitle},props:["app","identity"]},_hoisted_1$6=createBaseVNode("p",null,"Get support for Follow Along",-1),_hoisted_2$5=createBaseVNode("p",{class:"font-medium text-gray-900"}," Contact us via email ",-1),_hoisted_3$5=createBaseVNode("div",{class:"prose"},[createBaseVNode("p",null," Email us at followalong@protonmail.com for a quick response. ")],-1);function _sfc_render$6(e,t,n,r,s,o){const a=resolveComponent("PageTitle"),l=resolveComponent("PageCard");return openBlock(),createElementBlock("div",null,[createVNode(a,{title:"Help"},{description:withCtx(()=>[_hoisted_1$6]),_:1}),createVNode(l,null,{title:withCtx(()=>[_hoisted_2$5]),content:withCtx(()=>[_hoisted_3$5]),_:1})])}const Help=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]),_sfc_main$5={components:{PageCard,PageTitle},props:["app","identity"],methods:{forgetIdentity(){this.app.confirm("Are you sure you want to remove this identity?").then(()=>this.app.commands.forgetIdentity(this.identity)).then(e=>this.app.setIdentity(e)).then(()=>this.$router.push("/")).catch(()=>{})},rollUpIdentity(){this.app.confirm("Are you sure you want to roll up this identity?").then(()=>this.app.commands.createProjectionForIdentity(this.identity)).then(()=>this.$router.push("/")).catch(()=>{})}}},_hoisted_1$5=createBaseVNode("p",null,"Set up your identity for Follow Along",-1),_hoisted_2$4=createBaseVNode("p",{class:"font-medium text-gray-900"}," Roll up this identity ",-1),_hoisted_3$4={class:"prose"},_hoisted_4$4=createBaseVNode("p",null," Clean up the local database for better performance. ",-1),_hoisted_5$3={class:"mt-5"},_hoisted_6$3=createBaseVNode("p",{class:"font-medium text-gray-900"}," Forget this identity ",-1),_hoisted_7$3={class:"prose"},_hoisted_8$3=createBaseVNode("p",null," Forgetting this identity will remove all traces of it on this device. Ensure you have a backup before proceeding. ",-1),_hoisted_9$2={class:"mt-5"};function _sfc_render$5(e,t,n,r,s,o){const a=resolveComponent("PageTitle"),l=resolveComponent("PageCard");return openBlock(),createElementBlock("div",null,[createVNode(a,{title:"Settings"},{description:withCtx(()=>[_hoisted_1$5]),_:1}),createVNode(l,null,{title:withCtx(()=>[_hoisted_2$4]),content:withCtx(()=>[createBaseVNode("div",_hoisted_3$4,[_hoisted_4$4,createBaseVNode("div",_hoisted_5$3,[createBaseVNode("button",{type:"button",class:"rounded-md border border-transparent bg-orange-100 px-4 py-2 font-medium text-orange-700 hover:bg-orange-200 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 sm:text-sm","aria-label":"Roll up identity",onClick:t[0]||(t[0]=(...c)=>o.rollUpIdentity&&o.rollUpIdentity(...c))}," Roll up this identity ")])])]),_:1}),createVNode(l,null,{title:withCtx(()=>[_hoisted_6$3]),content:withCtx(()=>[createBaseVNode("div",_hoisted_7$3,[_hoisted_8$3,createBaseVNode("div",_hoisted_9$2,[createBaseVNode("button",{type:"button",class:"rounded-md border border-transparent bg-red-100 px-4 py-2 font-medium text-red-700 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:text-sm","aria-label":"Forget identity",onClick:t[1]||(t[1]=(...c)=>o.forgetIdentity&&o.forgetIdentity(...c))}," Forget me! ")])])]),_:1})])}const Settings=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]);var _shared={pullStartY:null,pullMoveY:null,handlers:[],styleEl:null,events:null,dist:0,state:"pending",timeout:null,distResisted:0,supportsPassive:!1,supportsPointerEvents:typeof window<"u"&&!!window.PointerEvent};try{window.addEventListener("test",null,{get passive(){_shared.supportsPassive=!0}})}catch(e){}function setupDOM(e){if(!e.ptrElement){var t=document.createElement("div");e.mainElement!==document.body?e.mainElement.parentNode.insertBefore(t,e.mainElement):document.body.insertBefore(t,document.body.firstChild),t.classList.add(e.classPrefix+"ptr"),t.innerHTML=e.getMarkup().replace(/__PREFIX__/g,e.classPrefix),e.ptrElement=t,typeof e.onInit=="function"&&e.onInit(e),_shared.styleEl||(_shared.styleEl=document.createElement("style"),_shared.styleEl.setAttribute("id","pull-to-refresh-js-style"),document.head.appendChild(_shared.styleEl)),_shared.styleEl.textContent=e.getStyles().replace(/__PREFIX__/g,e.classPrefix).replace(/\s+/g," ")}return e}function onReset(e){e.ptrElement&&(e.ptrElement.classList.remove(e.classPrefix+"refresh"),e.ptrElement.style[e.cssProp]="0px",setTimeout(function(){e.ptrElement&&e.ptrElement.parentNode&&(e.ptrElement.parentNode.removeChild(e.ptrElement),e.ptrElement=null),_shared.state="pending"},e.refreshTimeout))}function update(e){var t=e.ptrElement.querySelector("."+e.classPrefix+"icon"),n=e.ptrElement.querySelector("."+e.classPrefix+"text");t&&(_shared.state==="refreshing"?t.innerHTML=e.iconRefreshing:t.innerHTML=e.iconArrow),n&&(_shared.state==="releasing"&&(n.innerHTML=e.instructionsReleaseToRefresh),(_shared.state==="pulling"||_shared.state==="pending")&&(n.innerHTML=e.instructionsPullToRefresh),_shared.state==="refreshing"&&(n.innerHTML=e.instructionsRefreshing))}var _ptr={setupDOM,onReset,update},_timeout,screenY=function e(t){return _shared.pointerEventsEnabled&&_shared.supportsPointerEvents?t.screenY:t.touches[0].screenY},_setupEvents=function(){var e;function t(a){var l=_shared.handlers.filter(function(c){return c.contains(a.target)})[0];_shared.enable=!!l,l&&_shared.state==="pending"&&(e=_ptr.setupDOM(l),l.shouldPullToRefresh()&&(_shared.pullStartY=screenY(a)),clearTimeout(_shared.timeout),_ptr.update(l))}function n(a){if(e&&e.ptrElement&&_shared.enable){if(_shared.pullStartY?_shared.pullMoveY=screenY(a):e.shouldPullToRefresh()&&(_shared.pullStartY=screenY(a)),_shared.state==="refreshing"){a.cancelable&&e.shouldPullToRefresh()&&_shared.pullStartY<_shared.pullMoveY&&a.preventDefault();return}_shared.state==="pending"&&(e.ptrElement.classList.add(e.classPrefix+"pull"),_shared.state="pulling",_ptr.update(e)),_shared.pullStartY&&_shared.pullMoveY&&(_shared.dist=_shared.pullMoveY-_shared.pullStartY),_shared.distExtra=_shared.dist-e.distIgnore,_shared.distExtra>0&&(a.cancelable&&a.preventDefault(),e.ptrElement.style[e.cssProp]=_shared.distResisted+"px",_shared.distResisted=e.resistanceFunction(_shared.distExtra/e.distThreshold)*Math.min(e.distMax,_shared.distExtra),_shared.state==="pulling"&&_shared.distResisted>e.distThreshold&&(e.ptrElement.classList.add(e.classPrefix+"release"),_shared.state="releasing",_ptr.update(e)),_shared.state==="releasing"&&_shared.distResisted<e.distThreshold&&(e.ptrElement.classList.remove(e.classPrefix+"release"),_shared.state="pulling",_ptr.update(e)))}}function r(){if(e&&e.ptrElement&&_shared.enable){if(clearTimeout(_timeout),_timeout=setTimeout(function(){e&&e.ptrElement&&_shared.state==="pending"&&_ptr.onReset(e)},500),_shared.state==="releasing"&&_shared.distResisted>e.distThreshold)_shared.state="refreshing",e.ptrElement.style[e.cssProp]=e.distReload+"px",e.ptrElement.classList.add(e.classPrefix+"refresh"),_shared.timeout=setTimeout(function(){var a=e.onRefresh(function(){return _ptr.onReset(e)});a&&typeof a.then=="function"&&a.then(function(){return _ptr.onReset(e)}),!a&&!e.onRefresh.length&&_ptr.onReset(e)},e.refreshTimeout);else{if(_shared.state==="refreshing")return;e.ptrElement.style[e.cssProp]="0px",_shared.state="pending"}_ptr.update(e),e.ptrElement.classList.remove(e.classPrefix+"release"),e.ptrElement.classList.remove(e.classPrefix+"pull"),_shared.pullStartY=_shared.pullMoveY=null,_shared.dist=_shared.distResisted=0}}function s(){e&&e.mainElement.classList.toggle(e.classPrefix+"top",e.shouldPullToRefresh())}var o=_shared.supportsPassive?{passive:_shared.passive||!1}:void 0;return _shared.pointerEventsEnabled&&_shared.supportsPointerEvents?(window.addEventListener("pointerup",r),window.addEventListener("pointerdown",t),window.addEventListener("pointermove",n,o)):(window.addEventListener("touchend",r),window.addEventListener("touchstart",t),window.addEventListener("touchmove",n,o)),window.addEventListener("scroll",s),{onTouchEnd:r,onTouchStart:t,onTouchMove:n,onScroll:s,destroy:function(){_shared.pointerEventsEnabled&&_shared.supportsPointerEvents?(window.removeEventListener("pointerdown",t),window.removeEventListener("pointerup",r),window.removeEventListener("pointermove",n,o)):(window.removeEventListener("touchstart",t),window.removeEventListener("touchend",r),window.removeEventListener("touchmove",n,o)),window.removeEventListener("scroll",s)}}},_ptrMarkup=`
<div class="__PREFIX__box">
  <div class="__PREFIX__content">
    <div class="__PREFIX__icon"></div>
    <div class="__PREFIX__text"></div>
  </div>
</div>
`,_ptrStyles=`
.__PREFIX__ptr {
  box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.12);
  pointer-events: none;
  font-size: 0.85em;
  font-weight: bold;
  top: 0;
  height: 0;
  transition: height 0.3s, min-height 0.3s;
  text-align: center;
  width: 100%;
  overflow: hidden;
  display: flex;
  align-items: flex-end;
  align-content: stretch;
}

.__PREFIX__box {
  padding: 10px;
  flex-basis: 100%;
}

.__PREFIX__pull {
  transition: none;
}

.__PREFIX__text {
  margin-top: .33em;
  color: rgba(0, 0, 0, 0.3);
}

.__PREFIX__icon {
  color: rgba(0, 0, 0, 0.3);
  transition: transform .3s;
}

/*
When at the top of the page, disable vertical overscroll so passive touch
listeners can take over.
*/
.__PREFIX__top {
  touch-action: pan-x pan-down pinch-zoom;
}

.__PREFIX__release .__PREFIX__icon {
  transform: rotate(180deg);
}
`,_defaults={distThreshold:60,distMax:80,distReload:50,distIgnore:0,mainElement:"body",triggerElement:"body",ptrElement:".ptr",classPrefix:"ptr--",cssProp:"min-height",iconArrow:"&#8675;",iconRefreshing:"&hellip;",instructionsPullToRefresh:"Pull down to refresh",instructionsReleaseToRefresh:"Release to refresh",instructionsRefreshing:"Refreshing",refreshTimeout:500,getMarkup:function(){return _ptrMarkup},getStyles:function(){return _ptrStyles},onInit:function(){},onRefresh:function(){return location.reload()},resistanceFunction:function(e){return Math.min(1,e/2.5)},shouldPullToRefresh:function(){return!window.scrollY}},_methods=["mainElement","ptrElement","triggerElement"],_setupHandler=function(e){var t={};return Object.keys(_defaults).forEach(function(n){t[n]=e[n]||_defaults[n]}),t.refreshTimeout=typeof e.refreshTimeout=="number"?e.refreshTimeout:_defaults.refreshTimeout,_methods.forEach(function(n){typeof t[n]=="string"&&(t[n]=document.querySelector(t[n]))}),_shared.events||(_shared.events=_setupEvents()),t.contains=function(n){return t.triggerElement.contains(n)},t.destroy=function(){clearTimeout(_shared.timeout);var n=_shared.handlers.indexOf(t);_shared.handlers.splice(n,1)},t},index={setPassiveMode:function e(t){_shared.passive=t},setPointerEventsMode:function e(t){_shared.pointerEventsEnabled=t},destroyAll:function e(){_shared.events&&(_shared.events.destroy(),_shared.events=null),_shared.handlers.forEach(function(t){t.destroy()})},init:function e(t){t===void 0&&(t={});var n=_setupHandler(t);return _shared.handlers.push(n),n},_:{setupHandler:_setupHandler,setupEvents:_setupEvents,setupDOM:_ptr.setupDOM,onReset:_ptr.onReset,update:_ptr.update}};const DISTANCE_FROM_BOTTOM=500,LIMIT=4,_sfc_main$4={components:{DropDown,FeedEntry,NewBar,PageCard,PageTitle},props:["app","identity"],data(){return{limit:LIMIT,infiniteScrollListener:this.infiniteScroll()}},computed:{signal(){return this.app.queries.signalForIdentity(this.identity,this.$route.params.signal)},entries(){return this.app.queries.entriesForSignal(this.identity,this.signal)},shownEntries(){return this.app.queries.filterNonNewEntries(this.entries).slice(0,this.limit)},unreadEntries(){return this.shownEntries.filter(e=>!this.app.queries.isEntryRead(e))},catchUpEntries(){return this.entries.filter(e=>!this.app.queries.isEntryRead(e))},signalCards(){return this.app.queries.cardsForIdentityForSignal(this.identity,this.signal)}},watch:{signal(){this.limit=LIMIT,this.app.commands.showNewEntries()}},mounted(){this.app.commands.showNewEntries(),window.addEventListener("scroll",this.infiniteScrollListener),this.startPullToRefresh()},unmounted(){window.removeEventListener("scroll",this.infiniteScrollListener),this.endPullToRefresh()},methods:{startPullToRefresh(){index.init({mainElement:"body",onRefresh:()=>{setTimeout(()=>this.app.commands.fetchFeedsForIdentity(this.identity),100)}})},endPullToRefresh(){index.destroyAll()},infiniteScroll(){let e;return()=>{if(e)return;const t=document.body.scrollHeight,n=window.innerHeight||document.documentElement.clientHeight,r=Math.max(window.pageYOffset||0,document.documentElement.scrollTop);t-r-n<DISTANCE_FROM_BOTTOM&&(this.limit+=LIMIT,setTimeout(function(){e=!1},100))}},catchUpOnSignal(){this.catchUpEntries.reverse().forEach(e=>{this.app.commands.markEntryAsReadForIdentity(this.identity,e)}),this.app.commands.showNewEntries()}}},_hoisted_1$4=createBaseVNode("span",null,"Catch me up",-1),_hoisted_2$3=[_hoisted_1$4],_hoisted_3$3={key:0},_hoisted_4$3={class:"font-medium text-gray-900"},_hoisted_5$2={key:0,class:"mt-1 text-sm text-gray-500"},_hoisted_6$2=["innerHTML"],_hoisted_7$2={key:1},_hoisted_8$2={key:2},_hoisted_9$1=createBaseVNode("div",{class:"prose"},[createBaseVNode("p",null," You're all caught up! ")],-1);function _sfc_render$4(e,t,n,r,s,o){const a=resolveComponent("NewBar"),l=resolveComponent("DropDown"),c=resolveComponent("PageTitle"),u=resolveComponent("PageCard"),f=resolveComponent("FeedEntry");return openBlock(),createElementBlock("div",null,[createVNode(a,{app:n.app,identity:n.identity,entries:o.entries},null,8,["app","identity","entries"]),createVNode(c,{title:n.app.queries.titleForSignal(o.signal)},{description:withCtx(()=>[createTextVNode(toDisplayString(n.app.queries.descriptionForSignal(o.signal)),1)]),meta:withCtx(()=>[o.unreadEntries.length?(openBlock(),createBlock(l,{key:0,app:n.app,identity:n.identity},{items:withCtx(()=>[o.unreadEntries.length?(openBlock(),createElementBlock("a",{key:0,href:"javascript:;",class:"text-gray-700 flex justify-between px-4 py-2 text-sm",role:"menuitem",tabindex:"-1","aria-label":"Catch up on signal",onClick:t[0]||(t[0]=(...A)=>o.catchUpOnSignal&&o.catchUpOnSignal(...A))},_hoisted_2$3)):createCommentVNode("",!0)]),_:1},8,["app","identity"])):createCommentVNode("",!0)]),_:1},8,["title"]),n.app.queries.signalHasCards(o.signal)?(openBlock(),createElementBlock("div",_hoisted_3$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.signalCards,A=>(openBlock(),createBlock(u,{key:`signal-${o.signal.id}-card-${A.title}`},createSlots({title:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("span",_hoisted_4$3,toDisplayString(A.title),1),createBaseVNode("div",null,[A.description?(openBlock(),createElementBlock("span",_hoisted_5$2,toDisplayString(A.description),1)):createCommentVNode("",!0)])])]),_:2},[A.content?{name:"content",fn:withCtx(()=>[createBaseVNode("div",{class:"prose",innerHTML:A.content},null,8,_hoisted_6$2)]),key:"0"}:void 0]),1024))),128))])):o.shownEntries.length?(openBlock(),createElementBlock("div",_hoisted_7$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.shownEntries,A=>(openBlock(),createBlock(f,{key:`signal-${o.signal.id}-entry-${A.id}`,app:n.app,identity:n.identity,entry:A},null,8,["app","identity","entry"]))),128))])):o.signalCards.length?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_8$2,[createVNode(u,null,{title:withCtx(()=>[_hoisted_9$1]),_:1})]))])}const Signal=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),_sfc_main$3={props:["app","identity","title"]},_hoisted_1$3={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},_hoisted_2$2=createBaseVNode("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),_hoisted_3$2={class:"fixed inset-0 z-10 overflow-y-auto"},_hoisted_4$2={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},_hoisted_5$1={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8"},_hoisted_6$1={class:"bg-white p-5 w-screen max-w-2xl"},_hoisted_7$1={class:"p-1 sm:p-3"},_hoisted_8$1={id:"modal-title",class:"mb-4 text-lg font-medium leading-6 text-gray-900"};function _sfc_render$3(e,t,n,r,s,o){return openBlock(),createElementBlock("div",_hoisted_1$3,[_hoisted_2$2,createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$1,[createBaseVNode("div",_hoisted_6$1,[createBaseVNode("div",_hoisted_7$1,[createBaseVNode("h3",_hoisted_8$1,toDisplayString(n.title),1),renderSlot(e.$slots,"content")])])])])])])}const Modal=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),_sfc_main$2={components:{Modal,PageCard},props:["app","identity","addon","buttonText","submitText"],data(){return{modalOpen:!1,newAdapterConfig:{}}},computed:{addonKey(){return this.addon.id||this.addon.type},hasFields(){return Object.keys(this.addon.fields).length}},watch:{modalOpen(){this.newAdapterConfig={id:this.addon.id,type:this.addon.type,data:Object.assign({},this.addon.data)}}},methods:{save(){this.app.commands.saveAddonForIdentity(this.identity,this.newAdapterConfig),this.modalOpen=!1,this.$router.push("/add-ons")},uninstall(){confirm("Are you sure you want to remove this addon?")&&(this.app.commands.removeAddonFromIdentity(this.identity,this.addon),this.modalOpen=!1)}}},_hoisted_1$2={class:"font-medium text-gray-900"},_hoisted_2$1=["innerHTML"],_hoisted_3$1={class:"mt-1 text-sm text-gray-500"},_hoisted_4$1=["aria-label"],_hoisted_5=["innerHTML"],_hoisted_6=["aria-label"],_hoisted_7=["innerHTML"],_hoisted_8=["for","innerHTML"],_hoisted_9={class:"mt-1"},_hoisted_10=["id","onUpdate:modelValue","aria-label","name","type","autocomplete","required","placeholder","min","max"],_hoisted_11={class:"sm:flex justify-between"},_hoisted_12={class:"sm:flex sm:flex-row-reverse"},_hoisted_13={key:0,type:"submit",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:ml-3 sm:w-auto"};function _sfc_render$2(e,t,n,r,s,o){const a=resolveComponent("Modal"),l=resolveComponent("PageCard");return openBlock(),createBlock(l,null,{title:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("p",_hoisted_1$2,[createTextVNode(toDisplayString(n.addon.title)+" ",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.app.queries.labelsForAddon(n.addon),c=>(openBlock(),createElementBlock("span",{key:`${n.addon.id}-label-${c}`,class:"inline-flex items-center ml-2 px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",innerHTML:c},null,8,_hoisted_2$1))),128))]),createBaseVNode("p",_hoisted_3$1,toDisplayString(n.addon.id?n.addon.preview:""),1)])]),meta:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("button",{"aria-label":`Configure ${o.addonKey}`,class:"block float-right rounded-md border border-transparent bg-indigo-100 -m-2 px-4 py-2 font-medium text-indigo-700 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm ml-1",onClick:t[0]||(t[0]=c=>s.modalOpen=!0)},toDisplayString(n.buttonText),9,_hoisted_4$1)])]),content:withCtx(()=>[createBaseVNode("div",{class:"prose",innerHTML:n.app.queries.sanitizeCopy(n.addon.description)},null,8,_hoisted_5),s.modalOpen?(openBlock(),createBlock(a,{key:0,app:n.app,identity:n.identity,title:`${n.addon.title}`},{content:withCtx(()=>[createBaseVNode("form",{class:"space-y-6","aria-label":`Save ${o.addonKey}`,onSubmit:t[3]||(t[3]=withModifiers((...c)=>o.save&&o.save(...c),["prevent"]))},[createBaseVNode("div",{class:"prose",innerHTML:n.app.queries.sanitizeCopy(n.addon.description)},null,8,_hoisted_7),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.addon.fields,(c,u)=>(openBlock(),createElementBlock("div",{key:`field-${u}`},[createBaseVNode("label",{for:`input-${u}`,class:"block text-sm font-medium text-gray-700",innerHTML:c.label},null,8,_hoisted_8),createBaseVNode("div",_hoisted_9,[withDirectives(createBaseVNode("input",{id:`input-${u}`,"onUpdate:modelValue":f=>s.newAdapterConfig.data[u]=f,"aria-label":`Configure ${o.addonKey} ${u}`,name:`input-${u}`,type:c.type,autocomplete:c.autocomplete,required:c.required,placeholder:c.placeholder,min:c.min,max:c.max,class:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500"},null,8,_hoisted_10),[[vModelDynamic,s.newAdapterConfig.data[u]]])])]))),128)),createBaseVNode("div",_hoisted_11,[createBaseVNode("div",null,[n.addon.id?(openBlock(),createElementBlock("a",{key:0,href:"javascript:;",class:"mb-4 sm:mb-0 inline-flex w-full justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 font-medium text-red-700 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",onClick:t[1]||(t[1]=(...c)=>o.uninstall&&o.uninstall(...c))}," Uninstall ")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12,[!n.addon.id||o.hasFields?(openBlock(),createElementBlock("button",_hoisted_13,toDisplayString(n.submitText),1)):createCommentVNode("",!0),createBaseVNode("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto",onClick:t[2]||(t[2]=c=>s.modalOpen=!1)}," Close ")])])],40,_hoisted_6)]),actions:withCtx(()=>[]),_:1},8,["app","identity","title"])):createCommentVNode("",!0)]),_:1})}const AddonEditor=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),_sfc_main$1={components:{AddonEditor,PageCard,PageTitle},props:["app","identity"],computed:{addons(){return this.app.queries.addonAdaptersForIdentity(this.identity)}}},_hoisted_1$1=createBaseVNode("p",null,"Customize your installed add-ons",-1),_hoisted_2={class:"flex"},_hoisted_3=createBaseVNode("p",{class:"font-medium text-gray-900"}," Nothing to see here! ",-1),_hoisted_4={class:"prose"};function _sfc_render$1(e,t,n,r,s,o){const a=resolveComponent("router-link"),l=resolveComponent("PageTitle"),c=resolveComponent("PageCard"),u=resolveComponent("AddonEditor");return openBlock(),createElementBlock("div",null,[createVNode(l,{title:"Installed Add-ons"},{description:withCtx(()=>[_hoisted_1$1]),meta:withCtx(()=>[createBaseVNode("div",_hoisted_2,[createVNode(a,{to:"/marketplace",class:"rounded-md border border-transparent bg-indigo-100 px-4 py-2 font-medium text-indigo-700 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm ml-1","aria-label":"Go to marketplace"},{default:withCtx(()=>[createTextVNode(" Find more add-ons ")]),_:1})])]),_:1}),o.addons.length?createCommentVNode("",!0):(openBlock(),createBlock(c,{key:0},{title:withCtx(()=>[_hoisted_3]),content:withCtx(()=>[createBaseVNode("div",_hoisted_4,[createBaseVNode("p",null,[createTextVNode(" You haven't installed any add-ons yet. Don't fret  add-ons are easy to install over in the "),createVNode(a,{to:"/marketplace",class:"inline-block"},{default:withCtx(()=>[createTextVNode(" marketplace ")]),_:1}),createTextVNode(". ")])])]),_:1})),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.addons,f=>(openBlock(),createBlock(u,{key:f.id,app:n.app,identity:n.identity,addon:f,"button-text":"Configure","submit-text":"Save configuration"},null,8,["app","identity","addon"]))),128))])}const Addons=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main={components:{AddonEditor,PageCard,PageTitle},props:["app","identity"],computed:{addons(){return this.app.queries.availableAddonAdaptersForIdentity(this.identity)}}},_hoisted_1=createBaseVNode("p",null,"Find customizable add-ons to supercharge your experience",-1);function _sfc_render(e,t,n,r,s,o){const a=resolveComponent("PageTitle"),l=resolveComponent("AddonEditor");return openBlock(),createElementBlock("div",null,[createVNode(a,{title:"Marketplace"},{description:withCtx(()=>[_hoisted_1]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.addons,c=>(openBlock(),createBlock(l,{key:c.id,app:n.app,identity:n.identity,addon:c,"button-text":"Install","submit-text":"Install"},null,8,["app","identity","addon"]))),128))])}const Marketplace=_export_sfc(_sfc_main,[["render",_sfc_render]]),routes=[{path:"/settings",component:Settings,props:!0},{path:"/help",component:Help,props:!0},{path:"/marketplace",component:Marketplace,props:!0},{path:"/following",component:Following,props:!0},{path:"/signals/:signal",component:Signal,props:!0},{path:"/add-ons",component:Addons,props:!0},{path:"/:feedUrl(.*)",component:Feed,props:!0},{path:"/",component:Home,props:!0}],router=createRouter({history:typeof window<"u"?createWebHistory():createMemoryHistory(),scrollBehavior(){return{top:0,behavior:"smooth"}},routes});createApp(App).use(router).mount("#app");
